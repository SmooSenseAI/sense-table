{"version":3,"file":"static/chunks/e31c3f77-051765f9ad78f2ea.js","mappings":"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","sources":["webpack://_N_E/./node_modules/.pnpm/flexlayout-react@0.8.17_react-dom@18.3.1_react@18.2.0__react@18.2.0/node_modules/flexlayout-react/dist/index.js"],"sourcesContent":["/**\n * flexlayout-react\n * @version 0.8.17\n */\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nimport { jsx, jsxs, Fragment } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport { useRef, useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { createRoot } from \"react-dom/client\";\nconst _Orientation = class _Orientation {\n  /** @internal */\n  constructor(name) {\n    /** @internal */\n    __publicField(this, \"_name\");\n    this._name = name;\n  }\n  static flip(from) {\n    if (from === _Orientation.HORZ) {\n      return _Orientation.VERT;\n    } else {\n      return _Orientation.HORZ;\n    }\n  }\n  getName() {\n    return this._name;\n  }\n  toString() {\n    return this._name;\n  }\n};\n__publicField(_Orientation, \"HORZ\", new _Orientation(\"horz\"));\n__publicField(_Orientation, \"VERT\", new _Orientation(\"vert\"));\nlet Orientation = _Orientation;\nclass Rect {\n  constructor(x, y, width, height) {\n    __publicField(this, \"x\");\n    __publicField(this, \"y\");\n    __publicField(this, \"width\");\n    __publicField(this, \"height\");\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n  }\n  static empty() {\n    return new Rect(0, 0, 0, 0);\n  }\n  static fromJson(json) {\n    return new Rect(json.x, json.y, json.width, json.height);\n  }\n  toJson() {\n    return { x: this.x, y: this.y, width: this.width, height: this.height };\n  }\n  snap(round) {\n    this.x = Math.round(this.x / round) * round;\n    this.y = Math.round(this.y / round) * round;\n    this.width = Math.round(this.width / round) * round;\n    this.height = Math.round(this.height / round) * round;\n  }\n  static getBoundingClientRect(element) {\n    const { x, y, width, height } = element.getBoundingClientRect();\n    return new Rect(x, y, width, height);\n  }\n  static getContentRect(element) {\n    const rect = element.getBoundingClientRect();\n    const style2 = window.getComputedStyle(element);\n    const paddingLeft = parseFloat(style2.paddingLeft);\n    const paddingRight = parseFloat(style2.paddingRight);\n    const paddingTop = parseFloat(style2.paddingTop);\n    const paddingBottom = parseFloat(style2.paddingBottom);\n    const borderLeftWidth = parseFloat(style2.borderLeftWidth);\n    const borderRightWidth = parseFloat(style2.borderRightWidth);\n    const borderTopWidth = parseFloat(style2.borderTopWidth);\n    const borderBottomWidth = parseFloat(style2.borderBottomWidth);\n    const contentWidth = rect.width - borderLeftWidth - paddingLeft - paddingRight - borderRightWidth;\n    const contentHeight = rect.height - borderTopWidth - paddingTop - paddingBottom - borderBottomWidth;\n    return new Rect(\n      rect.left + borderLeftWidth + paddingLeft,\n      rect.top + borderTopWidth + paddingTop,\n      contentWidth,\n      contentHeight\n    );\n  }\n  static fromDomRect(domRect) {\n    return new Rect(domRect.x, domRect.y, domRect.width, domRect.height);\n  }\n  relativeTo(r) {\n    return new Rect(this.x - r.x, this.y - r.y, this.width, this.height);\n  }\n  clone() {\n    return new Rect(this.x, this.y, this.width, this.height);\n  }\n  equals(rect) {\n    return this.x === (rect == null ? void 0 : rect.x) && this.y === (rect == null ? void 0 : rect.y) && this.width === (rect == null ? void 0 : rect.width) && this.height === (rect == null ? void 0 : rect.height);\n  }\n  equalSize(rect) {\n    return this.width === (rect == null ? void 0 : rect.width) && this.height === (rect == null ? void 0 : rect.height);\n  }\n  getBottom() {\n    return this.y + this.height;\n  }\n  getRight() {\n    return this.x + this.width;\n  }\n  get bottom() {\n    return this.y + this.height;\n  }\n  get right() {\n    return this.x + this.width;\n  }\n  getCenter() {\n    return { x: this.x + this.width / 2, y: this.y + this.height / 2 };\n  }\n  positionElement(element, position) {\n    this.styleWithPosition(element.style, position);\n  }\n  styleWithPosition(style2, position = \"absolute\") {\n    style2.left = this.x + \"px\";\n    style2.top = this.y + \"px\";\n    style2.width = Math.max(0, this.width) + \"px\";\n    style2.height = Math.max(0, this.height) + \"px\";\n    style2.position = position;\n    return style2;\n  }\n  contains(x, y) {\n    if (this.x <= x && x <= this.getRight() && this.y <= y && y <= this.getBottom()) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  removeInsets(insets) {\n    return new Rect(this.x + insets.left, this.y + insets.top, Math.max(0, this.width - insets.left - insets.right), Math.max(0, this.height - insets.top - insets.bottom));\n  }\n  centerInRect(outerRect) {\n    this.x = (outerRect.width - this.width) / 2;\n    this.y = (outerRect.height - this.height) / 2;\n  }\n  /** @internal */\n  _getSize(orientation) {\n    let prefSize = this.width;\n    if (orientation === Orientation.VERT) {\n      prefSize = this.height;\n    }\n    return prefSize;\n  }\n  toString() {\n    return \"(Rect: x=\" + this.x + \", y=\" + this.y + \", width=\" + this.width + \", height=\" + this.height + \")\";\n  }\n}\nconst _DockLocation = class _DockLocation {\n  /** @internal */\n  constructor(_name, _orientation, _indexPlus) {\n    /** @internal */\n    __publicField(this, \"name\");\n    /** @internal */\n    __publicField(this, \"orientation\");\n    /** @internal */\n    __publicField(this, \"indexPlus\");\n    this.name = _name;\n    this.orientation = _orientation;\n    this.indexPlus = _indexPlus;\n    _DockLocation.values.set(this.name, this);\n  }\n  /** @internal */\n  static getByName(name) {\n    return _DockLocation.values.get(name);\n  }\n  /** @internal */\n  static getLocation(rect, x, y) {\n    x = (x - rect.x) / rect.width;\n    y = (y - rect.y) / rect.height;\n    if (x >= 0.25 && x < 0.75 && y >= 0.25 && y < 0.75) {\n      return _DockLocation.CENTER;\n    }\n    const bl = y >= x;\n    const br = y >= 1 - x;\n    if (bl) {\n      return br ? _DockLocation.BOTTOM : _DockLocation.LEFT;\n    } else {\n      return br ? _DockLocation.RIGHT : _DockLocation.TOP;\n    }\n  }\n  getName() {\n    return this.name;\n  }\n  getOrientation() {\n    return this.orientation;\n  }\n  /** @internal */\n  getDockRect(r) {\n    if (this === _DockLocation.TOP) {\n      return new Rect(r.x, r.y, r.width, r.height / 2);\n    } else if (this === _DockLocation.BOTTOM) {\n      return new Rect(r.x, r.getBottom() - r.height / 2, r.width, r.height / 2);\n    }\n    if (this === _DockLocation.LEFT) {\n      return new Rect(r.x, r.y, r.width / 2, r.height);\n    } else if (this === _DockLocation.RIGHT) {\n      return new Rect(r.getRight() - r.width / 2, r.y, r.width / 2, r.height);\n    } else {\n      return r.clone();\n    }\n  }\n  /** @internal */\n  split(rect, size) {\n    if (this === _DockLocation.TOP) {\n      const r1 = new Rect(rect.x, rect.y, rect.width, size);\n      const r2 = new Rect(rect.x, rect.y + size, rect.width, rect.height - size);\n      return { start: r1, end: r2 };\n    } else if (this === _DockLocation.LEFT) {\n      const r1 = new Rect(rect.x, rect.y, size, rect.height);\n      const r2 = new Rect(rect.x + size, rect.y, rect.width - size, rect.height);\n      return { start: r1, end: r2 };\n    }\n    if (this === _DockLocation.RIGHT) {\n      const r1 = new Rect(rect.getRight() - size, rect.y, size, rect.height);\n      const r2 = new Rect(rect.x, rect.y, rect.width - size, rect.height);\n      return { start: r1, end: r2 };\n    } else {\n      const r1 = new Rect(rect.x, rect.getBottom() - size, rect.width, size);\n      const r2 = new Rect(rect.x, rect.y, rect.width, rect.height - size);\n      return { start: r1, end: r2 };\n    }\n  }\n  /** @internal */\n  reflect() {\n    if (this === _DockLocation.TOP) {\n      return _DockLocation.BOTTOM;\n    } else if (this === _DockLocation.LEFT) {\n      return _DockLocation.RIGHT;\n    }\n    if (this === _DockLocation.RIGHT) {\n      return _DockLocation.LEFT;\n    } else {\n      return _DockLocation.TOP;\n    }\n  }\n  toString() {\n    return \"(DockLocation: name=\" + this.name + \", orientation=\" + this.orientation + \")\";\n  }\n};\n__publicField(_DockLocation, \"values\", /* @__PURE__ */ new Map());\n__publicField(_DockLocation, \"TOP\", new _DockLocation(\"top\", Orientation.VERT, 0));\n__publicField(_DockLocation, \"BOTTOM\", new _DockLocation(\"bottom\", Orientation.VERT, 1));\n__publicField(_DockLocation, \"LEFT\", new _DockLocation(\"left\", Orientation.HORZ, 0));\n__publicField(_DockLocation, \"RIGHT\", new _DockLocation(\"right\", Orientation.HORZ, 1));\n__publicField(_DockLocation, \"CENTER\", new _DockLocation(\"center\", Orientation.VERT, 0));\nlet DockLocation = _DockLocation;\nvar I18nLabel = /* @__PURE__ */ ((I18nLabel2) => {\n  I18nLabel2[\"Close_Tab\"] = \"Close\";\n  I18nLabel2[\"Close_Tabset\"] = \"Close tab set\";\n  I18nLabel2[\"Active_Tabset\"] = \"Active tab set\";\n  I18nLabel2[\"Move_Tabset\"] = \"Move tab set\";\n  I18nLabel2[\"Move_Tabs\"] = \"Move tabs(?)\";\n  I18nLabel2[\"Maximize\"] = \"Maximize tab set\";\n  I18nLabel2[\"Restore\"] = \"Restore tab set\";\n  I18nLabel2[\"Popout_Tab\"] = \"Popout selected tab\";\n  I18nLabel2[\"Overflow_Menu_Tooltip\"] = \"Hidden tabs\";\n  I18nLabel2[\"Error_rendering_component\"] = \"Error rendering component\";\n  I18nLabel2[\"Error_rendering_component_retry\"] = \"Retry\";\n  return I18nLabel2;\n})(I18nLabel || {});\nvar CLASSES = /* @__PURE__ */ ((CLASSES2) => {\n  CLASSES2[\"FLEXLAYOUT__BORDER\"] = \"flexlayout__border\";\n  CLASSES2[\"FLEXLAYOUT__BORDER_\"] = \"flexlayout__border_\";\n  CLASSES2[\"FLEXLAYOUT__BORDER_TAB_CONTENTS\"] = \"flexlayout__border_tab_contents\";\n  CLASSES2[\"FLEXLAYOUT__BORDER_BUTTON\"] = \"flexlayout__border_button\";\n  CLASSES2[\"FLEXLAYOUT__BORDER_BUTTON_\"] = \"flexlayout__border_button_\";\n  CLASSES2[\"FLEXLAYOUT__BORDER_BUTTON_CONTENT\"] = \"flexlayout__border_button_content\";\n  CLASSES2[\"FLEXLAYOUT__BORDER_BUTTON_LEADING\"] = \"flexlayout__border_button_leading\";\n  CLASSES2[\"FLEXLAYOUT__BORDER_BUTTON_TRAILING\"] = \"flexlayout__border_button_trailing\";\n  CLASSES2[\"FLEXLAYOUT__BORDER_BUTTON__SELECTED\"] = \"flexlayout__border_button--selected\";\n  CLASSES2[\"FLEXLAYOUT__BORDER_BUTTON__UNSELECTED\"] = \"flexlayout__border_button--unselected\";\n  CLASSES2[\"FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW\"] = \"flexlayout__border_toolbar_button_overflow\";\n  CLASSES2[\"FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW_\"] = \"flexlayout__border_toolbar_button_overflow_\";\n  CLASSES2[\"FLEXLAYOUT__BORDER_INNER\"] = \"flexlayout__border_inner\";\n  CLASSES2[\"FLEXLAYOUT__BORDER_INNER_\"] = \"flexlayout__border_inner_\";\n  CLASSES2[\"FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER\"] = \"flexlayout__border_inner_tab_container\";\n  CLASSES2[\"FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER_\"] = \"flexlayout__border_inner_tab_container_\";\n  CLASSES2[\"FLEXLAYOUT__BORDER_TAB_DIVIDER\"] = \"flexlayout__border_tab_divider\";\n  CLASSES2[\"FLEXLAYOUT__BORDER_LEADING\"] = \"flexlayout__border_leading\";\n  CLASSES2[\"FLEXLAYOUT__BORDER_SIZER\"] = \"flexlayout__border_sizer\";\n  CLASSES2[\"FLEXLAYOUT__BORDER_TOOLBAR\"] = \"flexlayout__border_toolbar\";\n  CLASSES2[\"FLEXLAYOUT__BORDER_TOOLBAR_\"] = \"flexlayout__border_toolbar_\";\n  CLASSES2[\"FLEXLAYOUT__BORDER_TOOLBAR_BUTTON\"] = \"flexlayout__border_toolbar_button\";\n  CLASSES2[\"FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_FLOAT\"] = \"flexlayout__border_toolbar_button-float\";\n  CLASSES2[\"FLEXLAYOUT__DRAG_RECT\"] = \"flexlayout__drag_rect\";\n  CLASSES2[\"FLEXLAYOUT__EDGE_RECT\"] = \"flexlayout__edge_rect\";\n  CLASSES2[\"FLEXLAYOUT__EDGE_RECT_TOP\"] = \"flexlayout__edge_rect_top\";\n  CLASSES2[\"FLEXLAYOUT__EDGE_RECT_LEFT\"] = \"flexlayout__edge_rect_left\";\n  CLASSES2[\"FLEXLAYOUT__EDGE_RECT_BOTTOM\"] = \"flexlayout__edge_rect_bottom\";\n  CLASSES2[\"FLEXLAYOUT__EDGE_RECT_RIGHT\"] = \"flexlayout__edge_rect_right\";\n  CLASSES2[\"FLEXLAYOUT__ERROR_BOUNDARY_CONTAINER\"] = \"flexlayout__error_boundary_container\";\n  CLASSES2[\"FLEXLAYOUT__ERROR_BOUNDARY_CONTENT\"] = \"flexlayout__error_boundary_content\";\n  CLASSES2[\"FLEXLAYOUT__FLOATING_WINDOW_CONTENT\"] = \"flexlayout__floating_window_content\";\n  CLASSES2[\"FLEXLAYOUT__LAYOUT\"] = \"flexlayout__layout\";\n  CLASSES2[\"FLEXLAYOUT__LAYOUT_MOVEABLES\"] = \"flexlayout__layout_moveables\";\n  CLASSES2[\"FLEXLAYOUT__LAYOUT_OVERLAY\"] = \"flexlayout__layout_overlay\";\n  CLASSES2[\"FLEXLAYOUT__LAYOUT_TAB_STAMPS\"] = \"flexlayout__layout_tab_stamps\";\n  CLASSES2[\"FLEXLAYOUT__LAYOUT_MAIN\"] = \"flexlayout__layout_main\";\n  CLASSES2[\"FLEXLAYOUT__LAYOUT_BORDER_CONTAINER\"] = \"flexlayout__layout_border_container\";\n  CLASSES2[\"FLEXLAYOUT__LAYOUT_BORDER_CONTAINER_INNER\"] = \"flexlayout__layout_border_container_inner\";\n  CLASSES2[\"FLEXLAYOUT__OUTLINE_RECT\"] = \"flexlayout__outline_rect\";\n  CLASSES2[\"FLEXLAYOUT__OUTLINE_RECT_EDGE\"] = \"flexlayout__outline_rect_edge\";\n  CLASSES2[\"FLEXLAYOUT__SPLITTER\"] = \"flexlayout__splitter\";\n  CLASSES2[\"FLEXLAYOUT__SPLITTER_EXTRA\"] = \"flexlayout__splitter_extra\";\n  CLASSES2[\"FLEXLAYOUT__SPLITTER_\"] = \"flexlayout__splitter_\";\n  CLASSES2[\"FLEXLAYOUT__SPLITTER_BORDER\"] = \"flexlayout__splitter_border\";\n  CLASSES2[\"FLEXLAYOUT__SPLITTER_DRAG\"] = \"flexlayout__splitter_drag\";\n  CLASSES2[\"FLEXLAYOUT__SPLITTER_HANDLE\"] = \"flexlayout__splitter_handle\";\n  CLASSES2[\"FLEXLAYOUT__SPLITTER_HANDLE_HORZ\"] = \"flexlayout__splitter_handle_horz\";\n  CLASSES2[\"FLEXLAYOUT__SPLITTER_HANDLE_VERT\"] = \"flexlayout__splitter_handle_vert\";\n  CLASSES2[\"FLEXLAYOUT__ROW\"] = \"flexlayout__row\";\n  CLASSES2[\"FLEXLAYOUT__TAB\"] = \"flexlayout__tab\";\n  CLASSES2[\"FLEXLAYOUT__TAB_POSITION\"] = \"flexlayout__tab_position\";\n  CLASSES2[\"FLEXLAYOUT__TAB_MOVEABLE\"] = \"flexlayout__tab_moveable\";\n  CLASSES2[\"FLEXLAYOUT__TAB_OVERLAY\"] = \"flexlayout__tab_overlay\";\n  CLASSES2[\"FLEXLAYOUT__TABSET\"] = \"flexlayout__tabset\";\n  CLASSES2[\"FLEXLAYOUT__TABSET_CONTAINER\"] = \"flexlayout__tabset_container\";\n  CLASSES2[\"FLEXLAYOUT__TABSET_HEADER\"] = \"flexlayout__tabset_header\";\n  CLASSES2[\"FLEXLAYOUT__TABSET_HEADER_CONTENT\"] = \"flexlayout__tabset_header_content\";\n  CLASSES2[\"FLEXLAYOUT__TABSET_MAXIMIZED\"] = \"flexlayout__tabset-maximized\";\n  CLASSES2[\"FLEXLAYOUT__TABSET_SELECTED\"] = \"flexlayout__tabset-selected\";\n  CLASSES2[\"FLEXLAYOUT__TABSET_TAB_DIVIDER\"] = \"flexlayout__tabset_tab_divider\";\n  CLASSES2[\"FLEXLAYOUT__TABSET_CONTENT\"] = \"flexlayout__tabset_content\";\n  CLASSES2[\"FLEXLAYOUT__TABSET_TABBAR_INNER\"] = \"flexlayout__tabset_tabbar_inner\";\n  CLASSES2[\"FLEXLAYOUT__TABSET_TABBAR_INNER_\"] = \"flexlayout__tabset_tabbar_inner_\";\n  CLASSES2[\"FLEXLAYOUT__TABSET_LEADING\"] = \"flexlayout__tabset_leading\";\n  CLASSES2[\"FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER\"] = \"flexlayout__tabset_tabbar_inner_tab_container\";\n  CLASSES2[\"FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER_\"] = \"flexlayout__tabset_tabbar_inner_tab_container_\";\n  CLASSES2[\"FLEXLAYOUT__TABSET_TABBAR_OUTER\"] = \"flexlayout__tabset_tabbar_outer\";\n  CLASSES2[\"FLEXLAYOUT__TABSET_TABBAR_OUTER_\"] = \"flexlayout__tabset_tabbar_outer_\";\n  CLASSES2[\"FLEXLAYOUT__TAB_BORDER\"] = \"flexlayout__tab_border\";\n  CLASSES2[\"FLEXLAYOUT__TAB_BORDER_\"] = \"flexlayout__tab_border_\";\n  CLASSES2[\"FLEXLAYOUT__TAB_BUTTON\"] = \"flexlayout__tab_button\";\n  CLASSES2[\"FLEXLAYOUT__TAB_BUTTON_STRETCH\"] = \"flexlayout__tab_button_stretch\";\n  CLASSES2[\"FLEXLAYOUT__TAB_BUTTON_CONTENT\"] = \"flexlayout__tab_button_content\";\n  CLASSES2[\"FLEXLAYOUT__TAB_BUTTON_LEADING\"] = \"flexlayout__tab_button_leading\";\n  CLASSES2[\"FLEXLAYOUT__TAB_BUTTON_OVERFLOW\"] = \"flexlayout__tab_button_overflow\";\n  CLASSES2[\"FLEXLAYOUT__TAB_BUTTON_OVERFLOW_COUNT\"] = \"flexlayout__tab_button_overflow_count\";\n  CLASSES2[\"FLEXLAYOUT__TAB_BUTTON_TEXTBOX\"] = \"flexlayout__tab_button_textbox\";\n  CLASSES2[\"FLEXLAYOUT__TAB_BUTTON_TRAILING\"] = \"flexlayout__tab_button_trailing\";\n  CLASSES2[\"FLEXLAYOUT__TAB_BUTTON_STAMP\"] = \"flexlayout__tab_button_stamp\";\n  CLASSES2[\"FLEXLAYOUT__TAB_TOOLBAR\"] = \"flexlayout__tab_toolbar\";\n  CLASSES2[\"FLEXLAYOUT__TAB_TOOLBAR_BUTTON\"] = \"flexlayout__tab_toolbar_button\";\n  CLASSES2[\"FLEXLAYOUT__TAB_TOOLBAR_ICON\"] = \"flexlayout__tab_toolbar_icon\";\n  CLASSES2[\"FLEXLAYOUT__TAB_TOOLBAR_BUTTON_\"] = \"flexlayout__tab_toolbar_button-\";\n  CLASSES2[\"FLEXLAYOUT__TAB_TOOLBAR_BUTTON_FLOAT\"] = \"flexlayout__tab_toolbar_button-float\";\n  CLASSES2[\"FLEXLAYOUT__TAB_TOOLBAR_STICKY_BUTTONS_CONTAINER\"] = \"flexlayout__tab_toolbar_sticky_buttons_container\";\n  CLASSES2[\"FLEXLAYOUT__TAB_TOOLBAR_BUTTON_CLOSE\"] = \"flexlayout__tab_toolbar_button-close\";\n  CLASSES2[\"FLEXLAYOUT__POPUP_MENU_CONTAINER\"] = \"flexlayout__popup_menu_container\";\n  CLASSES2[\"FLEXLAYOUT__POPUP_MENU_ITEM\"] = \"flexlayout__popup_menu_item\";\n  CLASSES2[\"FLEXLAYOUT__POPUP_MENU_ITEM__SELECTED\"] = \"flexlayout__popup_menu_item--selected\";\n  CLASSES2[\"FLEXLAYOUT__POPUP_MENU\"] = \"flexlayout__popup_menu\";\n  CLASSES2[\"FLEXLAYOUT__MINI_SCROLLBAR\"] = \"flexlayout__mini_scrollbar\";\n  CLASSES2[\"FLEXLAYOUT__MINI_SCROLLBAR_CONTAINER\"] = \"flexlayout__mini_scrollbar_container\";\n  return CLASSES2;\n})(CLASSES || {});\nclass Action {\n  constructor(type, data) {\n    __publicField(this, \"type\");\n    __publicField(this, \"data\");\n    this.type = type;\n    this.data = data;\n  }\n}\nconst _Actions = class _Actions {\n  /**\n   * Adds a tab node to the given tabset node\n   * @param json the json for the new tab node e.g {type:\"tab\", component:\"table\"}\n   * @param toNodeId the new tab node will be added to the tabset with this node id\n   * @param location the location where the new tab will be added, one of the DockLocation enum values.\n   * @param index for docking to the center this value is the index of the tab, use -1 to add to the end.\n   * @param select (optional) whether to select the new tab, overriding autoSelectTab\n   * @returns {Action} the action\n   */\n  static addNode(json, toNodeId, location, index, select) {\n    return new Action(_Actions.ADD_NODE, {\n      json,\n      toNode: toNodeId,\n      location: location.getName(),\n      index,\n      select\n    });\n  }\n  /**\n   * Moves a node (tab or tabset) from one location to another\n   * @param fromNodeId the id of the node to move\n   * @param toNodeId the id of the node to receive the moved node\n   * @param location the location where the moved node will be added, one of the DockLocation enum values.\n   * @param index for docking to the center this value is the index of the tab, use -1 to add to the end.\n   * @param select (optional) whether to select the moved tab(s) in new tabset, overriding autoSelectTab\n   * @returns {Action} the action\n   */\n  static moveNode(fromNodeId, toNodeId, location, index, select) {\n    return new Action(_Actions.MOVE_NODE, {\n      fromNode: fromNodeId,\n      toNode: toNodeId,\n      location: location.getName(),\n      index,\n      select\n    });\n  }\n  /**\n   * Deletes a tab node from the layout\n   * @param tabNodeId the id of the tab node to delete\n   * @returns {Action} the action\n   */\n  static deleteTab(tabNodeId) {\n    return new Action(_Actions.DELETE_TAB, { node: tabNodeId });\n  }\n  /**\n   * Deletes a tabset node and all it's child tab nodes from the layout\n   * @param tabsetNodeId the id of the tabset node to delete\n   * @returns {Action} the action\n   */\n  static deleteTabset(tabsetNodeId) {\n    return new Action(_Actions.DELETE_TABSET, { node: tabsetNodeId });\n  }\n  /**\n   * Change the given nodes tab text\n   * @param tabNodeId the id of the node to rename\n   * @param text the test of the tab\n   * @returns {Action} the action\n   */\n  static renameTab(tabNodeId, text) {\n    return new Action(_Actions.RENAME_TAB, { node: tabNodeId, text });\n  }\n  /**\n   * Selects the given tab in its parent tabset\n   * @param tabNodeId the id of the node to set selected\n   * @returns {Action} the action\n   */\n  static selectTab(tabNodeId) {\n    return new Action(_Actions.SELECT_TAB, { tabNode: tabNodeId });\n  }\n  /**\n   * Set the given tabset node as the active tabset\n   * @param tabsetNodeId the id of the tabset node to set as active\n   * @returns {Action} the action\n   */\n  static setActiveTabset(tabsetNodeId, windowId) {\n    return new Action(_Actions.SET_ACTIVE_TABSET, { tabsetNode: tabsetNodeId, windowId });\n  }\n  /**\n   * Adjust the weights of a row, used when the splitter is moved\n   * @param nodeId the row node whose childrens weights are being adjusted\n   * @param weights an array of weights to be applied to the children \n   * @returns {Action} the action\n   */\n  static adjustWeights(nodeId, weights) {\n    return new Action(_Actions.ADJUST_WEIGHTS, { nodeId, weights });\n  }\n  static adjustBorderSplit(nodeId, pos) {\n    return new Action(_Actions.ADJUST_BORDER_SPLIT, { node: nodeId, pos });\n  }\n  /**\n   * Maximizes the given tabset\n   * @param tabsetNodeId the id of the tabset to maximize\n   * @returns {Action} the action\n   */\n  static maximizeToggle(tabsetNodeId, windowId) {\n    return new Action(_Actions.MAXIMIZE_TOGGLE, { node: tabsetNodeId, windowId });\n  }\n  /**\n   * Updates the global model jsone attributes\n   * @param attributes the json for the model attributes to update (merge into the existing attributes)\n   * @returns {Action} the action\n   */\n  static updateModelAttributes(attributes) {\n    return new Action(_Actions.UPDATE_MODEL_ATTRIBUTES, { json: attributes });\n  }\n  /**\n   * Updates the given nodes json attributes\n   * @param nodeId the id of the node to update\n   * @param attributes the json attributes to update (merge with the existing attributes)\n   * @returns {Action} the action\n   */\n  static updateNodeAttributes(nodeId, attributes) {\n    return new Action(_Actions.UPDATE_NODE_ATTRIBUTES, { node: nodeId, json: attributes });\n  }\n  /**\n   * Pops out the given tab node into a new browser window\n   * @param nodeId the tab node to popout\n   * @returns \n   */\n  static popoutTab(nodeId) {\n    return new Action(_Actions.POPOUT_TAB, { node: nodeId });\n  }\n  /**\n   * Pops out the given tab set node into a new browser window\n   * @param nodeId the tab set node to popout\n   * @returns \n   */\n  static popoutTabset(nodeId) {\n    return new Action(_Actions.POPOUT_TABSET, { node: nodeId });\n  }\n  /**\n   * Closes the popout window\n   * @param windowId the id of the popout window to close\n   * @returns \n   */\n  static closeWindow(windowId) {\n    return new Action(_Actions.CLOSE_WINDOW, { windowId });\n  }\n  /**\n   * Creates a new empty popout window with the given layout\n   * @param layout the json layout for the new window\n   * @param rect the window rectangle in screen coordinates\n   * @returns \n   */\n  static createWindow(layout, rect) {\n    return new Action(_Actions.CREATE_WINDOW, { layout, rect });\n  }\n};\n__publicField(_Actions, \"ADD_NODE\", \"FlexLayout_AddNode\");\n__publicField(_Actions, \"MOVE_NODE\", \"FlexLayout_MoveNode\");\n__publicField(_Actions, \"DELETE_TAB\", \"FlexLayout_DeleteTab\");\n__publicField(_Actions, \"DELETE_TABSET\", \"FlexLayout_DeleteTabset\");\n__publicField(_Actions, \"RENAME_TAB\", \"FlexLayout_RenameTab\");\n__publicField(_Actions, \"SELECT_TAB\", \"FlexLayout_SelectTab\");\n__publicField(_Actions, \"SET_ACTIVE_TABSET\", \"FlexLayout_SetActiveTabset\");\n__publicField(_Actions, \"ADJUST_WEIGHTS\", \"FlexLayout_AdjustWeights\");\n__publicField(_Actions, \"ADJUST_BORDER_SPLIT\", \"FlexLayout_AdjustBorderSplit\");\n__publicField(_Actions, \"MAXIMIZE_TOGGLE\", \"FlexLayout_MaximizeToggle\");\n__publicField(_Actions, \"UPDATE_MODEL_ATTRIBUTES\", \"FlexLayout_UpdateModelAttributes\");\n__publicField(_Actions, \"UPDATE_NODE_ATTRIBUTES\", \"FlexLayout_UpdateNodeAttributes\");\n__publicField(_Actions, \"POPOUT_TAB\", \"FlexLayout_PopoutTab\");\n__publicField(_Actions, \"POPOUT_TABSET\", \"FlexLayout_PopoutTabset\");\n__publicField(_Actions, \"CLOSE_WINDOW\", \"FlexLayout_CloseWindow\");\n__publicField(_Actions, \"CREATE_WINDOW\", \"FlexLayout_CreateWindow\");\nlet Actions = _Actions;\nclass Attribute {\n  constructor(name, modelName, defaultValue, alwaysWriteJson) {\n    __publicField(this, \"name\");\n    __publicField(this, \"alias\");\n    __publicField(this, \"modelName\");\n    __publicField(this, \"pairedAttr\");\n    __publicField(this, \"pairedType\");\n    __publicField(this, \"defaultValue\");\n    __publicField(this, \"alwaysWriteJson\");\n    __publicField(this, \"type\");\n    __publicField(this, \"required\");\n    __publicField(this, \"fixed\");\n    __publicField(this, \"description\");\n    this.name = name;\n    this.alias = void 0;\n    this.modelName = modelName;\n    this.defaultValue = defaultValue;\n    this.alwaysWriteJson = alwaysWriteJson;\n    this.required = false;\n    this.fixed = false;\n    this.type = \"any\";\n  }\n  setType(value) {\n    this.type = value;\n    return this;\n  }\n  setAlias(value) {\n    this.alias = value;\n    return this;\n  }\n  setDescription(value) {\n    this.description = value;\n  }\n  setRequired() {\n    this.required = true;\n    return this;\n  }\n  setFixed() {\n    this.fixed = true;\n    return this;\n  }\n  // sets modelAttr for nodes, and nodeAttr for model\n  setpairedAttr(value) {\n    this.pairedAttr = value;\n  }\n  setPairedType(value) {\n    this.pairedType = value;\n  }\n}\n__publicField(Attribute, \"NUMBER\", \"number\");\n__publicField(Attribute, \"STRING\", \"string\");\n__publicField(Attribute, \"BOOLEAN\", \"boolean\");\nclass AttributeDefinitions {\n  constructor() {\n    __publicField(this, \"attributes\");\n    __publicField(this, \"nameToAttribute\");\n    this.attributes = [];\n    this.nameToAttribute = /* @__PURE__ */ new Map();\n  }\n  addWithAll(name, modelName, defaultValue, alwaysWriteJson) {\n    const attr = new Attribute(name, modelName, defaultValue, alwaysWriteJson);\n    this.attributes.push(attr);\n    this.nameToAttribute.set(name, attr);\n    return attr;\n  }\n  addInherited(name, modelName) {\n    return this.addWithAll(name, modelName, void 0, false);\n  }\n  add(name, defaultValue, alwaysWriteJson) {\n    return this.addWithAll(name, void 0, defaultValue, alwaysWriteJson);\n  }\n  getAttributes() {\n    return this.attributes;\n  }\n  getModelName(name) {\n    const conversion = this.nameToAttribute.get(name);\n    if (conversion !== void 0) {\n      return conversion.modelName;\n    }\n    return void 0;\n  }\n  toJson(jsonObj, obj) {\n    for (const attr of this.attributes) {\n      const fromValue = obj[attr.name];\n      if (attr.alwaysWriteJson || fromValue !== attr.defaultValue) {\n        jsonObj[attr.name] = fromValue;\n      }\n    }\n  }\n  fromJson(jsonObj, obj) {\n    for (const attr of this.attributes) {\n      let fromValue = jsonObj[attr.name];\n      if (fromValue === void 0 && attr.alias) {\n        fromValue = jsonObj[attr.alias];\n      }\n      if (fromValue === void 0) {\n        obj[attr.name] = attr.defaultValue;\n      } else {\n        obj[attr.name] = fromValue;\n      }\n    }\n  }\n  update(jsonObj, obj) {\n    for (const attr of this.attributes) {\n      if (Object.prototype.hasOwnProperty.call(jsonObj, attr.name)) {\n        const fromValue = jsonObj[attr.name];\n        if (fromValue === void 0) {\n          delete obj[attr.name];\n        } else {\n          obj[attr.name] = fromValue;\n        }\n      }\n    }\n  }\n  setDefaults(obj) {\n    for (const attr of this.attributes) {\n      obj[attr.name] = attr.defaultValue;\n    }\n  }\n  pairAttributes(type, childAttributes) {\n    for (const attr of childAttributes.attributes) {\n      if (attr.modelName && this.nameToAttribute.has(attr.modelName)) {\n        const pairedAttr = this.nameToAttribute.get(attr.modelName);\n        pairedAttr.setpairedAttr(attr);\n        attr.setpairedAttr(pairedAttr);\n        pairedAttr.setPairedType(type);\n      }\n    }\n  }\n  toTypescriptInterface(name, parentAttributes) {\n    var _a, _b;\n    const lines = [];\n    const sorted = this.attributes.sort((a, b) => a.name.localeCompare(b.name));\n    lines.push(\"export interface I\" + name + \"Attributes {\");\n    for (let i = 0; i < sorted.length; i++) {\n      const c = sorted[i];\n      let type = c.type;\n      let defaultValue = void 0;\n      let attr = c;\n      let inherited = void 0;\n      if (attr.defaultValue !== void 0) {\n        defaultValue = attr.defaultValue;\n      } else if (attr.modelName !== void 0 && parentAttributes !== void 0 && parentAttributes.nameToAttribute.get(attr.modelName) !== void 0) {\n        inherited = attr.modelName;\n        attr = parentAttributes.nameToAttribute.get(inherited);\n        defaultValue = attr.defaultValue;\n        type = attr.type;\n      }\n      const defValue = JSON.stringify(defaultValue);\n      const required = attr.required ? \"\" : \"?\";\n      let sb = \"\t/**\\n\t  \";\n      if (c.description) {\n        sb += c.description;\n      } else if (c.pairedType && ((_a = c.pairedAttr) == null ? void 0 : _a.description)) {\n        sb += `Value for ${c.pairedType} attribute ${c.pairedAttr.name} if not overridden`;\n        sb += \"\\n\\n\t  \";\n        sb += (_b = c.pairedAttr) == null ? void 0 : _b.description;\n      }\n      sb += \"\\n\\n\t  \";\n      if (c.fixed) {\n        sb += `Fixed value: ${defValue}`;\n      } else if (inherited) {\n        sb += `Default: inherited from Global attribute ${c.modelName} (default ${defValue})`;\n      } else {\n        sb += `Default: ${defValue}`;\n      }\n      sb += \"\\n\t */\";\n      lines.push(sb);\n      lines.push(\"\t\" + c.name + required + \": \" + type + \";\\n\");\n    }\n    lines.push(\"}\");\n    return lines.join(\"\\n\");\n  }\n}\nclass DropInfo {\n  constructor(node, rect, location, index, className) {\n    __publicField(this, \"node\");\n    __publicField(this, \"rect\");\n    __publicField(this, \"location\");\n    __publicField(this, \"index\");\n    __publicField(this, \"className\");\n    this.node = node;\n    this.rect = rect;\n    this.location = location;\n    this.index = index;\n    this.className = className;\n  }\n}\nclass BorderSet {\n  /** @internal */\n  constructor(_model) {\n    /** @internal */\n    __publicField(this, \"borders\");\n    /** @internal */\n    __publicField(this, \"borderMap\");\n    /** @internal */\n    __publicField(this, \"layoutHorizontal\");\n    this.borders = [];\n    this.borderMap = /* @__PURE__ */ new Map();\n    this.layoutHorizontal = true;\n  }\n  /** @internal */\n  static fromJson(json, model) {\n    const borderSet = new BorderSet(model);\n    borderSet.borders = json.map((borderJson) => BorderNode.fromJson(borderJson, model));\n    for (const border of borderSet.borders) {\n      borderSet.borderMap.set(border.getLocation(), border);\n    }\n    return borderSet;\n  }\n  toJson() {\n    return this.borders.map((borderNode) => borderNode.toJson());\n  }\n  /** @internal */\n  getLayoutHorizontal() {\n    return this.layoutHorizontal;\n  }\n  /** @internal */\n  getBorders() {\n    return this.borders;\n  }\n  /** @internal */\n  getBorderMap() {\n    return this.borderMap;\n  }\n  /** @internal */\n  forEachNode(fn) {\n    for (const borderNode of this.borders) {\n      fn(borderNode, 0);\n      for (const node of borderNode.getChildren()) {\n        node.forEachNode(fn, 1);\n      }\n    }\n  }\n  /** @internal */\n  setPaths() {\n    for (const borderNode of this.borders) {\n      const path = \"/border/\" + borderNode.getLocation().getName();\n      borderNode.setPath(path);\n      let i = 0;\n      for (const node of borderNode.getChildren()) {\n        node.setPath(path + \"/t\" + i);\n        i++;\n      }\n    }\n  }\n  /** @internal */\n  findDropTargetNode(dragNode, x, y) {\n    for (const border of this.borders) {\n      if (border.isShowing()) {\n        const dropInfo = border.canDrop(dragNode, x, y);\n        if (dropInfo !== void 0) {\n          return dropInfo;\n        }\n      }\n    }\n    return void 0;\n  }\n}\nclass Node {\n  /** @internal */\n  constructor(_model) {\n    /** @internal */\n    __publicField(this, \"model\");\n    /** @internal */\n    __publicField(this, \"attributes\");\n    /** @internal */\n    __publicField(this, \"parent\");\n    /** @internal */\n    __publicField(this, \"children\");\n    /** @internal */\n    __publicField(this, \"rect\");\n    /** @internal */\n    __publicField(this, \"path\");\n    /** @internal */\n    __publicField(this, \"listeners\");\n    this.model = _model;\n    this.attributes = {};\n    this.children = [];\n    this.rect = Rect.empty();\n    this.listeners = /* @__PURE__ */ new Map();\n    this.path = \"\";\n  }\n  getId() {\n    let id = this.attributes.id;\n    if (id !== void 0) {\n      return id;\n    }\n    id = this.model.nextUniqueId();\n    this.setId(id);\n    return id;\n  }\n  getModel() {\n    return this.model;\n  }\n  getType() {\n    return this.attributes.type;\n  }\n  getParent() {\n    return this.parent;\n  }\n  getChildren() {\n    return this.children;\n  }\n  getRect() {\n    return this.rect;\n  }\n  getPath() {\n    return this.path;\n  }\n  getOrientation() {\n    if (this.parent === void 0) {\n      return this.model.isRootOrientationVertical() ? Orientation.VERT : Orientation.HORZ;\n    } else {\n      return Orientation.flip(this.parent.getOrientation());\n    }\n  }\n  // event can be: resize, visibility, maximize (on tabset), close\n  setEventListener(event, callback) {\n    this.listeners.set(event, callback);\n  }\n  removeEventListener(event) {\n    this.listeners.delete(event);\n  }\n  /** @internal */\n  setId(id) {\n    this.attributes.id = id;\n  }\n  /** @internal */\n  fireEvent(event, params) {\n    if (this.listeners.has(event)) {\n      this.listeners.get(event)(params);\n    }\n  }\n  /** @internal */\n  getAttr(name) {\n    let val = this.attributes[name];\n    if (val === void 0) {\n      const modelName = this.getAttributeDefinitions().getModelName(name);\n      if (modelName !== void 0) {\n        val = this.model.getAttribute(modelName);\n      }\n    }\n    return val;\n  }\n  /** @internal */\n  forEachNode(fn, level) {\n    fn(this, level);\n    level++;\n    for (const node of this.children) {\n      node.forEachNode(fn, level);\n    }\n  }\n  /** @internal */\n  setPaths(path) {\n    let i = 0;\n    for (const node of this.children) {\n      let newPath = path;\n      if (node.getType() === \"row\") {\n        newPath += \"/r\" + i;\n      } else if (node.getType() === \"tabset\") {\n        newPath += \"/ts\" + i;\n      } else if (node.getType() === \"tab\") {\n        newPath += \"/t\" + i;\n      }\n      node.path = newPath;\n      node.setPaths(newPath);\n      i++;\n    }\n  }\n  /** @internal */\n  setParent(parent) {\n    this.parent = parent;\n  }\n  /** @internal */\n  setRect(rect) {\n    this.rect = rect;\n  }\n  /** @internal */\n  setPath(path) {\n    this.path = path;\n  }\n  /** @internal */\n  setWeight(weight) {\n    this.attributes.weight = weight;\n  }\n  /** @internal */\n  setSelected(index) {\n    this.attributes.selected = index;\n  }\n  /** @internal */\n  findDropTargetNode(windowId, dragNode, x, y) {\n    let rtn;\n    if (this.rect.contains(x, y)) {\n      if (this.model.getMaximizedTabset(windowId) !== void 0) {\n        rtn = this.model.getMaximizedTabset(windowId).canDrop(dragNode, x, y);\n      } else {\n        rtn = this.canDrop(dragNode, x, y);\n        if (rtn === void 0) {\n          if (this.children.length !== 0) {\n            for (const child of this.children) {\n              rtn = child.findDropTargetNode(windowId, dragNode, x, y);\n              if (rtn !== void 0) {\n                break;\n              }\n            }\n          }\n        }\n      }\n    }\n    return rtn;\n  }\n  /** @internal */\n  canDrop(dragNode, x, y) {\n    return void 0;\n  }\n  /** @internal */\n  canDockInto(dragNode, dropInfo) {\n    if (dropInfo != null) {\n      if (dropInfo.location === DockLocation.CENTER && dropInfo.node.isEnableDrop() === false) {\n        return false;\n      }\n      if (dropInfo.location === DockLocation.CENTER && dragNode.getType() === \"tabset\" && dragNode.getName() !== void 0) {\n        return false;\n      }\n      if (dropInfo.location !== DockLocation.CENTER && dropInfo.node.isEnableDivide() === false) {\n        return false;\n      }\n      if (this.model.getOnAllowDrop()) {\n        return this.model.getOnAllowDrop()(dragNode, dropInfo);\n      }\n    }\n    return true;\n  }\n  /** @internal */\n  removeChild(childNode) {\n    const pos = this.children.indexOf(childNode);\n    if (pos !== -1) {\n      this.children.splice(pos, 1);\n    }\n    return pos;\n  }\n  /** @internal */\n  addChild(childNode, pos) {\n    if (pos != null) {\n      this.children.splice(pos, 0, childNode);\n    } else {\n      this.children.push(childNode);\n      pos = this.children.length - 1;\n    }\n    childNode.parent = this;\n    return pos;\n  }\n  /** @internal */\n  removeAll() {\n    this.children = [];\n  }\n  /** @internal */\n  styleWithPosition(style2) {\n    if (style2 == null) {\n      style2 = {};\n    }\n    return this.rect.styleWithPosition(style2);\n  }\n  /** @internal */\n  isEnableDivide() {\n    return true;\n  }\n  /** @internal */\n  toAttributeString() {\n    return JSON.stringify(this.attributes, void 0, \"\t\");\n  }\n}\nconst _TabNode = class _TabNode extends Node {\n  /** @internal */\n  constructor(model, json, addToModel = true) {\n    super(model);\n    /** @internal */\n    __publicField(this, \"tabRect\", Rect.empty());\n    /** @internal */\n    __publicField(this, \"moveableElement\");\n    /** @internal */\n    __publicField(this, \"tabStamp\");\n    /** @internal */\n    __publicField(this, \"renderedName\");\n    /** @internal */\n    __publicField(this, \"extra\");\n    /** @internal */\n    __publicField(this, \"visible\");\n    /** @internal */\n    __publicField(this, \"rendered\");\n    /** @internal */\n    __publicField(this, \"scrollTop\");\n    /** @internal */\n    __publicField(this, \"scrollLeft\");\n    this.extra = {};\n    this.moveableElement = null;\n    this.tabStamp = null;\n    this.rendered = false;\n    this.visible = false;\n    _TabNode.attributeDefinitions.fromJson(json, this.attributes);\n    if (addToModel === true) {\n      model.addNode(this);\n    }\n  }\n  /** @internal */\n  static fromJson(json, model, addToModel = true) {\n    const newLayoutNode = new _TabNode(model, json, addToModel);\n    return newLayoutNode;\n  }\n  getName() {\n    return this.getAttr(\"name\");\n  }\n  getHelpText() {\n    return this.getAttr(\"helpText\");\n  }\n  getComponent() {\n    return this.getAttr(\"component\");\n  }\n  getWindowId() {\n    if (this.parent instanceof TabSetNode) {\n      return this.parent.getWindowId();\n    }\n    return Model.MAIN_WINDOW_ID;\n  }\n  getWindow() {\n    const layoutWindow = this.model.getwindowsMap().get(this.getWindowId());\n    if (layoutWindow) {\n      return layoutWindow.window;\n    }\n    return void 0;\n  }\n  /**\n   * Returns the config attribute that can be used to store node specific data that\n   * WILL be saved to the json. The config attribute should be changed via the action Actions.updateNodeAttributes rather\n   * than directly, for example:\n   * this.state.model.doAction(\n   *   FlexLayout.Actions.updateNodeAttributes(node.getId(), {config:myConfigObject}));\n   */\n  getConfig() {\n    return this.attributes.config;\n  }\n  /**\n   * Returns an object that can be used to store transient node specific data that will\n   * NOT be saved in the json.\n   */\n  getExtraData() {\n    return this.extra;\n  }\n  isPoppedOut() {\n    return this.getWindowId() !== Model.MAIN_WINDOW_ID;\n  }\n  isSelected() {\n    return this.getParent().getSelectedNode() === this;\n  }\n  getIcon() {\n    return this.getAttr(\"icon\");\n  }\n  isEnableClose() {\n    return this.getAttr(\"enableClose\");\n  }\n  getCloseType() {\n    return this.getAttr(\"closeType\");\n  }\n  isEnablePopout() {\n    return this.getAttr(\"enablePopout\");\n  }\n  isEnablePopoutIcon() {\n    return this.getAttr(\"enablePopoutIcon\");\n  }\n  isEnablePopoutOverlay() {\n    return this.getAttr(\"enablePopoutOverlay\");\n  }\n  isEnableDrag() {\n    return this.getAttr(\"enableDrag\");\n  }\n  isEnableRename() {\n    return this.getAttr(\"enableRename\");\n  }\n  isEnableWindowReMount() {\n    return this.getAttr(\"enableWindowReMount\");\n  }\n  getClassName() {\n    return this.getAttr(\"className\");\n  }\n  getContentClassName() {\n    return this.getAttr(\"contentClassName\");\n  }\n  getTabSetClassName() {\n    return this.getAttr(\"tabsetClassName\");\n  }\n  isEnableRenderOnDemand() {\n    return this.getAttr(\"enableRenderOnDemand\");\n  }\n  getMinWidth() {\n    return this.getAttr(\"minWidth\");\n  }\n  getMinHeight() {\n    return this.getAttr(\"minHeight\");\n  }\n  getMaxWidth() {\n    return this.getAttr(\"maxWidth\");\n  }\n  getMaxHeight() {\n    return this.getAttr(\"maxHeight\");\n  }\n  isVisible() {\n    return this.visible;\n  }\n  toJson() {\n    const json = {};\n    _TabNode.attributeDefinitions.toJson(json, this.attributes);\n    return json;\n  }\n  /** @internal */\n  saveScrollPosition() {\n    if (this.moveableElement) {\n      this.scrollLeft = this.moveableElement.scrollLeft;\n      this.scrollTop = this.moveableElement.scrollTop;\n    }\n  }\n  /** @internal */\n  restoreScrollPosition() {\n    if (this.scrollTop) {\n      requestAnimationFrame(() => {\n        if (this.moveableElement) {\n          if (this.scrollTop) {\n            this.moveableElement.scrollTop = this.scrollTop;\n            this.moveableElement.scrollLeft = this.scrollLeft;\n          }\n        }\n      });\n    }\n  }\n  /** @internal */\n  setRect(rect) {\n    if (!rect.equals(this.rect)) {\n      this.fireEvent(\"resize\", { rect });\n      this.rect = rect;\n    }\n  }\n  /** @internal */\n  setVisible(visible) {\n    if (visible !== this.visible) {\n      this.visible = visible;\n      this.fireEvent(\"visibility\", { visible });\n    }\n  }\n  /** @internal */\n  getScrollTop() {\n    return this.scrollTop;\n  }\n  /** @internal */\n  setScrollTop(scrollTop) {\n    this.scrollTop = scrollTop;\n  }\n  /** @internal */\n  getScrollLeft() {\n    return this.scrollLeft;\n  }\n  /** @internal */\n  setScrollLeft(scrollLeft) {\n    this.scrollLeft = scrollLeft;\n  }\n  /** @internal */\n  isRendered() {\n    return this.rendered;\n  }\n  /** @internal */\n  setRendered(rendered) {\n    this.rendered = rendered;\n  }\n  /** @internal */\n  getTabRect() {\n    return this.tabRect;\n  }\n  /** @internal */\n  setTabRect(rect) {\n    this.tabRect = rect;\n  }\n  /** @internal */\n  getTabStamp() {\n    return this.tabStamp;\n  }\n  /** @internal */\n  setTabStamp(stamp) {\n    this.tabStamp = stamp;\n  }\n  /** @internal */\n  getMoveableElement() {\n    return this.moveableElement;\n  }\n  /** @internal */\n  setMoveableElement(element) {\n    this.moveableElement = element;\n  }\n  /** @internal */\n  setRenderedName(name) {\n    this.renderedName = name;\n  }\n  /** @internal */\n  getNameForOverflowMenu() {\n    const altName = this.getAttr(\"altName\");\n    if (altName !== void 0) {\n      return altName;\n    }\n    return this.renderedName;\n  }\n  /** @internal */\n  setName(name) {\n    this.attributes.name = name;\n  }\n  /** @internal */\n  delete() {\n    this.parent.remove(this);\n    this.fireEvent(\"close\", {});\n  }\n  /** @internal */\n  updateAttrs(json) {\n    _TabNode.attributeDefinitions.update(json, this.attributes);\n  }\n  /** @internal */\n  getAttributeDefinitions() {\n    return _TabNode.attributeDefinitions;\n  }\n  /** @internal */\n  setBorderWidth(width) {\n    this.attributes.borderWidth = width;\n  }\n  /** @internal */\n  setBorderHeight(height) {\n    this.attributes.borderHeight = height;\n  }\n  /** @internal */\n  static getAttributeDefinitions() {\n    return _TabNode.attributeDefinitions;\n  }\n  /** @internal */\n  static createAttributeDefinitions() {\n    const attributeDefinitions = new AttributeDefinitions();\n    attributeDefinitions.add(\"type\", _TabNode.TYPE, true).setType(Attribute.STRING).setFixed();\n    attributeDefinitions.add(\"id\", void 0).setType(Attribute.STRING).setDescription(\n      `the unique id of the tab, if left undefined a uuid will be assigned`\n    );\n    attributeDefinitions.add(\"name\", \"[Unnamed Tab]\").setType(Attribute.STRING).setDescription(\n      `name of tab to be displayed in the tab button`\n    );\n    attributeDefinitions.add(\"altName\", void 0).setType(Attribute.STRING).setDescription(\n      `if there is no name specifed then this value will be used in the overflow menu`\n    );\n    attributeDefinitions.add(\"helpText\", void 0).setType(Attribute.STRING).setDescription(\n      `An optional help text for the tab to be displayed upon tab hover.`\n    );\n    attributeDefinitions.add(\"component\", void 0).setType(Attribute.STRING).setDescription(\n      `string identifying which component to run (for factory)`\n    );\n    attributeDefinitions.add(\"config\", void 0).setType(\"any\").setDescription(\n      `a place to hold json config for the hosted component`\n    );\n    attributeDefinitions.add(\"tabsetClassName\", void 0).setType(Attribute.STRING).setDescription(\n      `class applied to parent tabset when this is the only tab and it is stretched to fill the tabset`\n    );\n    attributeDefinitions.add(\"enableWindowReMount\", false).setType(Attribute.BOOLEAN).setDescription(\n      `if enabled the tab will re-mount when popped out/in`\n    );\n    attributeDefinitions.addInherited(\"enableClose\", \"tabEnableClose\").setType(Attribute.BOOLEAN).setDescription(\n      `allow user to close tab via close button`\n    );\n    attributeDefinitions.addInherited(\"closeType\", \"tabCloseType\").setType(\"ICloseType\").setDescription(\n      `see values in ICloseType`\n    );\n    attributeDefinitions.addInherited(\"enableDrag\", \"tabEnableDrag\").setType(Attribute.BOOLEAN).setDescription(\n      `allow user to drag tab to new location`\n    );\n    attributeDefinitions.addInherited(\"enableRename\", \"tabEnableRename\").setType(Attribute.BOOLEAN).setDescription(\n      `allow user to rename tabs by double clicking`\n    );\n    attributeDefinitions.addInherited(\"className\", \"tabClassName\").setType(Attribute.STRING).setDescription(\n      `class applied to tab button`\n    );\n    attributeDefinitions.addInherited(\"contentClassName\", \"tabContentClassName\").setType(Attribute.STRING).setDescription(\n      `class applied to tab content`\n    );\n    attributeDefinitions.addInherited(\"icon\", \"tabIcon\").setType(Attribute.STRING).setDescription(\n      `the tab icon`\n    );\n    attributeDefinitions.addInherited(\"enableRenderOnDemand\", \"tabEnableRenderOnDemand\").setType(Attribute.BOOLEAN).setDescription(\n      `whether to avoid rendering component until tab is visible`\n    );\n    attributeDefinitions.addInherited(\"enablePopout\", \"tabEnablePopout\").setType(Attribute.BOOLEAN).setAlias(\"enableFloat\").setDescription(\n      `enable popout (in popout capable browser)`\n    );\n    attributeDefinitions.addInherited(\"enablePopoutIcon\", \"tabEnablePopoutIcon\").setType(Attribute.BOOLEAN).setDescription(\n      `whether to show the popout icon in the tabset header if this tab enables popouts`\n    );\n    attributeDefinitions.addInherited(\"enablePopoutOverlay\", \"tabEnablePopoutOverlay\").setType(Attribute.BOOLEAN).setDescription(\n      `if this tab will not work correctly in a popout window when the main window is backgrounded (inactive)\n            then enabling this option will gray out this tab`\n    );\n    attributeDefinitions.addInherited(\"borderWidth\", \"tabBorderWidth\").setType(Attribute.NUMBER).setDescription(\n      `width when added to border, -1 will use border size`\n    );\n    attributeDefinitions.addInherited(\"borderHeight\", \"tabBorderHeight\").setType(Attribute.NUMBER).setDescription(\n      `height when added to border, -1 will use border size`\n    );\n    attributeDefinitions.addInherited(\"minWidth\", \"tabMinWidth\").setType(Attribute.NUMBER).setDescription(\n      `the min width of this tab`\n    );\n    attributeDefinitions.addInherited(\"minHeight\", \"tabMinHeight\").setType(Attribute.NUMBER).setDescription(\n      `the min height of this tab`\n    );\n    attributeDefinitions.addInherited(\"maxWidth\", \"tabMaxWidth\").setType(Attribute.NUMBER).setDescription(\n      `the max width of this tab`\n    );\n    attributeDefinitions.addInherited(\"maxHeight\", \"tabMaxHeight\").setType(Attribute.NUMBER).setDescription(\n      `the max height of this tab`\n    );\n    return attributeDefinitions;\n  }\n};\n__publicField(_TabNode, \"TYPE\", \"tab\");\n/** @internal */\n__publicField(_TabNode, \"attributeDefinitions\", _TabNode.createAttributeDefinitions());\nlet TabNode = _TabNode;\nfunction isDesktop() {\n  const desktop = typeof window !== \"undefined\" && window.matchMedia && window.matchMedia(\"(hover: hover) and (pointer: fine)\").matches;\n  return desktop;\n}\nfunction getRenderStateEx(layout, node, iconAngle) {\n  let leadingContent = void 0;\n  const titleContent = node.getName();\n  const name = node.getName();\n  if (iconAngle === void 0) {\n    iconAngle = 0;\n  }\n  if (leadingContent === void 0 && node.getIcon() !== void 0) {\n    if (iconAngle !== 0) {\n      leadingContent = /* @__PURE__ */ jsx(\"img\", { style: { width: \"1em\", height: \"1em\", transform: \"rotate(\" + iconAngle + \"deg)\" }, src: node.getIcon(), alt: \"leadingContent\" });\n    } else {\n      leadingContent = /* @__PURE__ */ jsx(\"img\", { style: { width: \"1em\", height: \"1em\" }, src: node.getIcon(), alt: \"leadingContent\" });\n    }\n  }\n  const buttons = [];\n  const renderState = { leading: leadingContent, content: titleContent, name, buttons };\n  layout.customizeTab(node, renderState);\n  node.setRenderedName(renderState.name);\n  return renderState;\n}\nfunction isAuxMouseEvent(event) {\n  let auxEvent = false;\n  if (event.nativeEvent instanceof MouseEvent) {\n    if (event.nativeEvent.button !== 0 || event.ctrlKey || event.altKey || event.metaKey || event.shiftKey) {\n      auxEvent = true;\n    }\n  }\n  return auxEvent;\n}\nfunction enablePointerOnIFrames(enable, currentDocument) {\n  const iframes = [\n    ...getElementsByTagName(\"iframe\", currentDocument),\n    ...getElementsByTagName(\"webview\", currentDocument)\n  ];\n  for (const iframe of iframes) {\n    iframe.style.pointerEvents = enable ? \"auto\" : \"none\";\n  }\n}\nfunction getElementsByTagName(tag, currentDocument) {\n  return [...currentDocument.getElementsByTagName(tag)];\n}\nfunction startDrag(doc, event, drag, dragEnd, dragCancel) {\n  event.preventDefault();\n  const pointerMove = (ev) => {\n    ev.preventDefault();\n    drag(ev.clientX, ev.clientY);\n  };\n  const pointerCancel = (ev) => {\n    ev.preventDefault();\n    dragCancel();\n  };\n  const pointerUp = () => {\n    doc.removeEventListener(\"pointermove\", pointerMove);\n    doc.removeEventListener(\"pointerup\", pointerUp);\n    doc.removeEventListener(\"pointercancel\", pointerCancel);\n    dragEnd();\n  };\n  doc.addEventListener(\"pointermove\", pointerMove);\n  doc.addEventListener(\"pointerup\", pointerUp);\n  doc.addEventListener(\"pointercancel\", pointerCancel);\n}\nfunction canDockToWindow(node) {\n  if (node instanceof TabNode) {\n    return node.isEnablePopout();\n  } else if (node instanceof TabSetNode) {\n    for (const child of node.getChildren()) {\n      if (child.isEnablePopout() === false) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return false;\n}\nfunction copyInlineStyles(source, target) {\n  const sourceStyle = source.getAttribute(\"style\");\n  const targetStyle = target.getAttribute(\"style\");\n  if (sourceStyle === targetStyle) return false;\n  if (sourceStyle) {\n    target.setAttribute(\"style\", sourceStyle);\n  } else {\n    target.removeAttribute(\"style\");\n  }\n  return true;\n}\nfunction isSafari() {\n  const userAgent = navigator.userAgent;\n  return userAgent.includes(\"Safari\") && !userAgent.includes(\"Chrome\") && !userAgent.includes(\"Chromium\");\n}\nfunction adjustSelectedIndex(parent, removedIndex) {\n  if (parent !== void 0 && (parent instanceof TabSetNode || parent instanceof BorderNode)) {\n    const selectedIndex = parent.getSelected();\n    if (selectedIndex !== -1) {\n      if (removedIndex === selectedIndex && parent.getChildren().length > 0) {\n        if (removedIndex >= parent.getChildren().length) {\n          parent.setSelected(parent.getChildren().length - 1);\n        }\n      } else if (removedIndex < selectedIndex) {\n        parent.setSelected(selectedIndex - 1);\n      } else if (removedIndex > selectedIndex) ;\n      else {\n        parent.setSelected(-1);\n      }\n    }\n  }\n}\nfunction randomUUID() {\n  return (\"10000000-1000-4000-8000\" + -1e11).replace(\n    /[018]/g,\n    (c) => (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)\n  );\n}\nconst _TabSetNode = class _TabSetNode extends Node {\n  /** @internal */\n  constructor(model, json) {\n    super(model);\n    /** @internal */\n    __publicField(this, \"tabStripRect\", Rect.empty());\n    /** @internal */\n    __publicField(this, \"contentRect\", Rect.empty());\n    /** @internal */\n    __publicField(this, \"calculatedMinHeight\");\n    /** @internal */\n    __publicField(this, \"calculatedMinWidth\");\n    /** @internal */\n    __publicField(this, \"calculatedMaxHeight\");\n    /** @internal */\n    __publicField(this, \"calculatedMaxWidth\");\n    this.calculatedMinHeight = 0;\n    this.calculatedMinWidth = 0;\n    this.calculatedMaxHeight = 0;\n    this.calculatedMaxWidth = 0;\n    _TabSetNode.attributeDefinitions.fromJson(json, this.attributes);\n    model.addNode(this);\n  }\n  /** @internal */\n  static fromJson(json, model, layoutWindow) {\n    const newLayoutNode = new _TabSetNode(model, json);\n    if (json.children != null) {\n      for (const jsonChild of json.children) {\n        const child = TabNode.fromJson(jsonChild, model);\n        newLayoutNode.addChild(child);\n      }\n    }\n    if (newLayoutNode.children.length === 0) {\n      newLayoutNode.setSelected(-1);\n    }\n    if (json.maximized && json.maximized === true) {\n      layoutWindow.maximizedTabSet = newLayoutNode;\n    }\n    if (json.active && json.active === true) {\n      layoutWindow.activeTabSet = newLayoutNode;\n    }\n    return newLayoutNode;\n  }\n  getName() {\n    return this.getAttr(\"name\");\n  }\n  isEnableActiveIcon() {\n    return this.getAttr(\"enableActiveIcon\");\n  }\n  getSelected() {\n    const selected = this.attributes.selected;\n    if (selected !== void 0) {\n      return selected;\n    }\n    return -1;\n  }\n  getSelectedNode() {\n    const selected = this.getSelected();\n    if (selected !== -1) {\n      return this.children[selected];\n    }\n    return void 0;\n  }\n  getWeight() {\n    return this.getAttr(\"weight\");\n  }\n  getAttrMinWidth() {\n    return this.getAttr(\"minWidth\");\n  }\n  getAttrMinHeight() {\n    return this.getAttr(\"minHeight\");\n  }\n  getMinWidth() {\n    return this.calculatedMinWidth;\n  }\n  getMinHeight() {\n    return this.calculatedMinHeight;\n  }\n  /** @internal */\n  getMinSize(orientation) {\n    if (orientation === Orientation.HORZ) {\n      return this.getMinWidth();\n    } else {\n      return this.getMinHeight();\n    }\n  }\n  getAttrMaxWidth() {\n    return this.getAttr(\"maxWidth\");\n  }\n  getAttrMaxHeight() {\n    return this.getAttr(\"maxHeight\");\n  }\n  getMaxWidth() {\n    return this.calculatedMaxWidth;\n  }\n  getMaxHeight() {\n    return this.calculatedMaxHeight;\n  }\n  /** @internal */\n  getMaxSize(orientation) {\n    if (orientation === Orientation.HORZ) {\n      return this.getMaxWidth();\n    } else {\n      return this.getMaxHeight();\n    }\n  }\n  /**\n   * Returns the config attribute that can be used to store node specific data that\n   * WILL be saved to the json. The config attribute should be changed via the action Actions.updateNodeAttributes rather\n   * than directly, for example:\n   * this.state.model.doAction(\n   *   FlexLayout.Actions.updateNodeAttributes(node.getId(), {config:myConfigObject}));\n   */\n  getConfig() {\n    return this.attributes.config;\n  }\n  isMaximized() {\n    return this.model.getMaximizedTabset(this.getWindowId()) === this;\n  }\n  isActive() {\n    return this.model.getActiveTabset(this.getWindowId()) === this;\n  }\n  isEnableDeleteWhenEmpty() {\n    return this.getAttr(\"enableDeleteWhenEmpty\");\n  }\n  isEnableDrop() {\n    return this.getAttr(\"enableDrop\");\n  }\n  isEnableTabWrap() {\n    return this.getAttr(\"enableTabWrap\");\n  }\n  isEnableDrag() {\n    return this.getAttr(\"enableDrag\");\n  }\n  isEnableDivide() {\n    return this.getAttr(\"enableDivide\");\n  }\n  isEnableMaximize() {\n    return this.getAttr(\"enableMaximize\");\n  }\n  isEnableClose() {\n    return this.getAttr(\"enableClose\");\n  }\n  isEnableSingleTabStretch() {\n    return this.getAttr(\"enableSingleTabStretch\");\n  }\n  isEnableTabStrip() {\n    return this.getAttr(\"enableTabStrip\");\n  }\n  isAutoSelectTab() {\n    return this.getAttr(\"autoSelectTab\");\n  }\n  isEnableTabScrollbar() {\n    return this.getAttr(\"enableTabScrollbar\");\n  }\n  getClassNameTabStrip() {\n    return this.getAttr(\"classNameTabStrip\");\n  }\n  getTabLocation() {\n    return this.getAttr(\"tabLocation\");\n  }\n  toJson() {\n    const json = {};\n    _TabSetNode.attributeDefinitions.toJson(json, this.attributes);\n    json.children = this.children.map((child) => child.toJson());\n    if (this.isActive()) {\n      json.active = true;\n    }\n    if (this.isMaximized()) {\n      json.maximized = true;\n    }\n    return json;\n  }\n  /** @internal */\n  calcMinMaxSize() {\n    this.calculatedMinHeight = this.getAttrMinHeight();\n    this.calculatedMinWidth = this.getAttrMinWidth();\n    this.calculatedMaxHeight = this.getAttrMaxHeight();\n    this.calculatedMaxWidth = this.getAttrMaxWidth();\n    for (const child of this.children) {\n      const c = child;\n      this.calculatedMinWidth = Math.max(this.calculatedMinWidth, c.getMinWidth());\n      this.calculatedMinHeight = Math.max(this.calculatedMinHeight, c.getMinHeight());\n      this.calculatedMaxWidth = Math.min(this.calculatedMaxWidth, c.getMaxWidth());\n      this.calculatedMaxHeight = Math.min(this.calculatedMaxHeight, c.getMaxHeight());\n    }\n    this.calculatedMinHeight += this.tabStripRect.height;\n    this.calculatedMaxHeight += this.tabStripRect.height;\n  }\n  /** @internal */\n  canMaximize() {\n    if (this.isEnableMaximize()) {\n      if (this.getModel().getMaximizedTabset(this.getWindowId()) === this) {\n        return true;\n      }\n      if (this.getParent() === this.getModel().getRoot(this.getWindowId()) && this.getModel().getRoot(this.getWindowId()).getChildren().length === 1) {\n        return false;\n      }\n      return true;\n    }\n    return false;\n  }\n  /** @internal */\n  setContentRect(rect) {\n    this.contentRect = rect;\n  }\n  /** @internal */\n  getContentRect() {\n    return this.contentRect;\n  }\n  /** @internal */\n  setTabStripRect(rect) {\n    this.tabStripRect = rect;\n  }\n  /** @internal */\n  setWeight(weight) {\n    this.attributes.weight = weight;\n  }\n  /** @internal */\n  setSelected(index) {\n    this.attributes.selected = index;\n  }\n  getWindowId() {\n    return this.parent.getWindowId();\n  }\n  /** @internal */\n  canDrop(dragNode, x, y) {\n    let dropInfo;\n    if (dragNode === this) {\n      const dockLocation = DockLocation.CENTER;\n      const outlineRect = this.tabStripRect;\n      dropInfo = new DropInfo(this, outlineRect, dockLocation, -1, CLASSES.FLEXLAYOUT__OUTLINE_RECT);\n    } else if (this.getWindowId() !== Model.MAIN_WINDOW_ID && !canDockToWindow(dragNode)) {\n      return void 0;\n    } else if (this.contentRect.contains(x, y)) {\n      let dockLocation = DockLocation.CENTER;\n      if (this.model.getMaximizedTabset(this.parent.getWindowId()) === void 0) {\n        dockLocation = DockLocation.getLocation(this.contentRect, x, y);\n      }\n      const outlineRect = dockLocation.getDockRect(this.rect);\n      dropInfo = new DropInfo(this, outlineRect, dockLocation, -1, CLASSES.FLEXLAYOUT__OUTLINE_RECT);\n    } else if (this.tabStripRect != null && this.tabStripRect.contains(x, y)) {\n      let r;\n      let yy;\n      let h;\n      if (this.children.length === 0) {\n        r = this.tabStripRect.clone();\n        yy = r.y + 3;\n        h = r.height - 4;\n        r.width = 2;\n      } else {\n        let child = this.children[0];\n        r = child.getTabRect();\n        yy = r.y;\n        h = r.height;\n        let p = this.tabStripRect.x;\n        let childCenter = 0;\n        for (let i = 0; i < this.children.length; i++) {\n          child = this.children[i];\n          r = child.getTabRect();\n          if (r.y !== yy) {\n            yy = r.y;\n            p = this.tabStripRect.x;\n          }\n          childCenter = r.x + r.width / 2;\n          if (p <= x && x < childCenter && r.y < y && y < r.getBottom()) {\n            const dockLocation = DockLocation.CENTER;\n            const outlineRect = new Rect(r.x - 2, r.y, 3, r.height);\n            if (this.rect.x < r.x && r.x < this.rect.getRight()) {\n              dropInfo = new DropInfo(this, outlineRect, dockLocation, i, CLASSES.FLEXLAYOUT__OUTLINE_RECT);\n              break;\n            } else {\n              return void 0;\n            }\n          }\n          p = childCenter;\n        }\n      }\n      if (dropInfo == null && r.getRight() < this.rect.getRight()) {\n        const dockLocation = DockLocation.CENTER;\n        const outlineRect = new Rect(r.getRight() - 2, yy, 3, h);\n        dropInfo = new DropInfo(this, outlineRect, dockLocation, this.children.length, CLASSES.FLEXLAYOUT__OUTLINE_RECT);\n      }\n    }\n    if (!dragNode.canDockInto(dragNode, dropInfo)) {\n      return void 0;\n    }\n    return dropInfo;\n  }\n  /** @internal */\n  delete() {\n    this.parent.removeChild(this);\n  }\n  /** @internal */\n  remove(node) {\n    const removedIndex = this.removeChild(node);\n    this.model.tidy();\n    adjustSelectedIndex(this, removedIndex);\n  }\n  /** @internal */\n  drop(dragNode, location, index, select) {\n    const dockLocation = location;\n    if (this === dragNode) {\n      return;\n    }\n    let dragParent = dragNode.getParent();\n    let fromIndex = 0;\n    if (dragParent !== void 0) {\n      fromIndex = dragParent.removeChild(dragNode);\n      if (dragParent instanceof BorderNode && dragParent.getSelected() === fromIndex) {\n        dragParent.setSelected(-1);\n      } else {\n        adjustSelectedIndex(dragParent, fromIndex);\n      }\n    }\n    if (dragNode instanceof TabNode && dragParent === this && fromIndex < index && index > 0) {\n      index--;\n    }\n    if (dockLocation === DockLocation.CENTER) {\n      let insertPos = index;\n      if (insertPos === -1) {\n        insertPos = this.children.length;\n      }\n      if (dragNode instanceof TabNode) {\n        this.addChild(dragNode, insertPos);\n        if (select || select !== false && this.isAutoSelectTab()) {\n          this.setSelected(insertPos);\n        }\n      } else if (dragNode instanceof RowNode) {\n        dragNode.forEachNode((child, level) => {\n          if (child instanceof TabNode) {\n            this.addChild(child, insertPos);\n            insertPos++;\n          }\n        }, 0);\n      } else {\n        for (let i = 0; i < dragNode.getChildren().length; i++) {\n          const child = dragNode.getChildren()[i];\n          this.addChild(child, insertPos);\n          insertPos++;\n        }\n        if (this.getSelected() === -1 && this.children.length > 0) {\n          this.setSelected(0);\n        }\n      }\n      this.model.setActiveTabset(this, this.parent.getWindowId());\n    } else {\n      let moveNode = dragNode;\n      if (dragNode instanceof TabNode) {\n        const callback = this.model.getOnCreateTabSet();\n        moveNode = new _TabSetNode(this.model, callback ? callback(dragNode) : {});\n        moveNode.addChild(dragNode);\n        dragParent = moveNode;\n      } else if (dragNode instanceof RowNode) {\n        const parent = this.getParent();\n        if (dragNode.getOrientation() === parent.getOrientation() && (location.getOrientation() === parent.getOrientation() || location === DockLocation.CENTER)) {\n          const node = new RowNode(this.model, this.getWindowId(), {});\n          node.addChild(dragNode);\n          moveNode = node;\n        }\n      } else {\n        moveNode = dragNode;\n      }\n      const parentRow = this.parent;\n      const pos = parentRow.getChildren().indexOf(this);\n      if (parentRow.getOrientation() === dockLocation.orientation) {\n        moveNode.setWeight(this.getWeight() / 2);\n        this.setWeight(this.getWeight() / 2);\n        parentRow.addChild(moveNode, pos + dockLocation.indexPlus);\n      } else {\n        const newRow = new RowNode(this.model, this.getWindowId(), {});\n        newRow.setWeight(this.getWeight());\n        newRow.addChild(this);\n        this.setWeight(50);\n        moveNode.setWeight(50);\n        newRow.addChild(moveNode, dockLocation.indexPlus);\n        parentRow.removeChild(this);\n        parentRow.addChild(newRow, pos);\n      }\n      if (moveNode instanceof _TabSetNode) {\n        this.model.setActiveTabset(moveNode, this.getWindowId());\n      }\n    }\n    this.model.tidy();\n  }\n  /** @internal */\n  updateAttrs(json) {\n    _TabSetNode.attributeDefinitions.update(json, this.attributes);\n  }\n  /** @internal */\n  getAttributeDefinitions() {\n    return _TabSetNode.attributeDefinitions;\n  }\n  /** @internal */\n  static getAttributeDefinitions() {\n    return _TabSetNode.attributeDefinitions;\n  }\n  /** @internal */\n  static createAttributeDefinitions() {\n    const attributeDefinitions = new AttributeDefinitions();\n    attributeDefinitions.add(\"type\", _TabSetNode.TYPE, true).setType(Attribute.STRING).setFixed();\n    attributeDefinitions.add(\"id\", void 0).setType(Attribute.STRING).setDescription(\n      `the unique id of the tab set, if left undefined a uuid will be assigned`\n    );\n    attributeDefinitions.add(\"weight\", 100).setType(Attribute.NUMBER).setDescription(\n      `relative weight for sizing of this tabset in parent row`\n    );\n    attributeDefinitions.add(\"selected\", 0).setType(Attribute.NUMBER).setDescription(\n      `index of selected/visible tab in tabset`\n    );\n    attributeDefinitions.add(\"name\", void 0).setType(Attribute.STRING);\n    attributeDefinitions.add(\"config\", void 0).setType(\"any\").setDescription(\n      `a place to hold json config used in your own code`\n    );\n    attributeDefinitions.addInherited(\"enableDeleteWhenEmpty\", \"tabSetEnableDeleteWhenEmpty\").setDescription(\n      `whether to delete this tabset when is has no tabs`\n    );\n    attributeDefinitions.addInherited(\"enableDrop\", \"tabSetEnableDrop\").setDescription(\n      `allow user to drag tabs into this tabset`\n    );\n    attributeDefinitions.addInherited(\"enableDrag\", \"tabSetEnableDrag\").setDescription(\n      `allow user to drag tabs out this tabset`\n    );\n    attributeDefinitions.addInherited(\"enableDivide\", \"tabSetEnableDivide\").setDescription(\n      `allow user to drag tabs to region of this tabset, splitting into new tabset`\n    );\n    attributeDefinitions.addInherited(\"enableMaximize\", \"tabSetEnableMaximize\").setDescription(\n      `allow user to maximize tabset to fill view via maximize button`\n    );\n    attributeDefinitions.addInherited(\"enableClose\", \"tabSetEnableClose\").setDescription(\n      `allow user to close tabset via a close button`\n    );\n    attributeDefinitions.addInherited(\"enableSingleTabStretch\", \"tabSetEnableSingleTabStretch\").setDescription(\n      `if the tabset has only a single tab then stretch the single tab to fill area and display in a header style`\n    );\n    attributeDefinitions.addInherited(\"classNameTabStrip\", \"tabSetClassNameTabStrip\").setDescription(\n      `a class name to apply to the tab strip`\n    );\n    attributeDefinitions.addInherited(\"enableTabStrip\", \"tabSetEnableTabStrip\").setDescription(\n      `enable tab strip and allow multiple tabs in this tabset`\n    );\n    attributeDefinitions.addInherited(\"minWidth\", \"tabSetMinWidth\").setDescription(\n      `minimum width (in px) for this tabset`\n    );\n    attributeDefinitions.addInherited(\"minHeight\", \"tabSetMinHeight\").setDescription(\n      `minimum height (in px) for this tabset`\n    );\n    attributeDefinitions.addInherited(\"maxWidth\", \"tabSetMaxWidth\").setDescription(\n      `maximum width (in px) for this tabset`\n    );\n    attributeDefinitions.addInherited(\"maxHeight\", \"tabSetMaxHeight\").setDescription(\n      `maximum height (in px) for this tabset`\n    );\n    attributeDefinitions.addInherited(\"enableTabWrap\", \"tabSetEnableTabWrap\").setDescription(\n      `wrap tabs onto multiple lines`\n    );\n    attributeDefinitions.addInherited(\"tabLocation\", \"tabSetTabLocation\").setDescription(\n      `the location of the tabs either top or bottom`\n    );\n    attributeDefinitions.addInherited(\"autoSelectTab\", \"tabSetAutoSelectTab\").setType(Attribute.BOOLEAN).setDescription(\n      `whether to select new/moved tabs in tabset`\n    );\n    attributeDefinitions.addInherited(\"enableActiveIcon\", \"tabSetEnableActiveIcon\").setType(Attribute.BOOLEAN).setDescription(\n      `whether the active icon (*) should be displayed when the tabset is active`\n    );\n    attributeDefinitions.addInherited(\"enableTabScrollbar\", \"tabSetEnableTabScrollbar\").setType(Attribute.BOOLEAN).setDescription(\n      `whether to show a mini scrollbar for the tabs`\n    );\n    return attributeDefinitions;\n  }\n};\n__publicField(_TabSetNode, \"TYPE\", \"tabset\");\n/** @internal */\n__publicField(_TabSetNode, \"attributeDefinitions\", _TabSetNode.createAttributeDefinitions());\nlet TabSetNode = _TabSetNode;\nconst _RowNode = class _RowNode extends Node {\n  /** @internal */\n  constructor(model, windowId, json) {\n    super(model);\n    /** @internal */\n    __publicField(this, \"windowId\");\n    /** @internal */\n    __publicField(this, \"minHeight\");\n    /** @internal */\n    __publicField(this, \"minWidth\");\n    /** @internal */\n    __publicField(this, \"maxHeight\");\n    /** @internal */\n    __publicField(this, \"maxWidth\");\n    this.windowId = windowId;\n    this.minHeight = DefaultMin;\n    this.minWidth = DefaultMin;\n    this.maxHeight = DefaultMax;\n    this.maxWidth = DefaultMax;\n    _RowNode.attributeDefinitions.fromJson(json, this.attributes);\n    this.normalizeWeights();\n    model.addNode(this);\n  }\n  /** @internal */\n  static fromJson(json, model, layoutWindow) {\n    const newLayoutNode = new _RowNode(model, layoutWindow.windowId, json);\n    if (json.children != null) {\n      for (const jsonChild of json.children) {\n        if (jsonChild.type === TabSetNode.TYPE) {\n          const child = TabSetNode.fromJson(jsonChild, model, layoutWindow);\n          newLayoutNode.addChild(child);\n        } else {\n          const child = _RowNode.fromJson(jsonChild, model, layoutWindow);\n          newLayoutNode.addChild(child);\n        }\n      }\n    }\n    return newLayoutNode;\n  }\n  getWeight() {\n    return this.attributes.weight;\n  }\n  toJson() {\n    const json = {};\n    _RowNode.attributeDefinitions.toJson(json, this.attributes);\n    json.children = [];\n    for (const child of this.children) {\n      json.children.push(child.toJson());\n    }\n    return json;\n  }\n  /** @internal */\n  getWindowId() {\n    return this.windowId;\n  }\n  setWindowId(windowId) {\n    this.windowId = windowId;\n  }\n  /** @internal */\n  setWeight(weight) {\n    this.attributes.weight = weight;\n  }\n  /** @internal */\n  getSplitterBounds(index) {\n    const h = this.getOrientation() === Orientation.HORZ;\n    const c = this.getChildren();\n    const ss = this.model.getSplitterSize();\n    const fr = c[0].getRect();\n    const lr = c[c.length - 1].getRect();\n    let p = h ? [fr.x, lr.getRight()] : [fr.y, lr.getBottom()];\n    const q = h ? [fr.x, lr.getRight()] : [fr.y, lr.getBottom()];\n    for (let i = 0; i < index; i++) {\n      const n = c[i];\n      p[0] += h ? n.getMinWidth() : n.getMinHeight();\n      q[0] += h ? n.getMaxWidth() : n.getMaxHeight();\n      if (i > 0) {\n        p[0] += ss;\n        q[0] += ss;\n      }\n    }\n    for (let i = c.length - 1; i >= index; i--) {\n      const n = c[i];\n      p[1] -= (h ? n.getMinWidth() : n.getMinHeight()) + ss;\n      q[1] -= (h ? n.getMaxWidth() : n.getMaxHeight()) + ss;\n    }\n    p = [Math.max(q[1], p[0]), Math.min(q[0], p[1])];\n    return p;\n  }\n  /** @internal */\n  getSplitterInitials(index) {\n    const h = this.getOrientation() === Orientation.HORZ;\n    const c = this.getChildren();\n    const ss = this.model.getSplitterSize();\n    const initialSizes = [];\n    let sum = 0;\n    for (let i = 0; i < c.length; i++) {\n      const n = c[i];\n      const r = n.getRect();\n      const s = h ? r.width : r.height;\n      initialSizes.push(s);\n      sum += s;\n    }\n    const startRect = c[index].getRect();\n    const startPosition = (h ? startRect.x : startRect.y) - ss;\n    return { initialSizes, sum, startPosition };\n  }\n  /** @internal */\n  calculateSplit(index, splitterPos, initialSizes, sum, startPosition) {\n    const h = this.getOrientation() === Orientation.HORZ;\n    const c = this.getChildren();\n    const sn = c[index];\n    const smax = h ? sn.getMaxWidth() : sn.getMaxHeight();\n    const sizes = [...initialSizes];\n    if (splitterPos < startPosition) {\n      let shift = startPosition - splitterPos;\n      let altShift = 0;\n      if (sizes[index] + shift > smax) {\n        altShift = sizes[index] + shift - smax;\n        sizes[index] = smax;\n      } else {\n        sizes[index] += shift;\n      }\n      for (let i = index - 1; i >= 0; i--) {\n        const n = c[i];\n        const m = h ? n.getMinWidth() : n.getMinHeight();\n        if (sizes[i] - shift > m) {\n          sizes[i] -= shift;\n          break;\n        } else {\n          shift -= sizes[i] - m;\n          sizes[i] = m;\n        }\n      }\n      for (let i = index + 1; i < c.length; i++) {\n        const n = c[i];\n        const m = h ? n.getMaxWidth() : n.getMaxHeight();\n        if (sizes[i] + altShift < m) {\n          sizes[i] += altShift;\n          break;\n        } else {\n          altShift -= m - sizes[i];\n          sizes[i] = m;\n        }\n      }\n    } else {\n      let shift = splitterPos - startPosition;\n      let altShift = 0;\n      if (sizes[index - 1] + shift > smax) {\n        altShift = sizes[index - 1] + shift - smax;\n        sizes[index - 1] = smax;\n      } else {\n        sizes[index - 1] += shift;\n      }\n      for (let i = index; i < c.length; i++) {\n        const n = c[i];\n        const m = h ? n.getMinWidth() : n.getMinHeight();\n        if (sizes[i] - shift > m) {\n          sizes[i] -= shift;\n          break;\n        } else {\n          shift -= sizes[i] - m;\n          sizes[i] = m;\n        }\n      }\n      for (let i = index - 1; i >= 0; i--) {\n        const n = c[i];\n        const m = h ? n.getMaxWidth() : n.getMaxHeight();\n        if (sizes[i] + altShift < m) {\n          sizes[i] += altShift;\n          break;\n        } else {\n          altShift -= m - sizes[i];\n          sizes[i] = m;\n        }\n      }\n    }\n    const weights = sizes.map((s) => Math.max(0.1, s) * 100 / sum);\n    return weights;\n  }\n  /** @internal */\n  getMinSize(orientation) {\n    if (orientation === Orientation.HORZ) {\n      return this.getMinWidth();\n    } else {\n      return this.getMinHeight();\n    }\n  }\n  /** @internal */\n  getMinWidth() {\n    return this.minWidth;\n  }\n  /** @internal */\n  getMinHeight() {\n    return this.minHeight;\n  }\n  /** @internal */\n  getMaxSize(orientation) {\n    if (orientation === Orientation.HORZ) {\n      return this.getMaxWidth();\n    } else {\n      return this.getMaxHeight();\n    }\n  }\n  /** @internal */\n  getMaxWidth() {\n    return this.maxWidth;\n  }\n  /** @internal */\n  getMaxHeight() {\n    return this.maxHeight;\n  }\n  /** @internal */\n  calcMinMaxSize() {\n    this.minHeight = DefaultMin;\n    this.minWidth = DefaultMin;\n    this.maxHeight = DefaultMax;\n    this.maxWidth = DefaultMax;\n    let first = true;\n    for (const child of this.children) {\n      const c = child;\n      c.calcMinMaxSize();\n      if (this.getOrientation() === Orientation.VERT) {\n        this.minHeight += c.getMinHeight();\n        this.maxHeight += c.getMaxHeight();\n        if (!first) {\n          this.minHeight += this.model.getSplitterSize();\n          this.maxHeight += this.model.getSplitterSize();\n        }\n        this.minWidth = Math.max(this.minWidth, c.getMinWidth());\n        this.maxWidth = Math.min(this.maxWidth, c.getMaxWidth());\n      } else {\n        this.minWidth += c.getMinWidth();\n        this.maxWidth += c.getMaxWidth();\n        if (!first) {\n          this.minWidth += this.model.getSplitterSize();\n          this.maxWidth += this.model.getSplitterSize();\n        }\n        this.minHeight = Math.max(this.minHeight, c.getMinHeight());\n        this.maxHeight = Math.min(this.maxHeight, c.getMaxHeight());\n      }\n      first = false;\n    }\n  }\n  /** @internal */\n  tidy() {\n    let i = 0;\n    while (i < this.children.length) {\n      const child = this.children[i];\n      if (child instanceof _RowNode) {\n        child.tidy();\n        const childChildren = child.getChildren();\n        if (childChildren.length === 0) {\n          this.removeChild(child);\n        } else if (childChildren.length === 1) {\n          const subchild = childChildren[0];\n          this.removeChild(child);\n          if (subchild instanceof _RowNode) {\n            let subChildrenTotal = 0;\n            const subChildChildren = subchild.getChildren();\n            for (const ssc of subChildChildren) {\n              const subsubChild = ssc;\n              subChildrenTotal += subsubChild.getWeight();\n            }\n            for (let j = 0; j < subChildChildren.length; j++) {\n              const subsubChild = subChildChildren[j];\n              subsubChild.setWeight(child.getWeight() * subsubChild.getWeight() / subChildrenTotal);\n              this.addChild(subsubChild, i + j);\n            }\n          } else {\n            subchild.setWeight(child.getWeight());\n            this.addChild(subchild, i);\n          }\n        } else {\n          i++;\n        }\n      } else if (child instanceof TabSetNode && child.getChildren().length === 0) {\n        if (child.isEnableDeleteWhenEmpty()) {\n          this.removeChild(child);\n          if (child === this.model.getMaximizedTabset(this.windowId)) {\n            this.model.setMaximizedTabset(void 0, this.windowId);\n          }\n        } else {\n          i++;\n        }\n      } else {\n        i++;\n      }\n    }\n    if (this === this.model.getRoot(this.windowId) && this.children.length === 0) {\n      const callback = this.model.getOnCreateTabSet();\n      let attrs = callback ? callback() : {};\n      attrs = { ...attrs, selected: -1 };\n      const child = new TabSetNode(this.model, attrs);\n      this.model.setActiveTabset(child, this.windowId);\n      this.addChild(child);\n    }\n  }\n  /** @internal */\n  canDrop(dragNode, x, y) {\n    const yy = y - this.rect.y;\n    const xx = x - this.rect.x;\n    const w = this.rect.width;\n    const h = this.rect.height;\n    const margin = 10;\n    const half = 50;\n    let dropInfo;\n    if (this.getWindowId() !== Model.MAIN_WINDOW_ID && !canDockToWindow(dragNode)) {\n      return void 0;\n    }\n    if (this.model.isEnableEdgeDock() && this.parent === void 0) {\n      if (x < this.rect.x + margin && yy > h / 2 - half && yy < h / 2 + half) {\n        const dockLocation = DockLocation.LEFT;\n        const outlineRect = dockLocation.getDockRect(this.rect);\n        outlineRect.width = outlineRect.width / 2;\n        dropInfo = new DropInfo(this, outlineRect, dockLocation, -1, CLASSES.FLEXLAYOUT__OUTLINE_RECT_EDGE);\n      } else if (x > this.rect.getRight() - margin && yy > h / 2 - half && yy < h / 2 + half) {\n        const dockLocation = DockLocation.RIGHT;\n        const outlineRect = dockLocation.getDockRect(this.rect);\n        outlineRect.width = outlineRect.width / 2;\n        outlineRect.x += outlineRect.width;\n        dropInfo = new DropInfo(this, outlineRect, dockLocation, -1, CLASSES.FLEXLAYOUT__OUTLINE_RECT_EDGE);\n      } else if (y < this.rect.y + margin && xx > w / 2 - half && xx < w / 2 + half) {\n        const dockLocation = DockLocation.TOP;\n        const outlineRect = dockLocation.getDockRect(this.rect);\n        outlineRect.height = outlineRect.height / 2;\n        dropInfo = new DropInfo(this, outlineRect, dockLocation, -1, CLASSES.FLEXLAYOUT__OUTLINE_RECT_EDGE);\n      } else if (y > this.rect.getBottom() - margin && xx > w / 2 - half && xx < w / 2 + half) {\n        const dockLocation = DockLocation.BOTTOM;\n        const outlineRect = dockLocation.getDockRect(this.rect);\n        outlineRect.height = outlineRect.height / 2;\n        outlineRect.y += outlineRect.height;\n        dropInfo = new DropInfo(this, outlineRect, dockLocation, -1, CLASSES.FLEXLAYOUT__OUTLINE_RECT_EDGE);\n      }\n      if (dropInfo !== void 0) {\n        if (!dragNode.canDockInto(dragNode, dropInfo)) {\n          return void 0;\n        }\n      }\n    }\n    return dropInfo;\n  }\n  /** @internal */\n  drop(dragNode, location, index) {\n    const dockLocation = location;\n    const parent = dragNode.getParent();\n    if (parent) {\n      parent.removeChild(dragNode);\n    }\n    if (parent !== void 0 && parent instanceof TabSetNode) {\n      parent.setSelected(0);\n    }\n    if (parent !== void 0 && parent instanceof BorderNode) {\n      parent.setSelected(-1);\n    }\n    let node;\n    if (dragNode instanceof TabSetNode || dragNode instanceof _RowNode) {\n      node = dragNode;\n      if (node instanceof _RowNode && node.getOrientation() === this.getOrientation() && (location.getOrientation() === this.getOrientation() || location === DockLocation.CENTER)) {\n        node = new _RowNode(this.model, this.windowId, {});\n        node.addChild(dragNode);\n      }\n    } else {\n      const callback = this.model.getOnCreateTabSet();\n      node = new TabSetNode(this.model, callback ? callback(dragNode) : {});\n      node.addChild(dragNode);\n    }\n    let size = this.children.reduce((sum, child) => {\n      return sum + child.getWeight();\n    }, 0);\n    if (size === 0) {\n      size = 100;\n    }\n    node.setWeight(size / 3);\n    const horz = !this.model.isRootOrientationVertical();\n    if (dockLocation === DockLocation.CENTER) {\n      if (index === -1) {\n        this.addChild(node, this.children.length);\n      } else {\n        this.addChild(node, index);\n      }\n    } else if (horz && dockLocation === DockLocation.LEFT || !horz && dockLocation === DockLocation.TOP) {\n      this.addChild(node, 0);\n    } else if (horz && dockLocation === DockLocation.RIGHT || !horz && dockLocation === DockLocation.BOTTOM) {\n      this.addChild(node);\n    } else if (horz && dockLocation === DockLocation.TOP || !horz && dockLocation === DockLocation.LEFT) {\n      const vrow = new _RowNode(this.model, this.windowId, {});\n      const hrow = new _RowNode(this.model, this.windowId, {});\n      hrow.setWeight(75);\n      node.setWeight(25);\n      for (const child of this.children) {\n        hrow.addChild(child);\n      }\n      this.removeAll();\n      vrow.addChild(node);\n      vrow.addChild(hrow);\n      this.addChild(vrow);\n    } else if (horz && dockLocation === DockLocation.BOTTOM || !horz && dockLocation === DockLocation.RIGHT) {\n      const vrow = new _RowNode(this.model, this.windowId, {});\n      const hrow = new _RowNode(this.model, this.windowId, {});\n      hrow.setWeight(75);\n      node.setWeight(25);\n      for (const child of this.children) {\n        hrow.addChild(child);\n      }\n      this.removeAll();\n      vrow.addChild(hrow);\n      vrow.addChild(node);\n      this.addChild(vrow);\n    }\n    if (node instanceof TabSetNode) {\n      this.model.setActiveTabset(node, this.windowId);\n    }\n    this.model.tidy();\n  }\n  /** @internal */\n  isEnableDrop() {\n    return true;\n  }\n  /** @internal */\n  getAttributeDefinitions() {\n    return _RowNode.attributeDefinitions;\n  }\n  /** @internal */\n  updateAttrs(json) {\n    _RowNode.attributeDefinitions.update(json, this.attributes);\n  }\n  /** @internal */\n  static getAttributeDefinitions() {\n    return _RowNode.attributeDefinitions;\n  }\n  // NOTE:  flex-grow cannot have values < 1 otherwise will not fill parent, need to normalize \n  normalizeWeights() {\n    let sum = 0;\n    for (const n of this.children) {\n      const node = n;\n      sum += node.getWeight();\n    }\n    if (sum === 0) {\n      sum = 1;\n    }\n    for (const n of this.children) {\n      const node = n;\n      node.setWeight(Math.max(1e-3, 100 * node.getWeight() / sum));\n    }\n  }\n  /** @internal */\n  static createAttributeDefinitions() {\n    const attributeDefinitions = new AttributeDefinitions();\n    attributeDefinitions.add(\"type\", _RowNode.TYPE, true).setType(Attribute.STRING).setFixed();\n    attributeDefinitions.add(\"id\", void 0).setType(Attribute.STRING).setDescription(\n      `the unique id of the row, if left undefined a uuid will be assigned`\n    );\n    attributeDefinitions.add(\"weight\", 100).setType(Attribute.NUMBER).setDescription(\n      `relative weight for sizing of this row in parent row`\n    );\n    return attributeDefinitions;\n  }\n};\n__publicField(_RowNode, \"TYPE\", \"row\");\n/** @internal */\n__publicField(_RowNode, \"attributeDefinitions\", _RowNode.createAttributeDefinitions());\nlet RowNode = _RowNode;\nclass LayoutWindow {\n  constructor(windowId, rect) {\n    __publicField(this, \"_windowId\");\n    __publicField(this, \"_layout\");\n    __publicField(this, \"_rect\");\n    __publicField(this, \"_window\");\n    __publicField(this, \"_root\");\n    __publicField(this, \"_maximizedTabSet\");\n    __publicField(this, \"_activeTabSet\");\n    __publicField(this, \"_toScreenRectFunction\");\n    this._windowId = windowId;\n    this._rect = rect;\n    this._toScreenRectFunction = (r) => r;\n  }\n  visitNodes(fn) {\n    this.root.forEachNode(fn, 0);\n  }\n  get windowId() {\n    return this._windowId;\n  }\n  get rect() {\n    return this._rect;\n  }\n  get layout() {\n    return this._layout;\n  }\n  get window() {\n    return this._window;\n  }\n  get root() {\n    return this._root;\n  }\n  get maximizedTabSet() {\n    return this._maximizedTabSet;\n  }\n  get activeTabSet() {\n    return this._activeTabSet;\n  }\n  /** @internal */\n  set rect(value) {\n    this._rect = value;\n  }\n  /** @internal */\n  set layout(value) {\n    this._layout = value;\n  }\n  /** @internal */\n  set window(value) {\n    this._window = value;\n  }\n  /** @internal */\n  set root(value) {\n    this._root = value;\n  }\n  /** @internal */\n  set maximizedTabSet(value) {\n    this._maximizedTabSet = value;\n  }\n  /** @internal */\n  set activeTabSet(value) {\n    this._activeTabSet = value;\n  }\n  /** @internal */\n  get toScreenRectFunction() {\n    return this._toScreenRectFunction;\n  }\n  /** @internal */\n  set toScreenRectFunction(value) {\n    this._toScreenRectFunction = value;\n  }\n  toJson() {\n    if (this._window && this._window.screenTop > -1e4) {\n      this.rect = new Rect(\n        this._window.screenLeft,\n        this._window.screenTop,\n        this._window.outerWidth,\n        this._window.outerHeight\n      );\n    }\n    return { layout: this.root.toJson(), rect: this.rect.toJson() };\n  }\n  static fromJson(windowJson, model, windowId) {\n    const count = model.getwindowsMap().size;\n    const rect = windowJson.rect ? Rect.fromJson(windowJson.rect) : new Rect(50 + 50 * count, 50 + 50 * count, 600, 400);\n    rect.snap(10);\n    const layoutWindow = new LayoutWindow(windowId, rect);\n    layoutWindow.root = RowNode.fromJson(windowJson.layout, model, layoutWindow);\n    return layoutWindow;\n  }\n}\nconst DefaultMin = 0;\nconst DefaultMax = 99999;\nconst _Model = class _Model {\n  /**\n   * 'private' constructor. Use the static method Model.fromJson(json) to create a model\n   *  @internal\n   */\n  constructor() {\n    /** @internal */\n    __publicField(this, \"attributes\");\n    /** @internal */\n    __publicField(this, \"idMap\");\n    /** @internal */\n    __publicField(this, \"changeListeners\");\n    /** @internal */\n    __publicField(this, \"borders\");\n    /** @internal */\n    __publicField(this, \"onAllowDrop\");\n    /** @internal */\n    __publicField(this, \"onCreateTabSet\");\n    /** @internal */\n    __publicField(this, \"windows\");\n    /** @internal */\n    __publicField(this, \"rootWindow\");\n    this.attributes = {};\n    this.idMap = /* @__PURE__ */ new Map();\n    this.borders = new BorderSet(this);\n    this.windows = /* @__PURE__ */ new Map();\n    this.rootWindow = new LayoutWindow(_Model.MAIN_WINDOW_ID, Rect.empty());\n    this.windows.set(_Model.MAIN_WINDOW_ID, this.rootWindow);\n    this.changeListeners = [];\n  }\n  /**\n   * Update the node tree by performing the given action,\n   * Actions should be generated via static methods on the Actions class\n   * @param action the action to perform\n   * @returns added Node for Actions.addNode, windowId for createWindow\n   */\n  doAction(action) {\n    var _a;\n    let returnVal = void 0;\n    switch (action.type) {\n      case Actions.ADD_NODE: {\n        const newNode = new TabNode(this, action.data.json, true);\n        const toNode = this.idMap.get(action.data.toNode);\n        if (toNode instanceof TabSetNode || toNode instanceof BorderNode || toNode instanceof RowNode) {\n          toNode.drop(newNode, DockLocation.getByName(action.data.location), action.data.index, action.data.select);\n          returnVal = newNode;\n        }\n        break;\n      }\n      case Actions.MOVE_NODE: {\n        const fromNode = this.idMap.get(action.data.fromNode);\n        if (fromNode instanceof TabNode || fromNode instanceof TabSetNode || fromNode instanceof RowNode) {\n          if (fromNode === this.getMaximizedTabset(fromNode.getWindowId())) {\n            const fromWindow = this.windows.get(fromNode.getWindowId());\n            fromWindow.maximizedTabSet = void 0;\n          }\n          const toNode = this.idMap.get(action.data.toNode);\n          if (toNode instanceof TabSetNode || toNode instanceof BorderNode || toNode instanceof RowNode) {\n            toNode.drop(fromNode, DockLocation.getByName(action.data.location), action.data.index, action.data.select);\n          }\n        }\n        this.removeEmptyWindows();\n        break;\n      }\n      case Actions.DELETE_TAB: {\n        const node = this.idMap.get(action.data.node);\n        if (node instanceof TabNode) {\n          node.delete();\n        }\n        this.removeEmptyWindows();\n        break;\n      }\n      case Actions.DELETE_TABSET: {\n        const node = this.idMap.get(action.data.node);\n        if (node instanceof TabSetNode) {\n          const children = [...node.getChildren()];\n          for (let i = 0; i < children.length; i++) {\n            const child = children[i];\n            if (child.isEnableClose()) {\n              child.delete();\n            }\n          }\n          if (node.getChildren().length === 0) {\n            node.delete();\n          }\n          this.tidy();\n        }\n        this.removeEmptyWindows();\n        break;\n      }\n      case Actions.POPOUT_TABSET: {\n        const node = this.idMap.get(action.data.node);\n        if (node instanceof TabSetNode) {\n          const isMaximized = node.isMaximized();\n          const oldLayoutWindow = this.windows.get(node.getWindowId());\n          const windowId = randomUUID();\n          const layoutWindow = new LayoutWindow(windowId, oldLayoutWindow.toScreenRectFunction(node.getRect()));\n          const json = {\n            type: \"row\",\n            children: []\n          };\n          const row = RowNode.fromJson(json, this, layoutWindow);\n          layoutWindow.root = row;\n          this.windows.set(windowId, layoutWindow);\n          row.drop(node, DockLocation.CENTER, 0);\n          if (isMaximized) {\n            this.rootWindow.maximizedTabSet = void 0;\n          }\n        }\n        this.removeEmptyWindows();\n        break;\n      }\n      case Actions.POPOUT_TAB: {\n        const node = this.idMap.get(action.data.node);\n        if (node instanceof TabNode) {\n          const windowId = randomUUID();\n          let r = Rect.empty();\n          if (node.getParent() instanceof TabSetNode) {\n            r = node.getParent().getRect();\n          } else {\n            r = node.getParent().getContentRect();\n          }\n          const oldLayoutWindow = this.windows.get(node.getWindowId());\n          const layoutWindow = new LayoutWindow(windowId, oldLayoutWindow.toScreenRectFunction(r));\n          const tabsetId = randomUUID();\n          const json = {\n            type: \"row\",\n            children: [\n              { type: \"tabset\", id: tabsetId }\n            ]\n          };\n          const row = RowNode.fromJson(json, this, layoutWindow);\n          layoutWindow.root = row;\n          this.windows.set(windowId, layoutWindow);\n          const tabset = this.idMap.get(tabsetId);\n          tabset.drop(node, DockLocation.CENTER, 0, true);\n        }\n        this.removeEmptyWindows();\n        break;\n      }\n      case Actions.CLOSE_WINDOW: {\n        const window2 = this.windows.get(action.data.windowId);\n        if (window2) {\n          (_a = this.rootWindow.root) == null ? void 0 : _a.drop(window2.root, DockLocation.CENTER, -1);\n          this.rootWindow.visitNodes((node, level) => {\n            if (node instanceof RowNode) {\n              node.setWindowId(_Model.MAIN_WINDOW_ID);\n            }\n          });\n          this.windows.delete(action.data.windowId);\n        }\n        break;\n      }\n      case Actions.CREATE_WINDOW: {\n        const windowId = randomUUID();\n        const layoutWindow = new LayoutWindow(windowId, Rect.fromJson(action.data.rect));\n        const row = RowNode.fromJson(action.data.layout, this, layoutWindow);\n        layoutWindow.root = row;\n        this.windows.set(windowId, layoutWindow);\n        returnVal = windowId;\n        break;\n      }\n      case Actions.RENAME_TAB: {\n        const node = this.idMap.get(action.data.node);\n        if (node instanceof TabNode) {\n          node.setName(action.data.text);\n        }\n        break;\n      }\n      case Actions.SELECT_TAB: {\n        const tabNode = this.idMap.get(action.data.tabNode);\n        const windowId = action.data.windowId ? action.data.windowId : _Model.MAIN_WINDOW_ID;\n        const window2 = this.windows.get(windowId);\n        if (tabNode instanceof TabNode) {\n          const parent = tabNode.getParent();\n          const pos = parent.getChildren().indexOf(tabNode);\n          if (parent instanceof BorderNode) {\n            if (parent.getSelected() === pos) {\n              parent.setSelected(-1);\n            } else {\n              parent.setSelected(pos);\n            }\n          } else if (parent instanceof TabSetNode) {\n            if (parent.getSelected() !== pos) {\n              parent.setSelected(pos);\n            }\n            window2.activeTabSet = parent;\n          }\n        }\n        break;\n      }\n      case Actions.SET_ACTIVE_TABSET: {\n        const windowId = action.data.windowId ? action.data.windowId : _Model.MAIN_WINDOW_ID;\n        const window2 = this.windows.get(windowId);\n        if (action.data.tabsetNode === void 0) {\n          window2.activeTabSet = void 0;\n        } else {\n          const tabsetNode = this.idMap.get(action.data.tabsetNode);\n          if (tabsetNode instanceof TabSetNode) {\n            window2.activeTabSet = tabsetNode;\n          }\n        }\n        break;\n      }\n      case Actions.ADJUST_WEIGHTS: {\n        const row = this.idMap.get(action.data.nodeId);\n        const c = row.getChildren();\n        for (let i = 0; i < c.length; i++) {\n          const n = c[i];\n          n.setWeight(action.data.weights[i]);\n        }\n        break;\n      }\n      case Actions.ADJUST_BORDER_SPLIT: {\n        const node = this.idMap.get(action.data.node);\n        if (node instanceof BorderNode) {\n          node.setSize(action.data.pos);\n        }\n        break;\n      }\n      case Actions.MAXIMIZE_TOGGLE: {\n        const windowId = action.data.windowId ? action.data.windowId : _Model.MAIN_WINDOW_ID;\n        const window2 = this.windows.get(windowId);\n        const node = this.idMap.get(action.data.node);\n        if (node instanceof TabSetNode) {\n          if (node === window2.maximizedTabSet) {\n            window2.maximizedTabSet = void 0;\n          } else {\n            window2.maximizedTabSet = node;\n            window2.activeTabSet = node;\n          }\n        }\n        break;\n      }\n      case Actions.UPDATE_MODEL_ATTRIBUTES: {\n        this.updateAttrs(action.data.json);\n        break;\n      }\n      case Actions.UPDATE_NODE_ATTRIBUTES: {\n        const node = this.idMap.get(action.data.node);\n        node.updateAttrs(action.data.json);\n        break;\n      }\n    }\n    this.updateIdMap();\n    for (const listener of this.changeListeners) {\n      listener(action);\n    }\n    return returnVal;\n  }\n  /**\n   * Get the currently active tabset node\n   */\n  getActiveTabset(windowId = _Model.MAIN_WINDOW_ID) {\n    const window2 = this.windows.get(windowId);\n    if (window2 && window2.activeTabSet && this.getNodeById(window2.activeTabSet.getId())) {\n      return window2.activeTabSet;\n    } else {\n      return void 0;\n    }\n  }\n  /**\n   * Get the currently maximized tabset node\n   */\n  getMaximizedTabset(windowId = _Model.MAIN_WINDOW_ID) {\n    return this.windows.get(windowId).maximizedTabSet;\n  }\n  /**\n   * Gets the root RowNode of the model\n   * @returns {RowNode}\n   */\n  getRoot(windowId = _Model.MAIN_WINDOW_ID) {\n    return this.windows.get(windowId).root;\n  }\n  isRootOrientationVertical() {\n    return this.attributes.rootOrientationVertical;\n  }\n  isEnableRotateBorderIcons() {\n    return this.attributes.enableRotateBorderIcons;\n  }\n  /**\n   * Gets the\n   * @returns {BorderSet|*}\n   */\n  getBorderSet() {\n    return this.borders;\n  }\n  getwindowsMap() {\n    return this.windows;\n  }\n  /**\n   * Visits all the nodes in the model and calls the given function for each\n   * @param fn a function that takes visited node and a integer level as parameters\n   */\n  visitNodes(fn) {\n    this.borders.forEachNode(fn);\n    for (const [_, w] of this.windows) {\n      w.root.forEachNode(fn, 0);\n    }\n  }\n  visitWindowNodes(windowId, fn) {\n    if (this.windows.has(windowId)) {\n      if (windowId === _Model.MAIN_WINDOW_ID) {\n        this.borders.forEachNode(fn);\n      }\n      this.windows.get(windowId).visitNodes(fn);\n    }\n  }\n  /**\n   * Gets a node by its id\n   * @param id the id to find\n   */\n  getNodeById(id) {\n    return this.idMap.get(id);\n  }\n  /**\n   * Finds the first/top left tab set of the given node.\n   * @param node The top node you want to begin searching from, deafults to the root node\n   * @returns The first Tab Set\n   */\n  getFirstTabSet(node = this.windows.get(_Model.MAIN_WINDOW_ID).root) {\n    const child = node.getChildren()[0];\n    if (child instanceof TabSetNode) {\n      return child;\n    } else {\n      return this.getFirstTabSet(child);\n    }\n  }\n  /**\n  * Loads the model from the given json object\n  * @param json the json model to load\n  * @returns {Model} a new Model object\n  */\n  static fromJson(json) {\n    const model = new _Model();\n    _Model.attributeDefinitions.fromJson(json.global, model.attributes);\n    if (json.borders) {\n      model.borders = BorderSet.fromJson(json.borders, model);\n    }\n    if (json.popouts) {\n      for (const windowId in json.popouts) {\n        const windowJson = json.popouts[windowId];\n        const layoutWindow = LayoutWindow.fromJson(windowJson, model, windowId);\n        model.windows.set(windowId, layoutWindow);\n      }\n    }\n    model.rootWindow.root = RowNode.fromJson(json.layout, model, model.getwindowsMap().get(_Model.MAIN_WINDOW_ID));\n    model.tidy();\n    return model;\n  }\n  /**\n   * Converts the model to a json object\n   * @returns {IJsonModel} json object that represents this model\n   */\n  toJson() {\n    const global = {};\n    _Model.attributeDefinitions.toJson(global, this.attributes);\n    this.visitNodes((node) => {\n      node.fireEvent(\"save\", {});\n    });\n    const windows = {};\n    for (const [id, window2] of this.windows) {\n      if (id !== _Model.MAIN_WINDOW_ID) {\n        windows[id] = window2.toJson();\n      }\n    }\n    return {\n      global,\n      borders: this.borders.toJson(),\n      layout: this.rootWindow.root.toJson(),\n      popouts: windows\n    };\n  }\n  getSplitterSize() {\n    return this.attributes.splitterSize;\n  }\n  getSplitterExtra() {\n    return this.attributes.splitterExtra;\n  }\n  isEnableEdgeDock() {\n    return this.attributes.enableEdgeDock;\n  }\n  isSplitterEnableHandle() {\n    return this.attributes.splitterEnableHandle;\n  }\n  /**\n   * Sets a function to allow/deny dropping a node\n   * @param onAllowDrop function that takes the drag node and DropInfo and returns true if the drop is allowed\n   */\n  setOnAllowDrop(onAllowDrop) {\n    this.onAllowDrop = onAllowDrop;\n  }\n  /**\n   * set callback called when a new TabSet is created.\n   * The tabNode can be undefined if it's the auto created first tabset in the root row (when the last\n   * tab is deleted, the root tabset can be recreated)\n   * @param onCreateTabSet \n   */\n  setOnCreateTabSet(onCreateTabSet) {\n    this.onCreateTabSet = onCreateTabSet;\n  }\n  addChangeListener(listener) {\n    this.changeListeners.push(listener);\n  }\n  removeChangeListener(listener) {\n    const pos = this.changeListeners.findIndex((l) => l === listener);\n    if (pos !== -1) {\n      this.changeListeners.splice(pos, 1);\n    }\n  }\n  toString() {\n    return JSON.stringify(this.toJson());\n  }\n  /***********************internal ********************************/\n  /** @internal */\n  removeEmptyWindows() {\n    const emptyWindows = /* @__PURE__ */ new Set();\n    for (const [windowId] of this.windows) {\n      if (windowId !== _Model.MAIN_WINDOW_ID) {\n        let count = 0;\n        this.visitWindowNodes(windowId, (node) => {\n          if (node instanceof TabNode) {\n            count++;\n          }\n        });\n        if (count === 0) {\n          emptyWindows.add(windowId);\n        }\n      }\n    }\n    for (const windowId of emptyWindows) {\n      this.windows.delete(windowId);\n    }\n  }\n  /** @internal */\n  setActiveTabset(tabsetNode, windowId) {\n    const window2 = this.windows.get(windowId);\n    if (window2) {\n      if (tabsetNode) {\n        window2.activeTabSet = tabsetNode;\n      } else {\n        window2.activeTabSet = void 0;\n      }\n    }\n  }\n  /** @internal */\n  setMaximizedTabset(tabsetNode, windowId) {\n    const window2 = this.windows.get(windowId);\n    if (window2) {\n      if (tabsetNode) {\n        window2.maximizedTabSet = tabsetNode;\n      } else {\n        window2.maximizedTabSet = void 0;\n      }\n    }\n  }\n  /** @internal */\n  updateIdMap() {\n    this.idMap.clear();\n    this.visitNodes((node) => {\n      this.idMap.set(node.getId(), node);\n    });\n  }\n  /** @internal */\n  addNode(node) {\n    const id = node.getId();\n    if (this.idMap.has(id)) {\n      throw new Error(`Error: each node must have a unique id, duplicate id:${node.getId()}`);\n    }\n    this.idMap.set(id, node);\n  }\n  /** @internal */\n  findDropTargetNode(windowId, dragNode, x, y) {\n    let node = this.windows.get(windowId).root.findDropTargetNode(windowId, dragNode, x, y);\n    if (node === void 0 && windowId === _Model.MAIN_WINDOW_ID) {\n      node = this.borders.findDropTargetNode(dragNode, x, y);\n    }\n    return node;\n  }\n  /** @internal */\n  tidy() {\n    for (const [_, window2] of this.windows) {\n      window2.root.tidy();\n    }\n  }\n  /** @internal */\n  updateAttrs(json) {\n    _Model.attributeDefinitions.update(json, this.attributes);\n  }\n  /** @internal */\n  nextUniqueId() {\n    return \"#\" + randomUUID();\n  }\n  /** @internal */\n  getAttribute(name) {\n    return this.attributes[name];\n  }\n  /** @internal */\n  getOnAllowDrop() {\n    return this.onAllowDrop;\n  }\n  /** @internal */\n  getOnCreateTabSet() {\n    return this.onCreateTabSet;\n  }\n  static toTypescriptInterfaces() {\n    _Model.attributeDefinitions.pairAttributes(\"RowNode\", RowNode.getAttributeDefinitions());\n    _Model.attributeDefinitions.pairAttributes(\"TabSetNode\", TabSetNode.getAttributeDefinitions());\n    _Model.attributeDefinitions.pairAttributes(\"TabNode\", TabNode.getAttributeDefinitions());\n    _Model.attributeDefinitions.pairAttributes(\"BorderNode\", BorderNode.getAttributeDefinitions());\n    const sb = [];\n    sb.push(_Model.attributeDefinitions.toTypescriptInterface(\"Global\", void 0));\n    sb.push(RowNode.getAttributeDefinitions().toTypescriptInterface(\"Row\", _Model.attributeDefinitions));\n    sb.push(TabSetNode.getAttributeDefinitions().toTypescriptInterface(\"TabSet\", _Model.attributeDefinitions));\n    sb.push(TabNode.getAttributeDefinitions().toTypescriptInterface(\"Tab\", _Model.attributeDefinitions));\n    sb.push(BorderNode.getAttributeDefinitions().toTypescriptInterface(\"Border\", _Model.attributeDefinitions));\n    console.log(sb.join(\"\\n\"));\n  }\n  /** @internal */\n  static createAttributeDefinitions() {\n    const attributeDefinitions = new AttributeDefinitions();\n    attributeDefinitions.add(\"enableEdgeDock\", true).setType(Attribute.BOOLEAN).setDescription(\n      `enable docking to the edges of the layout, this will show the edge indicators`\n    );\n    attributeDefinitions.add(\"rootOrientationVertical\", false).setType(Attribute.BOOLEAN).setDescription(\n      `the top level 'row' will layout horizontally by default, set this option true to make it layout vertically`\n    );\n    attributeDefinitions.add(\"enableRotateBorderIcons\", true).setType(Attribute.BOOLEAN).setDescription(\n      `boolean indicating if tab icons should rotate with the text in the left and right borders`\n    );\n    attributeDefinitions.add(\"splitterSize\", 8).setType(Attribute.NUMBER).setDescription(\n      `width in pixels of all splitters between tabsets/borders`\n    );\n    attributeDefinitions.add(\"splitterExtra\", 0).setType(Attribute.NUMBER).setDescription(\n      `additional width in pixels of the splitter hit test area`\n    );\n    attributeDefinitions.add(\"splitterEnableHandle\", false).setType(Attribute.BOOLEAN).setDescription(\n      `enable a small centralized handle on all splitters`\n    );\n    attributeDefinitions.add(\"tabEnableClose\", true).setType(Attribute.BOOLEAN);\n    attributeDefinitions.add(\"tabCloseType\", 1).setType(\"ICloseType\");\n    attributeDefinitions.add(\"tabEnablePopout\", false).setType(Attribute.BOOLEAN).setAlias(\"tabEnableFloat\");\n    attributeDefinitions.add(\"tabEnablePopoutIcon\", true).setType(Attribute.BOOLEAN);\n    attributeDefinitions.add(\"tabEnablePopoutOverlay\", false).setType(Attribute.BOOLEAN);\n    attributeDefinitions.add(\"tabEnableDrag\", true).setType(Attribute.BOOLEAN);\n    attributeDefinitions.add(\"tabEnableRename\", true).setType(Attribute.BOOLEAN);\n    attributeDefinitions.add(\"tabContentClassName\", void 0).setType(Attribute.STRING);\n    attributeDefinitions.add(\"tabClassName\", void 0).setType(Attribute.STRING);\n    attributeDefinitions.add(\"tabIcon\", void 0).setType(Attribute.STRING);\n    attributeDefinitions.add(\"tabEnableRenderOnDemand\", true).setType(Attribute.BOOLEAN);\n    attributeDefinitions.add(\"tabDragSpeed\", 0.3).setType(Attribute.NUMBER);\n    attributeDefinitions.add(\"tabBorderWidth\", -1).setType(Attribute.NUMBER);\n    attributeDefinitions.add(\"tabBorderHeight\", -1).setType(Attribute.NUMBER);\n    attributeDefinitions.add(\"tabSetEnableDeleteWhenEmpty\", true).setType(Attribute.BOOLEAN);\n    attributeDefinitions.add(\"tabSetEnableDrop\", true).setType(Attribute.BOOLEAN);\n    attributeDefinitions.add(\"tabSetEnableDrag\", true).setType(Attribute.BOOLEAN);\n    attributeDefinitions.add(\"tabSetEnableDivide\", true).setType(Attribute.BOOLEAN);\n    attributeDefinitions.add(\"tabSetEnableMaximize\", true).setType(Attribute.BOOLEAN);\n    attributeDefinitions.add(\"tabSetEnableClose\", false).setType(Attribute.BOOLEAN);\n    attributeDefinitions.add(\"tabSetEnableSingleTabStretch\", false).setType(Attribute.BOOLEAN);\n    attributeDefinitions.add(\"tabSetAutoSelectTab\", true).setType(Attribute.BOOLEAN);\n    attributeDefinitions.add(\"tabSetEnableActiveIcon\", false).setType(Attribute.BOOLEAN);\n    attributeDefinitions.add(\"tabSetClassNameTabStrip\", void 0).setType(Attribute.STRING);\n    attributeDefinitions.add(\"tabSetEnableTabStrip\", true).setType(Attribute.BOOLEAN);\n    attributeDefinitions.add(\"tabSetEnableTabWrap\", false).setType(Attribute.BOOLEAN);\n    attributeDefinitions.add(\"tabSetTabLocation\", \"top\").setType(\"ITabLocation\");\n    attributeDefinitions.add(\"tabMinWidth\", DefaultMin).setType(Attribute.NUMBER);\n    attributeDefinitions.add(\"tabMinHeight\", DefaultMin).setType(Attribute.NUMBER);\n    attributeDefinitions.add(\"tabSetMinWidth\", DefaultMin).setType(Attribute.NUMBER);\n    attributeDefinitions.add(\"tabSetMinHeight\", DefaultMin).setType(Attribute.NUMBER);\n    attributeDefinitions.add(\"tabMaxWidth\", DefaultMax).setType(Attribute.NUMBER);\n    attributeDefinitions.add(\"tabMaxHeight\", DefaultMax).setType(Attribute.NUMBER);\n    attributeDefinitions.add(\"tabSetMaxWidth\", DefaultMax).setType(Attribute.NUMBER);\n    attributeDefinitions.add(\"tabSetMaxHeight\", DefaultMax).setType(Attribute.NUMBER);\n    attributeDefinitions.add(\"tabSetEnableTabScrollbar\", false).setType(Attribute.BOOLEAN);\n    attributeDefinitions.add(\"borderSize\", 200).setType(Attribute.NUMBER);\n    attributeDefinitions.add(\"borderMinSize\", DefaultMin).setType(Attribute.NUMBER);\n    attributeDefinitions.add(\"borderMaxSize\", DefaultMax).setType(Attribute.NUMBER);\n    attributeDefinitions.add(\"borderEnableDrop\", true).setType(Attribute.BOOLEAN);\n    attributeDefinitions.add(\"borderAutoSelectTabWhenOpen\", true).setType(Attribute.BOOLEAN);\n    attributeDefinitions.add(\"borderAutoSelectTabWhenClosed\", false).setType(Attribute.BOOLEAN);\n    attributeDefinitions.add(\"borderClassName\", void 0).setType(Attribute.STRING);\n    attributeDefinitions.add(\"borderEnableAutoHide\", false).setType(Attribute.BOOLEAN);\n    attributeDefinitions.add(\"borderEnableTabScrollbar\", false).setType(Attribute.BOOLEAN);\n    return attributeDefinitions;\n  }\n};\n__publicField(_Model, \"MAIN_WINDOW_ID\", \"__main_window_id__\");\n/** @internal */\n__publicField(_Model, \"attributeDefinitions\", _Model.createAttributeDefinitions());\nlet Model = _Model;\nconst _BorderNode = class _BorderNode extends Node {\n  /** @internal */\n  constructor(location, json, model) {\n    super(model);\n    /** @internal */\n    __publicField(this, \"contentRect\", Rect.empty());\n    /** @internal */\n    __publicField(this, \"tabHeaderRect\", Rect.empty());\n    /** @internal */\n    __publicField(this, \"location\");\n    this.location = location;\n    this.attributes.id = `border_${location.getName()}`;\n    _BorderNode.attributeDefinitions.fromJson(json, this.attributes);\n    model.addNode(this);\n  }\n  /** @internal */\n  static fromJson(json, model) {\n    const location = DockLocation.getByName(json.location);\n    const border = new _BorderNode(location, json, model);\n    if (json.children) {\n      border.children = json.children.map((jsonChild) => {\n        const child = TabNode.fromJson(jsonChild, model);\n        child.setParent(border);\n        return child;\n      });\n    }\n    return border;\n  }\n  getLocation() {\n    return this.location;\n  }\n  getClassName() {\n    return this.getAttr(\"className\");\n  }\n  isHorizontal() {\n    return this.location.orientation === Orientation.HORZ;\n  }\n  getSize() {\n    const defaultSize = this.getAttr(\"size\");\n    const selected = this.getSelected();\n    if (selected === -1) {\n      return defaultSize;\n    } else {\n      const tabNode = this.children[selected];\n      const tabBorderSize = this.isHorizontal() ? tabNode.getAttr(\"borderWidth\") : tabNode.getAttr(\"borderHeight\");\n      if (tabBorderSize === -1) {\n        return defaultSize;\n      } else {\n        return tabBorderSize;\n      }\n    }\n  }\n  getMinSize() {\n    const selectedNode = this.getSelectedNode();\n    let min = this.getAttr(\"minSize\");\n    if (selectedNode) {\n      const nodeMin = this.isHorizontal() ? selectedNode.getMinWidth() : selectedNode.getMinHeight();\n      min = Math.max(min, nodeMin);\n    }\n    return min;\n  }\n  getMaxSize() {\n    const selectedNode = this.getSelectedNode();\n    let max = this.getAttr(\"maxSize\");\n    if (selectedNode) {\n      const nodeMax = this.isHorizontal() ? selectedNode.getMaxWidth() : selectedNode.getMaxHeight();\n      max = Math.min(max, nodeMax);\n    }\n    return max;\n  }\n  getSelected() {\n    return this.attributes.selected;\n  }\n  isAutoHide() {\n    return this.getAttr(\"enableAutoHide\");\n  }\n  getSelectedNode() {\n    if (this.getSelected() !== -1) {\n      return this.children[this.getSelected()];\n    }\n    return void 0;\n  }\n  getOrientation() {\n    return this.location.getOrientation();\n  }\n  /**\n   * Returns the config attribute that can be used to store node specific data that\n   * WILL be saved to the json. The config attribute should be changed via the action Actions.updateNodeAttributes rather\n   * than directly, for example:\n   * this.state.model.doAction(\n   *   FlexLayout.Actions.updateNodeAttributes(node.getId(), {config:myConfigObject}));\n   */\n  getConfig() {\n    return this.attributes.config;\n  }\n  isMaximized() {\n    return false;\n  }\n  isShowing() {\n    return this.attributes.show;\n  }\n  toJson() {\n    const json = {};\n    _BorderNode.attributeDefinitions.toJson(json, this.attributes);\n    json.location = this.location.getName();\n    json.children = this.children.map((child) => child.toJson());\n    return json;\n  }\n  /** @internal */\n  isAutoSelectTab(whenOpen) {\n    if (whenOpen == null) {\n      whenOpen = this.getSelected() !== -1;\n    }\n    if (whenOpen) {\n      return this.getAttr(\"autoSelectTabWhenOpen\");\n    } else {\n      return this.getAttr(\"autoSelectTabWhenClosed\");\n    }\n  }\n  isEnableTabScrollbar() {\n    return this.getAttr(\"enableTabScrollbar\");\n  }\n  /** @internal */\n  setSelected(index) {\n    this.attributes.selected = index;\n  }\n  /** @internal */\n  getTabHeaderRect() {\n    return this.tabHeaderRect;\n  }\n  /** @internal */\n  setTabHeaderRect(r) {\n    this.tabHeaderRect = r;\n  }\n  /** @internal */\n  getRect() {\n    return this.tabHeaderRect;\n  }\n  /** @internal */\n  getContentRect() {\n    return this.contentRect;\n  }\n  /** @internal */\n  setContentRect(r) {\n    this.contentRect = r;\n  }\n  /** @internal */\n  isEnableDrop() {\n    return this.getAttr(\"enableDrop\");\n  }\n  /** @internal */\n  setSize(pos) {\n    const selected = this.getSelected();\n    if (selected === -1) {\n      this.attributes.size = pos;\n    } else {\n      const tabNode = this.children[selected];\n      const tabBorderSize = this.isHorizontal() ? tabNode.getAttr(\"borderWidth\") : tabNode.getAttr(\"borderHeight\");\n      if (tabBorderSize === -1) {\n        this.attributes.size = pos;\n      } else {\n        if (this.isHorizontal()) {\n          tabNode.setBorderWidth(pos);\n        } else {\n          tabNode.setBorderHeight(pos);\n        }\n      }\n    }\n  }\n  /** @internal */\n  updateAttrs(json) {\n    _BorderNode.attributeDefinitions.update(json, this.attributes);\n  }\n  /** @internal */\n  remove(node) {\n    const removedIndex = this.removeChild(node);\n    if (this.getSelected() !== -1) {\n      adjustSelectedIndex(this, removedIndex);\n    }\n  }\n  /** @internal */\n  canDrop(dragNode, x, y) {\n    if (!(dragNode instanceof TabNode)) {\n      return void 0;\n    }\n    let dropInfo;\n    const dockLocation = DockLocation.CENTER;\n    if (this.tabHeaderRect.contains(x, y)) {\n      if (this.location.orientation === Orientation.VERT) {\n        if (this.children.length > 0) {\n          let child = this.children[0];\n          let childRect = child.getTabRect();\n          const childY = childRect.y;\n          const childHeight = childRect.height;\n          let pos = this.tabHeaderRect.x;\n          let childCenter = 0;\n          for (let i = 0; i < this.children.length; i++) {\n            child = this.children[i];\n            childRect = child.getTabRect();\n            childCenter = childRect.x + childRect.width / 2;\n            if (x >= pos && x < childCenter) {\n              const outlineRect = new Rect(childRect.x - 2, childY, 3, childHeight);\n              dropInfo = new DropInfo(this, outlineRect, dockLocation, i, CLASSES.FLEXLAYOUT__OUTLINE_RECT);\n              break;\n            }\n            pos = childCenter;\n          }\n          if (dropInfo == null) {\n            const outlineRect = new Rect(childRect.getRight() - 2, childY, 3, childHeight);\n            dropInfo = new DropInfo(this, outlineRect, dockLocation, this.children.length, CLASSES.FLEXLAYOUT__OUTLINE_RECT);\n          }\n        } else {\n          const outlineRect = new Rect(this.tabHeaderRect.x + 1, this.tabHeaderRect.y + 2, 3, 18);\n          dropInfo = new DropInfo(this, outlineRect, dockLocation, 0, CLASSES.FLEXLAYOUT__OUTLINE_RECT);\n        }\n      } else {\n        if (this.children.length > 0) {\n          let child = this.children[0];\n          let childRect = child.getTabRect();\n          const childX = childRect.x;\n          const childWidth = childRect.width;\n          let pos = this.tabHeaderRect.y;\n          let childCenter = 0;\n          for (let i = 0; i < this.children.length; i++) {\n            child = this.children[i];\n            childRect = child.getTabRect();\n            childCenter = childRect.y + childRect.height / 2;\n            if (y >= pos && y < childCenter) {\n              const outlineRect = new Rect(childX, childRect.y - 2, childWidth, 3);\n              dropInfo = new DropInfo(this, outlineRect, dockLocation, i, CLASSES.FLEXLAYOUT__OUTLINE_RECT);\n              break;\n            }\n            pos = childCenter;\n          }\n          if (dropInfo == null) {\n            const outlineRect = new Rect(childX, childRect.getBottom() - 2, childWidth, 3);\n            dropInfo = new DropInfo(this, outlineRect, dockLocation, this.children.length, CLASSES.FLEXLAYOUT__OUTLINE_RECT);\n          }\n        } else {\n          const outlineRect = new Rect(this.tabHeaderRect.x + 2, this.tabHeaderRect.y + 1, 18, 3);\n          dropInfo = new DropInfo(this, outlineRect, dockLocation, 0, CLASSES.FLEXLAYOUT__OUTLINE_RECT);\n        }\n      }\n      if (!dragNode.canDockInto(dragNode, dropInfo)) {\n        return void 0;\n      }\n    } else if (this.getSelected() !== -1 && this.contentRect.contains(x, y)) {\n      const outlineRect = this.contentRect;\n      dropInfo = new DropInfo(this, outlineRect, dockLocation, -1, CLASSES.FLEXLAYOUT__OUTLINE_RECT);\n      if (!dragNode.canDockInto(dragNode, dropInfo)) {\n        return void 0;\n      }\n    }\n    return dropInfo;\n  }\n  /** @internal */\n  drop(dragNode, location, index, select) {\n    let fromIndex = 0;\n    const dragParent = dragNode.getParent();\n    if (dragParent !== void 0) {\n      fromIndex = dragParent.removeChild(dragNode);\n      if (dragParent !== this && dragParent instanceof _BorderNode && dragParent.getSelected() === fromIndex) {\n        dragParent.setSelected(-1);\n      } else {\n        adjustSelectedIndex(dragParent, fromIndex);\n      }\n    }\n    if (dragNode instanceof TabNode && dragParent === this && fromIndex < index && index > 0) {\n      index--;\n    }\n    let insertPos = index;\n    if (insertPos === -1) {\n      insertPos = this.children.length;\n    }\n    if (dragNode instanceof TabNode) {\n      this.addChild(dragNode, insertPos);\n    }\n    if (select || select !== false && this.isAutoSelectTab()) {\n      this.setSelected(insertPos);\n    }\n    this.model.tidy();\n  }\n  /** @internal */\n  getSplitterBounds(index, useMinSize = false) {\n    const pBounds = [0, 0];\n    const minSize = useMinSize ? this.getMinSize() : 0;\n    const maxSize = useMinSize ? this.getMaxSize() : 99999;\n    const rootRow = this.model.getRoot(Model.MAIN_WINDOW_ID);\n    const innerRect = rootRow.getRect();\n    const splitterSize = this.model.getSplitterSize();\n    if (this.location === DockLocation.TOP) {\n      pBounds[0] = this.tabHeaderRect.getBottom() + minSize;\n      const maxPos = this.tabHeaderRect.getBottom() + maxSize;\n      pBounds[1] = Math.max(pBounds[0], innerRect.getBottom() - rootRow.getMinHeight() - splitterSize);\n      pBounds[1] = Math.min(pBounds[1], maxPos);\n    } else if (this.location === DockLocation.LEFT) {\n      pBounds[0] = this.tabHeaderRect.getRight() + minSize;\n      const maxPos = this.tabHeaderRect.getRight() + maxSize;\n      pBounds[1] = Math.max(pBounds[0], innerRect.getRight() - rootRow.getMinWidth() - splitterSize);\n      pBounds[1] = Math.min(pBounds[1], maxPos);\n    } else if (this.location === DockLocation.BOTTOM) {\n      pBounds[1] = this.tabHeaderRect.y - minSize - splitterSize;\n      const maxPos = this.tabHeaderRect.y - maxSize - splitterSize;\n      pBounds[0] = Math.min(pBounds[1], innerRect.y + rootRow.getMinHeight());\n      pBounds[0] = Math.max(pBounds[0], maxPos);\n    } else if (this.location === DockLocation.RIGHT) {\n      pBounds[1] = this.tabHeaderRect.x - minSize - splitterSize;\n      const maxPos = this.tabHeaderRect.x - maxSize - splitterSize;\n      pBounds[0] = Math.min(pBounds[1], innerRect.x + rootRow.getMinWidth());\n      pBounds[0] = Math.max(pBounds[0], maxPos);\n    }\n    return pBounds;\n  }\n  /** @internal */\n  calculateSplit(splitter, splitterPos) {\n    const pBounds = this.getSplitterBounds(splitterPos);\n    if (this.location === DockLocation.BOTTOM || this.location === DockLocation.RIGHT) {\n      return Math.max(0, pBounds[1] - splitterPos);\n    } else {\n      return Math.max(0, splitterPos - pBounds[0]);\n    }\n  }\n  /** @internal */\n  getAttributeDefinitions() {\n    return _BorderNode.attributeDefinitions;\n  }\n  /** @internal */\n  static getAttributeDefinitions() {\n    return _BorderNode.attributeDefinitions;\n  }\n  /** @internal */\n  static createAttributeDefinitions() {\n    const attributeDefinitions = new AttributeDefinitions();\n    attributeDefinitions.add(\"type\", _BorderNode.TYPE, true).setType(Attribute.STRING).setFixed();\n    attributeDefinitions.add(\"selected\", -1).setType(Attribute.NUMBER).setDescription(\n      `index of selected/visible tab in border; -1 means no tab selected`\n    );\n    attributeDefinitions.add(\"show\", true).setType(Attribute.BOOLEAN).setDescription(\n      `show/hide this border`\n    );\n    attributeDefinitions.add(\"config\", void 0).setType(\"any\").setDescription(\n      `a place to hold json config used in your own code`\n    );\n    attributeDefinitions.addInherited(\"enableDrop\", \"borderEnableDrop\").setType(Attribute.BOOLEAN).setDescription(\n      `whether tabs can be dropped into this border`\n    );\n    attributeDefinitions.addInherited(\"className\", \"borderClassName\").setType(Attribute.STRING).setDescription(\n      `class applied to tab button`\n    );\n    attributeDefinitions.addInherited(\"autoSelectTabWhenOpen\", \"borderAutoSelectTabWhenOpen\").setType(Attribute.BOOLEAN).setDescription(\n      `whether to select new/moved tabs in border when the border is already open`\n    );\n    attributeDefinitions.addInherited(\"autoSelectTabWhenClosed\", \"borderAutoSelectTabWhenClosed\").setType(Attribute.BOOLEAN).setDescription(\n      `whether to select new/moved tabs in border when the border is currently closed`\n    );\n    attributeDefinitions.addInherited(\"size\", \"borderSize\").setType(Attribute.NUMBER).setDescription(\n      `size of the tab area when selected`\n    );\n    attributeDefinitions.addInherited(\"minSize\", \"borderMinSize\").setType(Attribute.NUMBER).setDescription(\n      `the minimum size of the tab area`\n    );\n    attributeDefinitions.addInherited(\"maxSize\", \"borderMaxSize\").setType(Attribute.NUMBER).setDescription(\n      `the maximum size of the tab area`\n    );\n    attributeDefinitions.addInherited(\"enableAutoHide\", \"borderEnableAutoHide\").setType(Attribute.BOOLEAN).setDescription(\n      `hide border if it has zero tabs`\n    );\n    attributeDefinitions.addInherited(\"enableTabScrollbar\", \"borderEnableTabScrollbar\").setType(Attribute.BOOLEAN).setDescription(\n      `whether to show a mini scrollbar for the tabs`\n    );\n    return attributeDefinitions;\n  }\n};\n__publicField(_BorderNode, \"TYPE\", \"border\");\n/** @internal */\n__publicField(_BorderNode, \"attributeDefinitions\", _BorderNode.createAttributeDefinitions());\nlet BorderNode = _BorderNode;\nlet splitterDragging = false;\nconst Splitter = (props) => {\n  const { layout, node, index, horizontal } = props;\n  const [dragging, setDragging] = React.useState(false);\n  const selfRef = React.useRef(null);\n  const extendedRef = React.useRef(null);\n  const pBounds = React.useRef([]);\n  const outlineDiv = React.useRef(void 0);\n  const handleDiv = React.useRef(void 0);\n  const dragStartX = React.useRef(0);\n  const dragStartY = React.useRef(0);\n  const initalSizes = React.useRef({ initialSizes: [], sum: 0, startPosition: 0 });\n  const size = node.getModel().getSplitterSize();\n  let extra = node.getModel().getSplitterExtra();\n  if (!isDesktop()) {\n    extra = Math.max(20, extra + size) - size;\n  }\n  React.useEffect(() => {\n    var _a, _b;\n    (_a = selfRef.current) == null ? void 0 : _a.addEventListener(\"touchstart\", onTouchStart, { passive: false });\n    (_b = extendedRef.current) == null ? void 0 : _b.addEventListener(\"touchstart\", onTouchStart, { passive: false });\n    return () => {\n      var _a2, _b2;\n      (_a2 = selfRef.current) == null ? void 0 : _a2.removeEventListener(\"touchstart\", onTouchStart);\n      (_b2 = extendedRef.current) == null ? void 0 : _b2.removeEventListener(\"touchstart\", onTouchStart);\n    };\n  }, []);\n  const onTouchStart = (event) => {\n    event.preventDefault();\n    event.stopImmediatePropagation();\n  };\n  const onPointerDown = (event) => {\n    var _a;\n    event.stopPropagation();\n    if (node instanceof RowNode) {\n      initalSizes.current = node.getSplitterInitials(index);\n    }\n    enablePointerOnIFrames(false, layout.getCurrentDocument());\n    startDrag(event.currentTarget.ownerDocument, event, onDragMove, onDragEnd, onDragCancel);\n    pBounds.current = node.getSplitterBounds(index, true);\n    const rootdiv = layout.getRootDiv();\n    outlineDiv.current = layout.getCurrentDocument().createElement(\"div\");\n    outlineDiv.current.style.flexDirection = horizontal ? \"row\" : \"column\";\n    outlineDiv.current.className = layout.getClassName(CLASSES.FLEXLAYOUT__SPLITTER_DRAG);\n    outlineDiv.current.style.cursor = node.getOrientation() === Orientation.VERT ? \"ns-resize\" : \"ew-resize\";\n    if (node.getModel().isSplitterEnableHandle()) {\n      handleDiv.current = layout.getCurrentDocument().createElement(\"div\");\n      handleDiv.current.className = cm(CLASSES.FLEXLAYOUT__SPLITTER_HANDLE) + \" \" + (horizontal ? cm(CLASSES.FLEXLAYOUT__SPLITTER_HANDLE_HORZ) : cm(CLASSES.FLEXLAYOUT__SPLITTER_HANDLE_VERT));\n      outlineDiv.current.appendChild(handleDiv.current);\n    }\n    const r = (_a = selfRef.current) == null ? void 0 : _a.getBoundingClientRect();\n    const rect = new Rect(\n      r.x - layout.getDomRect().x,\n      r.y - layout.getDomRect().y,\n      r.width,\n      r.height\n    );\n    dragStartX.current = event.clientX - r.x;\n    dragStartY.current = event.clientY - r.y;\n    rect.positionElement(outlineDiv.current);\n    if (rootdiv) {\n      rootdiv.appendChild(outlineDiv.current);\n    }\n    setDragging(true);\n    splitterDragging = true;\n  };\n  const onDragCancel = () => {\n    const rootdiv = layout.getRootDiv();\n    if (rootdiv && outlineDiv.current) {\n      rootdiv.removeChild(outlineDiv.current);\n    }\n    outlineDiv.current = void 0;\n    setDragging(false);\n    splitterDragging = false;\n  };\n  const onDragMove = (x, y) => {\n    if (outlineDiv.current) {\n      const clientRect = layout.getDomRect();\n      if (!clientRect) {\n        return;\n      }\n      if (node.getOrientation() === Orientation.VERT) {\n        outlineDiv.current.style.top = getBoundPosition(y - clientRect.y - dragStartY.current) + \"px\";\n      } else {\n        outlineDiv.current.style.left = getBoundPosition(x - clientRect.x - dragStartX.current) + \"px\";\n      }\n      if (layout.isRealtimeResize()) {\n        updateLayout();\n      }\n    }\n  };\n  const onDragEnd = () => {\n    if (outlineDiv.current) {\n      updateLayout();\n      const rootdiv = layout.getRootDiv();\n      if (rootdiv && outlineDiv.current) {\n        rootdiv.removeChild(outlineDiv.current);\n      }\n      outlineDiv.current = void 0;\n    }\n    enablePointerOnIFrames(true, layout.getCurrentDocument());\n    setDragging(false);\n    splitterDragging = false;\n  };\n  const updateLayout = (realtime) => {\n    const redraw = () => {\n      if (outlineDiv.current) {\n        let value = 0;\n        if (node.getOrientation() === Orientation.VERT) {\n          value = outlineDiv.current.offsetTop;\n        } else {\n          value = outlineDiv.current.offsetLeft;\n        }\n        if (node instanceof BorderNode) {\n          const pos = node.calculateSplit(node, value);\n          layout.doAction(Actions.adjustBorderSplit(node.getId(), pos));\n        } else {\n          const init = initalSizes.current;\n          const weights = node.calculateSplit(index, value, init.initialSizes, init.sum, init.startPosition);\n          layout.doAction(Actions.adjustWeights(node.getId(), weights));\n        }\n      }\n    };\n    redraw();\n  };\n  const getBoundPosition = (p) => {\n    const bounds = pBounds.current;\n    let rtn = p;\n    if (p < bounds[0]) {\n      rtn = bounds[0];\n    }\n    if (p > bounds[1]) {\n      rtn = bounds[1];\n    }\n    return rtn;\n  };\n  const cm = layout.getClassName;\n  const style2 = {\n    cursor: horizontal ? \"ew-resize\" : \"ns-resize\",\n    flexDirection: horizontal ? \"column\" : \"row\"\n  };\n  let className = cm(CLASSES.FLEXLAYOUT__SPLITTER) + \" \" + cm(CLASSES.FLEXLAYOUT__SPLITTER_ + node.getOrientation().getName());\n  if (node instanceof BorderNode) {\n    className += \" \" + cm(CLASSES.FLEXLAYOUT__SPLITTER_BORDER);\n  } else {\n    if (node.getModel().getMaximizedTabset(layout.getWindowId()) !== void 0) {\n      style2.display = \"none\";\n    }\n  }\n  if (horizontal) {\n    style2.width = size + \"px\";\n    style2.minWidth = size + \"px\";\n  } else {\n    style2.height = size + \"px\";\n    style2.minHeight = size + \"px\";\n  }\n  let handle;\n  if (!dragging && node.getModel().isSplitterEnableHandle()) {\n    handle = /* @__PURE__ */ jsx(\n      \"div\",\n      {\n        className: cm(CLASSES.FLEXLAYOUT__SPLITTER_HANDLE) + \" \" + (horizontal ? cm(CLASSES.FLEXLAYOUT__SPLITTER_HANDLE_HORZ) : cm(CLASSES.FLEXLAYOUT__SPLITTER_HANDLE_VERT))\n      }\n    );\n  }\n  if (extra === 0) {\n    return /* @__PURE__ */ jsx(\n      \"div\",\n      {\n        className,\n        style: style2,\n        ref: selfRef,\n        \"data-layout-path\": node.getPath() + \"/s\" + (index - 1),\n        onPointerDown,\n        children: handle\n      }\n    );\n  } else {\n    const style22 = {};\n    if (node.getOrientation() === Orientation.HORZ) {\n      style22.height = \"100%\";\n      style22.width = size + extra + \"px\";\n      style22.cursor = \"ew-resize\";\n    } else {\n      style22.height = size + extra + \"px\";\n      style22.width = \"100%\";\n      style22.cursor = \"ns-resize\";\n    }\n    const className2 = cm(CLASSES.FLEXLAYOUT__SPLITTER_EXTRA);\n    return /* @__PURE__ */ jsx(\n      \"div\",\n      {\n        className,\n        style: style2,\n        ref: selfRef,\n        \"data-layout-path\": node.getPath() + \"/s\" + (index - 1),\n        onPointerDown,\n        children: /* @__PURE__ */ jsx(\n          \"div\",\n          {\n            style: style22,\n            ref: extendedRef,\n            className: className2,\n            onPointerDown\n          }\n        )\n      }\n    );\n  }\n};\nfunction BorderTab(props) {\n  const { layout, border, show } = props;\n  const selfRef = React.useRef(null);\n  const timer = React.useRef(void 0);\n  React.useLayoutEffect(() => {\n    const contentRect = layout.getBoundingClientRect(selfRef.current);\n    if (!isNaN(contentRect.x) && contentRect.width > 0) {\n      if (!border.getContentRect().equals(contentRect)) {\n        border.setContentRect(contentRect);\n        if (splitterDragging) {\n          if (timer.current) {\n            clearTimeout(timer.current);\n          }\n          timer.current = setTimeout(() => {\n            layout.redrawInternal(\"border content rect \" + contentRect);\n            timer.current = void 0;\n          }, 50);\n        } else {\n          layout.redrawInternal(\"border content rect \" + contentRect);\n        }\n      }\n    }\n  });\n  let horizontal = true;\n  const style2 = {};\n  if (border.getOrientation() === Orientation.HORZ) {\n    style2.width = border.getSize();\n    style2.minWidth = border.getMinSize();\n    style2.maxWidth = border.getMaxSize();\n  } else {\n    style2.height = border.getSize();\n    style2.minHeight = border.getMinSize();\n    style2.maxHeight = border.getMaxSize();\n    horizontal = false;\n  }\n  style2.display = show ? \"flex\" : \"none\";\n  const className = layout.getClassName(CLASSES.FLEXLAYOUT__BORDER_TAB_CONTENTS);\n  if (border.getLocation() === DockLocation.LEFT || border.getLocation() === DockLocation.TOP) {\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(\"div\", { ref: selfRef, style: style2, className }),\n      show && /* @__PURE__ */ jsx(Splitter, { layout, node: border, index: 0, horizontal })\n    ] });\n  } else {\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      show && /* @__PURE__ */ jsx(Splitter, { layout, node: border, index: 0, horizontal }),\n      /* @__PURE__ */ jsx(\"div\", { ref: selfRef, style: style2, className })\n    ] });\n  }\n}\nvar ICloseType = /* @__PURE__ */ ((ICloseType2) => {\n  ICloseType2[ICloseType2[\"Visible\"] = 1] = \"Visible\";\n  ICloseType2[ICloseType2[\"Always\"] = 2] = \"Always\";\n  ICloseType2[ICloseType2[\"Selected\"] = 3] = \"Selected\";\n  return ICloseType2;\n})(ICloseType || {});\nconst BorderButton = (props) => {\n  const { layout, node, selected, border, icons, path } = props;\n  const selfRef = React.useRef(null);\n  const contentRef = React.useRef(null);\n  const onDragStart = (event) => {\n    if (node.isEnableDrag()) {\n      event.stopPropagation();\n      layout.setDragNode(event.nativeEvent, node);\n    } else {\n      event.preventDefault();\n    }\n  };\n  const onDragEnd = (event) => {\n    event.stopPropagation();\n    layout.clearDragMain();\n  };\n  const onAuxMouseClick = (event) => {\n    if (isAuxMouseEvent(event)) {\n      layout.auxMouseClick(node, event);\n    }\n  };\n  const onContextMenu = (event) => {\n    layout.showContextMenu(node, event);\n  };\n  const onClick = () => {\n    layout.doAction(Actions.selectTab(node.getId()));\n  };\n  const isClosable = () => {\n    const closeType = node.getCloseType();\n    if (selected || closeType === ICloseType.Always) {\n      return true;\n    }\n    if (closeType === ICloseType.Visible) {\n      if (window.matchMedia && window.matchMedia(\"(hover: hover) and (pointer: fine)\").matches) {\n        return true;\n      }\n    }\n    return false;\n  };\n  const onClose = (event) => {\n    if (isClosable()) {\n      layout.doAction(Actions.deleteTab(node.getId()));\n      event.stopPropagation();\n    }\n  };\n  const onClosePointerDown = (event) => {\n    event.stopPropagation();\n  };\n  React.useLayoutEffect(() => {\n    node.setTabRect(layout.getBoundingClientRect(selfRef.current));\n    if (layout.getEditingTab() === node) {\n      contentRef.current.select();\n    }\n  });\n  const onTextBoxPointerDown = (event) => {\n    event.stopPropagation();\n  };\n  const onTextBoxKeyPress = (event) => {\n    if (event.code === \"Escape\") {\n      layout.setEditingTab(void 0);\n    } else if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\n      layout.setEditingTab(void 0);\n      layout.doAction(Actions.renameTab(node.getId(), event.target.value));\n    }\n  };\n  const cm = layout.getClassName;\n  let classNames = cm(CLASSES.FLEXLAYOUT__BORDER_BUTTON) + \" \" + cm(CLASSES.FLEXLAYOUT__BORDER_BUTTON_ + border);\n  if (selected) {\n    classNames += \" \" + cm(CLASSES.FLEXLAYOUT__BORDER_BUTTON__SELECTED);\n  } else {\n    classNames += \" \" + cm(CLASSES.FLEXLAYOUT__BORDER_BUTTON__UNSELECTED);\n  }\n  if (node.getClassName() !== void 0) {\n    classNames += \" \" + node.getClassName();\n  }\n  let iconAngle = 0;\n  if (node.getModel().isEnableRotateBorderIcons() === false) {\n    if (border === \"left\") {\n      iconAngle = 90;\n    } else if (border === \"right\") {\n      iconAngle = -90;\n    }\n  }\n  const renderState = getRenderStateEx(layout, node, iconAngle);\n  let content = renderState.content ? /* @__PURE__ */ jsx(\"div\", { className: cm(CLASSES.FLEXLAYOUT__BORDER_BUTTON_CONTENT), children: renderState.content }) : null;\n  const leading = renderState.leading ? /* @__PURE__ */ jsx(\"div\", { className: cm(CLASSES.FLEXLAYOUT__BORDER_BUTTON_LEADING), children: renderState.leading }) : null;\n  if (layout.getEditingTab() === node) {\n    content = /* @__PURE__ */ jsx(\n      \"input\",\n      {\n        ref: contentRef,\n        className: cm(CLASSES.FLEXLAYOUT__TAB_BUTTON_TEXTBOX),\n        \"data-layout-path\": path + \"/textbox\",\n        type: \"text\",\n        autoFocus: true,\n        defaultValue: node.getName(),\n        onKeyDown: onTextBoxKeyPress,\n        onPointerDown: onTextBoxPointerDown\n      }\n    );\n  }\n  if (node.isEnableClose()) {\n    const closeTitle = layout.i18nName(I18nLabel.Close_Tab);\n    renderState.buttons.push(\n      /* @__PURE__ */ jsx(\n        \"div\",\n        {\n          \"data-layout-path\": path + \"/button/close\",\n          title: closeTitle,\n          className: cm(CLASSES.FLEXLAYOUT__BORDER_BUTTON_TRAILING),\n          onPointerDown: onClosePointerDown,\n          onClick: onClose,\n          children: typeof icons.close === \"function\" ? icons.close(node) : icons.close\n        },\n        \"close\"\n      )\n    );\n  }\n  return /* @__PURE__ */ jsxs(\n    \"div\",\n    {\n      ref: selfRef,\n      \"data-layout-path\": path,\n      className: classNames,\n      onClick,\n      onAuxClick: onAuxMouseClick,\n      onContextMenu,\n      title: node.getHelpText(),\n      draggable: true,\n      onDragStart,\n      onDragEnd,\n      children: [\n        leading,\n        content,\n        renderState.buttons\n      ]\n    }\n  );\n};\nconst TabButtonStamp = (props) => {\n  const { layout, node } = props;\n  const cm = layout.getClassName;\n  const classNames = cm(CLASSES.FLEXLAYOUT__TAB_BUTTON_STAMP);\n  const renderState = getRenderStateEx(layout, node);\n  const content = renderState.content ? /* @__PURE__ */ jsx(\"div\", { className: cm(CLASSES.FLEXLAYOUT__TAB_BUTTON_CONTENT), children: renderState.content }) : node.getNameForOverflowMenu();\n  const leading = renderState.leading ? /* @__PURE__ */ jsx(\"div\", { className: cm(CLASSES.FLEXLAYOUT__TAB_BUTTON_LEADING), children: renderState.leading }) : null;\n  return /* @__PURE__ */ jsxs(\n    \"div\",\n    {\n      className: classNames,\n      title: node.getHelpText(),\n      children: [\n        leading,\n        content\n      ]\n    }\n  );\n};\nfunction showPopup(triggerElement, parentNode, items, onSelect, layout) {\n  const layoutDiv = layout.getRootDiv();\n  const classNameMapper = layout.getClassName;\n  const currentDocument = triggerElement.ownerDocument;\n  const triggerRect = triggerElement.getBoundingClientRect();\n  const layoutRect = (layoutDiv == null ? void 0 : layoutDiv.getBoundingClientRect()) ?? new DOMRect(0, 0, 100, 100);\n  const elm = currentDocument.createElement(\"div\");\n  elm.className = classNameMapper(CLASSES.FLEXLAYOUT__POPUP_MENU_CONTAINER);\n  if (triggerRect.left < layoutRect.left + layoutRect.width / 2) {\n    elm.style.left = triggerRect.left - layoutRect.left + \"px\";\n  } else {\n    elm.style.right = layoutRect.right - triggerRect.right + \"px\";\n  }\n  if (triggerRect.top < layoutRect.top + layoutRect.height / 2) {\n    elm.style.top = triggerRect.top - layoutRect.top + \"px\";\n  } else {\n    elm.style.bottom = layoutRect.bottom - triggerRect.bottom + \"px\";\n  }\n  layout.showOverlay(true);\n  if (layoutDiv) {\n    layoutDiv.appendChild(elm);\n  }\n  const onHide = () => {\n    layout.hideControlInPortal();\n    layout.showOverlay(false);\n    if (layoutDiv) {\n      layoutDiv.removeChild(elm);\n    }\n    elm.removeEventListener(\"pointerdown\", onElementPointerDown);\n    currentDocument.removeEventListener(\"pointerdown\", onDocPointerDown);\n  };\n  const onElementPointerDown = (event) => {\n    event.stopPropagation();\n  };\n  const onDocPointerDown = (_event) => {\n    onHide();\n  };\n  elm.addEventListener(\"pointerdown\", onElementPointerDown);\n  currentDocument.addEventListener(\"pointerdown\", onDocPointerDown);\n  layout.showControlInPortal(/* @__PURE__ */ jsx(\n    PopupMenu,\n    {\n      currentDocument,\n      parentNode,\n      onSelect,\n      onHide,\n      items,\n      classNameMapper,\n      layout\n    }\n  ), elm);\n}\nconst PopupMenu = (props) => {\n  const { parentNode, items, onHide, onSelect, classNameMapper, layout } = props;\n  const divRef = useRef(null);\n  useEffect(() => {\n    if (divRef.current) {\n      divRef.current.focus();\n    }\n  }, []);\n  const onItemClick = (item, event) => {\n    onSelect(item);\n    onHide();\n    event.stopPropagation();\n  };\n  const onDragStart = (event, node) => {\n    event.stopPropagation();\n    layout.setDragNode(event.nativeEvent, node);\n    setTimeout(() => {\n      onHide();\n    }, 0);\n  };\n  const onDragEnd = (event) => {\n    layout.clearDragMain();\n  };\n  const handleKeyDown = (event) => {\n    if (event.key === \"Escape\") {\n      onHide();\n    }\n  };\n  const itemElements = items.map(\n    (item, i) => {\n      let classes = classNameMapper(CLASSES.FLEXLAYOUT__POPUP_MENU_ITEM);\n      if (parentNode.getSelected() === item.index) {\n        classes += \" \" + classNameMapper(CLASSES.FLEXLAYOUT__POPUP_MENU_ITEM__SELECTED);\n      }\n      return /* @__PURE__ */ jsx(\n        \"div\",\n        {\n          className: classes,\n          \"data-layout-path\": \"/popup-menu/tb\" + i,\n          onClick: (event) => onItemClick(item, event),\n          draggable: true,\n          onDragStart: (e) => onDragStart(e, item.node),\n          onDragEnd,\n          title: item.node.getHelpText(),\n          children: /* @__PURE__ */ jsx(\n            TabButtonStamp,\n            {\n              node: item.node,\n              layout\n            }\n          )\n        },\n        item.index\n      );\n    }\n  );\n  return /* @__PURE__ */ jsx(\n    \"div\",\n    {\n      className: classNameMapper(CLASSES.FLEXLAYOUT__POPUP_MENU),\n      ref: divRef,\n      tabIndex: 0,\n      onKeyDown: handleKeyDown,\n      \"data-layout-path\": \"/popup-menu\",\n      children: itemElements\n    }\n  );\n};\nconst useTabOverflow = (layout, node, orientation, tabStripRef, miniScrollRef, tabClassName) => {\n  const [hiddenTabs, setHiddenTabs] = React.useState([]);\n  const [isShowHiddenTabs, setShowHiddenTabs] = React.useState(false);\n  const [isDockStickyButtons, setDockStickyButtons] = React.useState(false);\n  const selfRef = React.useRef(null);\n  const userControlledPositionRef = React.useRef(false);\n  const updateHiddenTabsTimerRef = React.useRef(void 0);\n  const hiddenTabsRef = React.useRef([]);\n  const thumbInternalPos = React.useRef(0);\n  const repositioningRef = React.useRef(false);\n  hiddenTabsRef.current = hiddenTabs;\n  React.useLayoutEffect(() => {\n    if (tabStripRef.current) {\n      setScrollPosition(0);\n    }\n  }, [node.getId()]);\n  React.useLayoutEffect(() => {\n    userControlledPositionRef.current = false;\n  }, [node.getSelectedNode(), node.getRect().width, node.getRect().height]);\n  React.useLayoutEffect(() => {\n    checkForOverflow();\n    if (userControlledPositionRef.current === false) {\n      scrollIntoView();\n    }\n    updateScrollMetrics();\n    updateHiddenTabs();\n  });\n  React.useEffect(() => {\n    var _a;\n    (_a = selfRef.current) == null ? void 0 : _a.addEventListener(\"wheel\", onWheel, { passive: false });\n    return () => {\n      var _a2;\n      (_a2 = selfRef.current) == null ? void 0 : _a2.removeEventListener(\"wheel\", onWheel);\n    };\n  }, [selfRef.current]);\n  const onWheel = (event) => {\n    event.preventDefault();\n  };\n  function scrollIntoView() {\n    const selectedTabNode = node.getSelectedNode();\n    if (selectedTabNode && tabStripRef.current) {\n      const stripRect = layout.getBoundingClientRect(tabStripRef.current);\n      const selectedRect = selectedTabNode.getTabRect();\n      let shift = getNear(stripRect) - getNear(selectedRect);\n      if (shift > 0 || getSize(selectedRect) > getSize(stripRect)) {\n        setScrollPosition(getScrollPosition(tabStripRef.current) - shift);\n        repositioningRef.current = true;\n      } else {\n        shift = getFar(selectedRect) - getFar(stripRect);\n        if (shift > 0) {\n          setScrollPosition(getScrollPosition(tabStripRef.current) + shift);\n          repositioningRef.current = true;\n        }\n      }\n    }\n  }\n  const updateScrollMetrics = () => {\n    if (tabStripRef.current && miniScrollRef.current) {\n      const t = tabStripRef.current;\n      const s = miniScrollRef.current;\n      const size = getElementSize(t);\n      const scrollSize = getScrollSize(t);\n      const position = getScrollPosition(t);\n      if (scrollSize > size && scrollSize > 0) {\n        let thumbSize = size * size / scrollSize;\n        let adjust = 0;\n        if (thumbSize < 20) {\n          adjust = 20 - thumbSize;\n          thumbSize = 20;\n        }\n        const thumbPos = position * (size - adjust) / scrollSize;\n        if (orientation === Orientation.HORZ) {\n          s.style.width = thumbSize + \"px\";\n          s.style.left = thumbPos + \"px\";\n        } else {\n          s.style.height = thumbSize + \"px\";\n          s.style.top = thumbPos + \"px\";\n        }\n        s.style.display = \"block\";\n      } else {\n        s.style.display = \"none\";\n      }\n      if (orientation === Orientation.HORZ) {\n        s.style.bottom = \"0px\";\n      } else {\n        s.style.right = \"0px\";\n      }\n    }\n  };\n  const updateHiddenTabs = () => {\n    const newHiddenTabs = findHiddenTabs();\n    const showHidden = newHiddenTabs.length > 0;\n    if (showHidden !== isShowHiddenTabs) {\n      setShowHiddenTabs(showHidden);\n    }\n    if (updateHiddenTabsTimerRef.current === void 0) {\n      updateHiddenTabsTimerRef.current = setTimeout(() => {\n        const newHiddenTabs2 = findHiddenTabs();\n        if (!arraysEqual(newHiddenTabs2, hiddenTabsRef.current)) {\n          setHiddenTabs(newHiddenTabs2);\n        }\n        updateHiddenTabsTimerRef.current = void 0;\n      }, 100);\n    }\n  };\n  const onScroll = () => {\n    if (!repositioningRef.current) {\n      userControlledPositionRef.current = true;\n    }\n    repositioningRef.current = false;\n    updateScrollMetrics();\n    updateHiddenTabs();\n  };\n  const onScrollPointerDown = (event) => {\n    var _a;\n    event.stopPropagation();\n    miniScrollRef.current.setPointerCapture(event.pointerId);\n    const r = (_a = miniScrollRef.current) == null ? void 0 : _a.getBoundingClientRect();\n    if (orientation === Orientation.HORZ) {\n      thumbInternalPos.current = event.clientX - r.x;\n    } else {\n      thumbInternalPos.current = event.clientY - r.y;\n    }\n    startDrag(event.currentTarget.ownerDocument, event, onDragMove, onDragEnd, onDragCancel);\n  };\n  const onDragMove = (x, y) => {\n    if (tabStripRef.current && miniScrollRef.current) {\n      const t = tabStripRef.current;\n      const s = miniScrollRef.current;\n      const size = getElementSize(t);\n      const scrollSize = getScrollSize(t);\n      const thumbSize = getElementSize(s);\n      const r = t.getBoundingClientRect();\n      let thumb = 0;\n      if (orientation === Orientation.HORZ) {\n        thumb = x - r.x - thumbInternalPos.current;\n      } else {\n        thumb = y - r.y - thumbInternalPos.current;\n      }\n      thumb = Math.max(0, Math.min(scrollSize - thumbSize, thumb));\n      if (size > 0) {\n        const scrollPos = thumb * scrollSize / size;\n        setScrollPosition(scrollPos);\n      }\n    }\n  };\n  const onDragEnd = () => {\n  };\n  const onDragCancel = () => {\n  };\n  const checkForOverflow = () => {\n    if (tabStripRef.current) {\n      const strip = tabStripRef.current;\n      const tabContainer = strip.firstElementChild;\n      const offset = isDockStickyButtons ? 10 : 0;\n      const dock = getElementSize(tabContainer) + offset > getElementSize(tabStripRef.current);\n      if (dock !== isDockStickyButtons) {\n        setDockStickyButtons(dock);\n      }\n    }\n  };\n  const findHiddenTabs = () => {\n    const hidden = [];\n    if (tabStripRef.current) {\n      const strip = tabStripRef.current;\n      const stripRect = strip.getBoundingClientRect();\n      const visibleNear = getNear(stripRect) - 1;\n      const visibleFar = getFar(stripRect) + 1;\n      const tabContainer = strip.firstElementChild;\n      let i = 0;\n      Array.from(tabContainer.children).forEach((child) => {\n        const tabRect = child.getBoundingClientRect();\n        if (child.classList.contains(tabClassName)) {\n          if (getNear(tabRect) < visibleNear || getFar(tabRect) > visibleFar) {\n            hidden.push(i);\n          }\n          i++;\n        }\n      });\n    }\n    return hidden;\n  };\n  const onMouseWheel = (event) => {\n    if (tabStripRef.current) {\n      if (node.getChildren().length === 0) return;\n      let delta = 0;\n      if (Math.abs(event.deltaY) > 0) {\n        delta = -event.deltaY;\n        if (event.deltaMode === 1) {\n          delta *= 40;\n        }\n        const newPos = getScrollPosition(tabStripRef.current) - delta;\n        const maxScroll = getScrollSize(tabStripRef.current) - getElementSize(tabStripRef.current);\n        const p = Math.max(0, Math.min(maxScroll, newPos));\n        setScrollPosition(p);\n        event.stopPropagation();\n      }\n    }\n  };\n  const getNear = (rect) => {\n    if (orientation === Orientation.HORZ) {\n      return rect.x;\n    } else {\n      return rect.y;\n    }\n  };\n  const getFar = (rect) => {\n    if (orientation === Orientation.HORZ) {\n      return rect.right;\n    } else {\n      return rect.bottom;\n    }\n  };\n  const getElementSize = (elm) => {\n    if (orientation === Orientation.HORZ) {\n      return elm.clientWidth;\n    } else {\n      return elm.clientHeight;\n    }\n  };\n  const getSize = (rect) => {\n    if (orientation === Orientation.HORZ) {\n      return rect.width;\n    } else {\n      return rect.height;\n    }\n  };\n  const getScrollSize = (elm) => {\n    if (orientation === Orientation.HORZ) {\n      return elm.scrollWidth;\n    } else {\n      return elm.scrollHeight;\n    }\n  };\n  const setScrollPosition = (p) => {\n    if (orientation === Orientation.HORZ) {\n      tabStripRef.current.scrollLeft = p;\n    } else {\n      tabStripRef.current.scrollTop = p;\n    }\n  };\n  const getScrollPosition = (elm) => {\n    if (orientation === Orientation.HORZ) {\n      return elm.scrollLeft;\n    } else {\n      return elm.scrollTop;\n    }\n  };\n  return { selfRef, userControlledPositionRef, onScroll, onScrollPointerDown, hiddenTabs, onMouseWheel, isDockStickyButtons, isShowHiddenTabs };\n};\nfunction arraysEqual(arr1, arr2) {\n  return arr1.length === arr2.length && arr1.every((val, index) => val === arr2[index]);\n}\nconst BorderTabSet = (props) => {\n  const { border, layout, size } = props;\n  const toolbarRef = React.useRef(null);\n  const miniScrollRef = React.useRef(null);\n  const overflowbuttonRef = React.useRef(null);\n  const stickyButtonsRef = React.useRef(null);\n  const tabStripInnerRef = React.useRef(null);\n  const icons = layout.getIcons();\n  React.useLayoutEffect(() => {\n    border.setTabHeaderRect(layout.getBoundingClientRect(selfRef.current));\n  });\n  const { selfRef, userControlledPositionRef, onScroll, onScrollPointerDown, hiddenTabs, onMouseWheel, isDockStickyButtons, isShowHiddenTabs } = useTabOverflow(\n    layout,\n    border,\n    Orientation.flip(border.getOrientation()),\n    tabStripInnerRef,\n    miniScrollRef,\n    layout.getClassName(CLASSES.FLEXLAYOUT__BORDER_BUTTON)\n  );\n  const onAuxMouseClick = (event) => {\n    if (isAuxMouseEvent(event)) {\n      layout.auxMouseClick(border, event);\n    }\n  };\n  const onContextMenu = (event) => {\n    layout.showContextMenu(border, event);\n  };\n  const onInterceptPointerDown = (event) => {\n    event.stopPropagation();\n  };\n  const onOverflowClick = (event) => {\n    const callback = layout.getShowOverflowMenu();\n    const items = hiddenTabs.map((h) => {\n      return { index: h, node: border.getChildren()[h] };\n    });\n    if (callback !== void 0) {\n      callback(border, event, items, onOverflowItemSelect);\n    } else {\n      const element = overflowbuttonRef.current;\n      showPopup(\n        element,\n        border,\n        items,\n        onOverflowItemSelect,\n        layout\n      );\n    }\n    event.stopPropagation();\n  };\n  const onOverflowItemSelect = (item) => {\n    layout.doAction(Actions.selectTab(item.node.getId()));\n    userControlledPositionRef.current = false;\n  };\n  const onPopoutTab = (event) => {\n    const selectedTabNode = border.getChildren()[border.getSelected()];\n    if (selectedTabNode !== void 0) {\n      layout.doAction(Actions.popoutTab(selectedTabNode.getId()));\n    }\n    event.stopPropagation();\n  };\n  const cm = layout.getClassName;\n  const tabButtons = [];\n  const layoutTab = (i) => {\n    const isSelected = border.getSelected() === i;\n    const child = border.getChildren()[i];\n    tabButtons.push(\n      /* @__PURE__ */ jsx(\n        BorderButton,\n        {\n          layout,\n          border: border.getLocation().getName(),\n          node: child,\n          path: border.getPath() + \"/tb\" + i,\n          selected: isSelected,\n          icons\n        },\n        child.getId()\n      )\n    );\n    if (i < border.getChildren().length - 1) {\n      tabButtons.push(\n        /* @__PURE__ */ jsx(\"div\", { className: cm(CLASSES.FLEXLAYOUT__BORDER_TAB_DIVIDER) }, \"divider\" + i)\n      );\n    }\n  };\n  for (let i = 0; i < border.getChildren().length; i++) {\n    layoutTab(i);\n  }\n  let borderClasses = cm(CLASSES.FLEXLAYOUT__BORDER) + \" \" + cm(CLASSES.FLEXLAYOUT__BORDER_ + border.getLocation().getName());\n  if (border.getClassName() !== void 0) {\n    borderClasses += \" \" + border.getClassName();\n  }\n  let leading = void 0;\n  let buttons = [];\n  let stickyButtons = [];\n  const renderState = { leading, buttons, stickyButtons, overflowPosition: void 0 };\n  layout.customizeTabSet(border, renderState);\n  leading = renderState.leading;\n  stickyButtons = renderState.stickyButtons;\n  buttons = renderState.buttons;\n  if (renderState.overflowPosition === void 0) {\n    renderState.overflowPosition = stickyButtons.length;\n  }\n  if (stickyButtons.length > 0) {\n    if (isDockStickyButtons) {\n      buttons = [...stickyButtons, ...buttons];\n    } else {\n      tabButtons.push(/* @__PURE__ */ jsx(\n        \"div\",\n        {\n          ref: stickyButtonsRef,\n          onPointerDown: onInterceptPointerDown,\n          onDragStart: (e) => {\n            e.preventDefault();\n          },\n          className: cm(CLASSES.FLEXLAYOUT__TAB_TOOLBAR_STICKY_BUTTONS_CONTAINER),\n          children: stickyButtons\n        },\n        \"sticky_buttons_container\"\n      ));\n    }\n  }\n  if (isShowHiddenTabs) {\n    const overflowTitle = layout.i18nName(I18nLabel.Overflow_Menu_Tooltip);\n    let overflowContent;\n    if (typeof icons.more === \"function\") {\n      const items = hiddenTabs.map((h) => {\n        return { index: h, node: border.getChildren()[h] };\n      });\n      overflowContent = icons.more(border, items);\n    } else {\n      overflowContent = /* @__PURE__ */ jsxs(Fragment, { children: [\n        icons.more,\n        /* @__PURE__ */ jsx(\"div\", { className: cm(CLASSES.FLEXLAYOUT__TAB_BUTTON_OVERFLOW_COUNT), children: hiddenTabs.length > 0 ? hiddenTabs.length : \"\" })\n      ] });\n    }\n    buttons.splice(\n      Math.min(renderState.overflowPosition, buttons.length),\n      0,\n      /* @__PURE__ */ jsx(\n        \"button\",\n        {\n          ref: overflowbuttonRef,\n          className: cm(CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON) + \" \" + cm(CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW) + \" \" + cm(CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW_ + border.getLocation().getName()),\n          title: overflowTitle,\n          onClick: onOverflowClick,\n          onPointerDown: onInterceptPointerDown,\n          children: overflowContent\n        },\n        \"overflowbutton\"\n      )\n    );\n  }\n  const selectedIndex = border.getSelected();\n  if (selectedIndex !== -1) {\n    const selectedTabNode = border.getChildren()[selectedIndex];\n    if (selectedTabNode !== void 0 && layout.isSupportsPopout() && selectedTabNode.isEnablePopout()) {\n      const popoutTitle = layout.i18nName(I18nLabel.Popout_Tab);\n      buttons.push(\n        /* @__PURE__ */ jsx(\n          \"button\",\n          {\n            title: popoutTitle,\n            className: cm(CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON) + \" \" + cm(CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_FLOAT),\n            onClick: onPopoutTab,\n            onPointerDown: onInterceptPointerDown,\n            children: typeof icons.popout === \"function\" ? icons.popout(selectedTabNode) : icons.popout\n          },\n          \"popout\"\n        )\n      );\n    }\n  }\n  const toolbar = /* @__PURE__ */ jsx(\"div\", { ref: toolbarRef, className: cm(CLASSES.FLEXLAYOUT__BORDER_TOOLBAR) + \" \" + cm(CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_ + border.getLocation().getName()), children: buttons }, \"toolbar\");\n  let innerStyle = {};\n  let outerStyle = {};\n  const borderHeight = size - 1;\n  if (border.getLocation() === DockLocation.LEFT) {\n    innerStyle = { right: \"100%\", top: 0 };\n    outerStyle = { width: borderHeight, overflowY: \"auto\" };\n  } else if (border.getLocation() === DockLocation.RIGHT) {\n    innerStyle = { left: \"100%\", top: 0 };\n    outerStyle = { width: borderHeight, overflowY: \"auto\" };\n  } else {\n    innerStyle = { left: 0 };\n    outerStyle = { height: borderHeight, overflowX: \"auto\" };\n  }\n  let miniScrollbar = void 0;\n  if (border.isEnableTabScrollbar()) {\n    miniScrollbar = /* @__PURE__ */ jsx(\n      \"div\",\n      {\n        ref: miniScrollRef,\n        className: cm(CLASSES.FLEXLAYOUT__MINI_SCROLLBAR),\n        onPointerDown: onScrollPointerDown\n      }\n    );\n  }\n  let leadingContainer = void 0;\n  if (leading) {\n    leadingContainer = /* @__PURE__ */ jsx(\"div\", { className: cm(CLASSES.FLEXLAYOUT__BORDER_LEADING), children: leading });\n  }\n  return /* @__PURE__ */ jsxs(\n    \"div\",\n    {\n      ref: selfRef,\n      style: {\n        display: \"flex\",\n        flexDirection: border.getOrientation() === Orientation.VERT ? \"row\" : \"column\"\n      },\n      className: borderClasses,\n      \"data-layout-path\": border.getPath(),\n      onClick: onAuxMouseClick,\n      onAuxClick: onAuxMouseClick,\n      onContextMenu,\n      onWheel: onMouseWheel,\n      children: [\n        leadingContainer,\n        /* @__PURE__ */ jsxs(\"div\", { className: cm(CLASSES.FLEXLAYOUT__MINI_SCROLLBAR_CONTAINER), children: [\n          /* @__PURE__ */ jsx(\n            \"div\",\n            {\n              ref: tabStripInnerRef,\n              className: cm(CLASSES.FLEXLAYOUT__BORDER_INNER) + \" \" + cm(CLASSES.FLEXLAYOUT__BORDER_INNER_ + border.getLocation().getName()),\n              style: outerStyle,\n              onScroll,\n              children: /* @__PURE__ */ jsx(\n                \"div\",\n                {\n                  style: innerStyle,\n                  className: cm(CLASSES.FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER) + \" \" + cm(CLASSES.FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER_ + border.getLocation().getName()),\n                  children: tabButtons\n                }\n              )\n            }\n          ),\n          miniScrollbar\n        ] }),\n        toolbar\n      ]\n    }\n  );\n};\nconst DragContainer = (props) => {\n  const { layout, node } = props;\n  const selfRef = React.useRef(null);\n  React.useEffect(() => {\n    node.setTabStamp(selfRef.current);\n  }, [node, selfRef.current]);\n  const cm = layout.getClassName;\n  const classNames = cm(CLASSES.FLEXLAYOUT__DRAG_RECT);\n  return /* @__PURE__ */ jsx(\n    \"div\",\n    {\n      ref: selfRef,\n      className: classNames,\n      children: /* @__PURE__ */ jsx(TabButtonStamp, { layout, node }, node.getId())\n    }\n  );\n};\nconst PopoutWindow = (props) => {\n  const { title, layout, layoutWindow, url, onCloseWindow, onSetWindow, children } = props;\n  const popoutWindow = React.useRef(null);\n  const [content, setContent] = React.useState(void 0);\n  const styleMap = /* @__PURE__ */ new Map();\n  React.useLayoutEffect(() => {\n    if (!popoutWindow.current) {\n      const windowId = layoutWindow.windowId;\n      const rect = layoutWindow.rect;\n      popoutWindow.current = window.open(url, windowId, `left=${rect.x},top=${rect.y},width=${rect.width},height=${rect.height}`);\n      if (popoutWindow.current) {\n        layoutWindow.window = popoutWindow.current;\n        onSetWindow(layoutWindow, popoutWindow.current);\n        window.addEventListener(\"beforeunload\", () => {\n          if (popoutWindow.current) {\n            const closedWindow = popoutWindow.current;\n            popoutWindow.current = null;\n            closedWindow.close();\n          }\n        });\n        popoutWindow.current.addEventListener(\"load\", () => {\n          if (popoutWindow.current) {\n            popoutWindow.current.focus();\n            popoutWindow.current.resizeTo(rect.width, rect.height);\n            popoutWindow.current.moveTo(rect.x, rect.y);\n            const popoutDocument = popoutWindow.current.document;\n            popoutDocument.title = title;\n            const popoutContent = popoutDocument.createElement(\"div\");\n            popoutContent.className = CLASSES.FLEXLAYOUT__FLOATING_WINDOW_CONTENT;\n            popoutDocument.body.appendChild(popoutContent);\n            copyStyles(popoutDocument, styleMap).then(() => {\n              setContent(popoutContent);\n            });\n            const observer = new MutationObserver((mutationsList) => handleStyleMutations(mutationsList, popoutDocument, styleMap));\n            observer.observe(document.head, { childList: true });\n            popoutWindow.current.addEventListener(\"beforeunload\", () => {\n              if (popoutWindow.current) {\n                onCloseWindow(layoutWindow);\n                popoutWindow.current = null;\n                observer.disconnect();\n              }\n            });\n          }\n        });\n      } else {\n        console.warn(`Unable to open window ${url}`);\n        onCloseWindow(layoutWindow);\n      }\n    }\n    return () => {\n      var _a;\n      if (!layout.getModel().getwindowsMap().has(layoutWindow.windowId)) {\n        (_a = popoutWindow.current) == null ? void 0 : _a.close();\n        popoutWindow.current = null;\n      }\n    };\n  }, []);\n  if (content !== void 0) {\n    return createPortal(children, content);\n  } else {\n    return null;\n  }\n};\nfunction handleStyleMutations(mutationsList, popoutDocument, styleMap) {\n  for (const mutation of mutationsList) {\n    if (mutation.type === \"childList\") {\n      for (const addition of mutation.addedNodes) {\n        if (addition instanceof HTMLLinkElement || addition instanceof HTMLStyleElement) {\n          copyStyle(popoutDocument, addition, styleMap);\n        }\n      }\n      for (const removal of mutation.removedNodes) {\n        if (removal instanceof HTMLLinkElement || removal instanceof HTMLStyleElement) {\n          const popoutStyle = styleMap.get(removal);\n          if (popoutStyle) {\n            popoutDocument.head.removeChild(popoutStyle);\n          }\n        }\n      }\n    }\n  }\n}\nfunction copyStyles(popoutDoc, styleMap) {\n  const promises = [];\n  const styleElements = document.querySelectorAll('style, link[rel=\"stylesheet\"]');\n  for (const element of styleElements) {\n    copyStyle(popoutDoc, element, styleMap, promises);\n  }\n  return Promise.all(promises);\n}\nfunction copyStyle(popoutDoc, element, styleMap, promises) {\n  if (element instanceof HTMLLinkElement) {\n    const linkElement = element.cloneNode(true);\n    popoutDoc.head.appendChild(linkElement);\n    styleMap.set(element, linkElement);\n    if (promises) {\n      promises.push(new Promise((resolve) => {\n        linkElement.onload = () => resolve(true);\n      }));\n    }\n  } else if (element instanceof HTMLStyleElement) {\n    try {\n      const styleElement = element.cloneNode(true);\n      popoutDoc.head.appendChild(styleElement);\n      styleMap.set(element, styleElement);\n    } catch (e) {\n    }\n  }\n}\nconst style = { width: \"1em\", height: \"1em\", display: \"flex\", alignItems: \"center\" };\nconst CloseIcon = () => {\n  return /* @__PURE__ */ jsxs(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", style, viewBox: \"0 0 24 24\", children: [\n    /* @__PURE__ */ jsx(\"path\", { fill: \"none\", d: \"M0 0h24v24H0z\" }),\n    /* @__PURE__ */ jsx(\"path\", { stroke: \"var(--color-icon)\", fill: \"var(--color-icon)\", d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\" })\n  ] });\n};\nconst MaximizeIcon = () => {\n  return /* @__PURE__ */ jsxs(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", style, viewBox: \"0 0 24 24\", fill: \"var(--color-icon)\", children: [\n    /* @__PURE__ */ jsx(\"path\", { d: \"M0 0h24v24H0z\", fill: \"none\" }),\n    /* @__PURE__ */ jsx(\"path\", { stroke: \"var(--color-icon)\", d: \"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\" })\n  ] });\n};\nconst OverflowIcon = () => {\n  return /* @__PURE__ */ jsxs(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", style, viewBox: \"0 0 24 24\", fill: \"var(--color-icon)\", children: [\n    /* @__PURE__ */ jsx(\"path\", { d: \"M0 0h24v24H0z\", fill: \"none\" }),\n    /* @__PURE__ */ jsx(\"path\", { stroke: \"var(--color-icon)\", d: \"M7 10l5 5 5-5z\" })\n  ] });\n};\nconst EdgeIcon = () => {\n  return /* @__PURE__ */ jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", style: { display: \"block\", width: 10, height: 10 }, preserveAspectRatio: \"none\", viewBox: \"0 0 100 100\", children: /* @__PURE__ */ jsx(\n    \"path\",\n    {\n      fill: \"var(--color-edge-icon)\",\n      stroke: \"var(--color-edge-icon)\",\n      d: \"M10 30 L90 30 l-40 40 Z\"\n    }\n  ) });\n};\nconst PopoutIcon = () => {\n  return (\n    // <svg xmlns=\"http://www.w3.org/2000/svg\"  style={style}  viewBox=\"0 0 24 24\" fill=\"var(--color-icon)\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path stroke=\"var(--color-icon)\" d=\"M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5z\"/></svg>\n    // <svg xmlns=\"http://www.w3.org/2000/svg\" style={style} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"var(--color-icon)\" stroke-width=\"2\">\n    //     <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\" />\n    // </svg>\n    /* @__PURE__ */ jsxs(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", style, viewBox: \"0 0 20 20\", fill: \"var(--color-icon)\", children: [\n      /* @__PURE__ */ jsx(\"path\", { d: \"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z\" }),\n      /* @__PURE__ */ jsx(\"path\", { d: \"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z\" })\n    ] })\n  );\n};\nconst RestoreIcon = () => {\n  return /* @__PURE__ */ jsxs(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", style, viewBox: \"0 0 24 24\", fill: \"var(--color-icon)\", children: [\n    /* @__PURE__ */ jsx(\"path\", { d: \"M0 0h24v24H0z\", fill: \"none\" }),\n    /* @__PURE__ */ jsx(\"path\", { stroke: \"var(--color-icon)\", d: \"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z\" })\n  ] });\n};\nconst AsterickIcon = () => {\n  return /* @__PURE__ */ jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", style, height: \"24px\", viewBox: \"0 -960 960 960\", width: \"24px\", children: /* @__PURE__ */ jsx(\"path\", { fill: \"var(--color-icon)\", stroke: \"var(--color-icon)\", d: \"M440-120v-264L254-197l-57-57 187-186H120v-80h264L197-706l57-57 186 187v-264h80v264l186-187 57 57-187 186h264v80H576l187 186-57 57-186-187v264h-80Z\" }) });\n};\nconst AddIcon = () => {\n  return /* @__PURE__ */ jsxs(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", style, height: \"24px\", viewBox: \"0 0 24 24\", fill: \"var(--color-icon)\", children: [\n    /* @__PURE__ */ jsx(\"path\", { d: \"M0 0h24v24H0z\", fill: \"none\" }),\n    /* @__PURE__ */ jsx(\"path\", { stroke: \"var(--color-icon)\", d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\" })\n  ] });\n};\nconst MenuIcon = () => {\n  return /* @__PURE__ */ jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", style, height: \"24px\", width: \"24px\", viewBox: \"0 -960 960 960\", fill: \"var(--color-icon)\", children: /* @__PURE__ */ jsx(\"path\", { d: \"M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z\" }) });\n};\nconst SettingsIcon = (props) => {\n  return /* @__PURE__ */ jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", ...props, style, viewBox: \"0 0 24 24\", fill: \"var(--color-icon)\", children: /* @__PURE__ */ jsxs(\"g\", { children: [\n    /* @__PURE__ */ jsx(\"path\", { d: \"M0,0h24v24H0V0z\", fill: \"none\" }),\n    /* @__PURE__ */ jsx(\"path\", { d: \"M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z\" })\n  ] }) });\n};\nconst Overlay = (props) => {\n  const { layout, show } = props;\n  return /* @__PURE__ */ jsx(\n    \"div\",\n    {\n      className: layout.getClassName(CLASSES.FLEXLAYOUT__LAYOUT_OVERLAY),\n      style: {\n        display: show ? \"flex\" : \"none\"\n      }\n    }\n  );\n};\nconst TabButton = (props) => {\n  const { layout, node, selected, path } = props;\n  const selfRef = React.useRef(null);\n  const contentRef = React.useRef(null);\n  const icons = layout.getIcons();\n  React.useLayoutEffect(() => {\n    node.setTabRect(layout.getBoundingClientRect(selfRef.current));\n    if (layout.getEditingTab() === node) {\n      contentRef.current.select();\n    }\n  });\n  const onDragStart = (event) => {\n    if (node.isEnableDrag()) {\n      event.stopPropagation();\n      layout.setDragNode(event.nativeEvent, node);\n    } else {\n      event.preventDefault();\n    }\n  };\n  const onDragEnd = (event) => {\n    layout.clearDragMain();\n  };\n  const onAuxMouseClick = (event) => {\n    if (isAuxMouseEvent(event)) {\n      layout.auxMouseClick(node, event);\n    }\n  };\n  const onContextMenu = (event) => {\n    layout.showContextMenu(node, event);\n  };\n  const onClick = () => {\n    layout.doAction(Actions.selectTab(node.getId()));\n  };\n  const onDoubleClick = (event) => {\n    if (node.isEnableRename()) {\n      onRename();\n      event.stopPropagation();\n    }\n  };\n  const onRename = () => {\n    layout.setEditingTab(node);\n    layout.getCurrentDocument().body.addEventListener(\"pointerdown\", onEndEdit);\n  };\n  const onEndEdit = (event) => {\n    if (event.target !== contentRef.current) {\n      layout.getCurrentDocument().body.removeEventListener(\"pointerdown\", onEndEdit);\n      layout.setEditingTab(void 0);\n    }\n  };\n  const isClosable = () => {\n    const closeType = node.getCloseType();\n    if (selected || closeType === ICloseType.Always) {\n      return true;\n    }\n    if (closeType === ICloseType.Visible) {\n      if (window.matchMedia && window.matchMedia(\"(hover: hover) and (pointer: fine)\").matches) {\n        return true;\n      }\n    }\n    return false;\n  };\n  const onClose = (event) => {\n    if (isClosable()) {\n      layout.doAction(Actions.deleteTab(node.getId()));\n      event.stopPropagation();\n    }\n  };\n  const onClosePointerDown = (event) => {\n    event.stopPropagation();\n  };\n  const onTextBoxPointerDown = (event) => {\n    event.stopPropagation();\n  };\n  const onTextBoxKeyPress = (event) => {\n    if (event.code === \"Escape\") {\n      layout.setEditingTab(void 0);\n    } else if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\n      layout.setEditingTab(void 0);\n      layout.doAction(Actions.renameTab(node.getId(), event.target.value));\n    }\n  };\n  const cm = layout.getClassName;\n  const parentNode = node.getParent();\n  const isStretch = parentNode.isEnableSingleTabStretch() && parentNode.getChildren().length === 1;\n  const baseClassName = isStretch ? CLASSES.FLEXLAYOUT__TAB_BUTTON_STRETCH : CLASSES.FLEXLAYOUT__TAB_BUTTON;\n  let classNames = cm(baseClassName);\n  classNames += \" \" + cm(baseClassName + \"_\" + parentNode.getTabLocation());\n  if (!isStretch) {\n    if (selected) {\n      classNames += \" \" + cm(baseClassName + \"--selected\");\n    } else {\n      classNames += \" \" + cm(baseClassName + \"--unselected\");\n    }\n  }\n  if (node.getClassName() !== void 0) {\n    classNames += \" \" + node.getClassName();\n  }\n  const renderState = getRenderStateEx(layout, node);\n  let content = renderState.content ? /* @__PURE__ */ jsx(\"div\", { className: cm(CLASSES.FLEXLAYOUT__TAB_BUTTON_CONTENT), children: renderState.content }) : null;\n  const leading = renderState.leading ? /* @__PURE__ */ jsx(\"div\", { className: cm(CLASSES.FLEXLAYOUT__TAB_BUTTON_LEADING), children: renderState.leading }) : null;\n  if (layout.getEditingTab() === node) {\n    content = /* @__PURE__ */ jsx(\n      \"input\",\n      {\n        ref: contentRef,\n        className: cm(CLASSES.FLEXLAYOUT__TAB_BUTTON_TEXTBOX),\n        \"data-layout-path\": path + \"/textbox\",\n        type: \"text\",\n        autoFocus: true,\n        defaultValue: node.getName(),\n        onKeyDown: onTextBoxKeyPress,\n        onPointerDown: onTextBoxPointerDown\n      }\n    );\n  }\n  if (node.isEnableClose() && !isStretch) {\n    const closeTitle = layout.i18nName(I18nLabel.Close_Tab);\n    renderState.buttons.push(\n      /* @__PURE__ */ jsx(\n        \"div\",\n        {\n          \"data-layout-path\": path + \"/button/close\",\n          title: closeTitle,\n          className: cm(CLASSES.FLEXLAYOUT__TAB_BUTTON_TRAILING),\n          onPointerDown: onClosePointerDown,\n          onClick: onClose,\n          children: typeof icons.close === \"function\" ? icons.close(node) : icons.close\n        },\n        \"close\"\n      )\n    );\n  }\n  return /* @__PURE__ */ jsxs(\n    \"div\",\n    {\n      ref: selfRef,\n      \"data-layout-path\": path,\n      className: classNames,\n      onClick,\n      onAuxClick: onAuxMouseClick,\n      onContextMenu,\n      title: node.getHelpText(),\n      draggable: true,\n      onDragStart,\n      onDragEnd,\n      onDoubleClick,\n      children: [\n        leading,\n        content,\n        renderState.buttons\n      ]\n    }\n  );\n};\nconst TabSet = (props) => {\n  const { node, layout } = props;\n  const tabStripRef = React.useRef(null);\n  const miniScrollRef = React.useRef(null);\n  const tabStripInnerRef = React.useRef(null);\n  const contentRef = React.useRef(null);\n  const buttonBarRef = React.useRef(null);\n  const overflowbuttonRef = React.useRef(null);\n  const stickyButtonsRef = React.useRef(null);\n  const timer = React.useRef(void 0);\n  const icons = layout.getIcons();\n  React.useLayoutEffect(() => {\n    node.setRect(layout.getBoundingClientRect(selfRef.current));\n    if (tabStripRef.current) {\n      node.setTabStripRect(layout.getBoundingClientRect(tabStripRef.current));\n    }\n    const newContentRect = layout.getBoundingClientRect(contentRef.current);\n    if (!node.getContentRect().equals(newContentRect) && !isNaN(newContentRect.x)) {\n      node.setContentRect(newContentRect);\n      if (splitterDragging) {\n        if (timer.current) {\n          clearTimeout(timer.current);\n        }\n        timer.current = setTimeout(() => {\n          layout.redrawInternal(\"border content rect \" + newContentRect);\n          timer.current = void 0;\n        }, 50);\n      } else {\n        layout.redrawInternal(\"border content rect \" + newContentRect);\n      }\n    }\n  });\n  const { selfRef, userControlledPositionRef, onScroll, onScrollPointerDown, hiddenTabs, onMouseWheel, isDockStickyButtons, isShowHiddenTabs } = useTabOverflow(\n    layout,\n    node,\n    Orientation.HORZ,\n    tabStripInnerRef,\n    miniScrollRef,\n    layout.getClassName(CLASSES.FLEXLAYOUT__TAB_BUTTON)\n  );\n  const onOverflowClick = (event) => {\n    const callback = layout.getShowOverflowMenu();\n    const items = hiddenTabs.map((h) => {\n      return { index: h, node: node.getChildren()[h] };\n    });\n    if (callback !== void 0) {\n      callback(node, event, items, onOverflowItemSelect);\n    } else {\n      const element = overflowbuttonRef.current;\n      showPopup(\n        element,\n        node,\n        items,\n        onOverflowItemSelect,\n        layout\n      );\n    }\n    event.stopPropagation();\n  };\n  const onOverflowItemSelect = (item) => {\n    layout.doAction(Actions.selectTab(item.node.getId()));\n    userControlledPositionRef.current = false;\n  };\n  const onDragStart = (event) => {\n    if (!layout.getEditingTab()) {\n      if (node.isEnableDrag()) {\n        event.stopPropagation();\n        layout.setDragNode(event.nativeEvent, node);\n      } else {\n        event.preventDefault();\n      }\n    } else {\n      event.preventDefault();\n    }\n  };\n  const onPointerDown = (event) => {\n    if (!isAuxMouseEvent(event)) {\n      layout.doAction(Actions.setActiveTabset(node.getId(), layout.getWindowId()));\n    }\n  };\n  const onAuxMouseClick = (event) => {\n    if (isAuxMouseEvent(event)) {\n      layout.auxMouseClick(node, event);\n    }\n  };\n  const onContextMenu = (event) => {\n    layout.showContextMenu(node, event);\n  };\n  const onInterceptPointerDown = (event) => {\n    event.stopPropagation();\n  };\n  const onMaximizeToggle = (event) => {\n    if (node.canMaximize()) {\n      layout.maximize(node);\n    }\n    event.stopPropagation();\n  };\n  const onClose = (event) => {\n    layout.doAction(Actions.deleteTabset(node.getId()));\n    event.stopPropagation();\n  };\n  const onCloseTab = (event) => {\n    layout.doAction(Actions.deleteTab(node.getChildren()[0].getId()));\n    event.stopPropagation();\n  };\n  const onPopoutTab = (event) => {\n    if (selectedTabNode !== void 0) {\n      layout.doAction(Actions.popoutTab(selectedTabNode.getId()));\n    }\n    event.stopPropagation();\n  };\n  const onDoubleClick = (event) => {\n    if (node.canMaximize()) {\n      layout.maximize(node);\n    }\n  };\n  const cm = layout.getClassName;\n  const selectedTabNode = node.getSelectedNode();\n  const path = node.getPath();\n  const tabs = [];\n  if (node.isEnableTabStrip()) {\n    for (let i = 0; i < node.getChildren().length; i++) {\n      const child = node.getChildren()[i];\n      const isSelected = node.getSelected() === i;\n      tabs.push(\n        /* @__PURE__ */ jsx(\n          TabButton,\n          {\n            layout,\n            node: child,\n            path: path + \"/tb\" + i,\n            selected: isSelected\n          },\n          child.getId()\n        )\n      );\n      if (i < node.getChildren().length - 1) {\n        tabs.push(\n          /* @__PURE__ */ jsx(\"div\", { className: cm(CLASSES.FLEXLAYOUT__TABSET_TAB_DIVIDER) }, \"divider\" + i)\n        );\n      }\n    }\n  }\n  let leading = void 0;\n  let stickyButtons = [];\n  let buttons = [];\n  const renderState = { leading, stickyButtons, buttons, overflowPosition: void 0 };\n  layout.customizeTabSet(node, renderState);\n  leading = renderState.leading;\n  stickyButtons = renderState.stickyButtons;\n  buttons = renderState.buttons;\n  const isTabStretch = node.isEnableSingleTabStretch() && node.getChildren().length === 1;\n  const showClose = isTabStretch && node.getChildren()[0].isEnableClose() || node.isEnableClose();\n  if (renderState.overflowPosition === void 0) {\n    renderState.overflowPosition = stickyButtons.length;\n  }\n  if (stickyButtons.length > 0) {\n    if (!node.isEnableTabWrap() && (isDockStickyButtons || isTabStretch)) {\n      buttons = [...stickyButtons, ...buttons];\n    } else {\n      tabs.push(/* @__PURE__ */ jsx(\n        \"div\",\n        {\n          ref: stickyButtonsRef,\n          onPointerDown: onInterceptPointerDown,\n          onDragStart: (e) => {\n            e.preventDefault();\n          },\n          className: cm(CLASSES.FLEXLAYOUT__TAB_TOOLBAR_STICKY_BUTTONS_CONTAINER),\n          children: stickyButtons\n        },\n        \"sticky_buttons_container\"\n      ));\n    }\n  }\n  if (!node.isEnableTabWrap()) {\n    if (isShowHiddenTabs) {\n      const overflowTitle = layout.i18nName(I18nLabel.Overflow_Menu_Tooltip);\n      let overflowContent;\n      if (typeof icons.more === \"function\") {\n        const items = hiddenTabs.map((h) => {\n          return { index: h, node: node.getChildren()[h] };\n        });\n        overflowContent = icons.more(node, items);\n      } else {\n        overflowContent = /* @__PURE__ */ jsxs(Fragment, { children: [\n          icons.more,\n          /* @__PURE__ */ jsx(\"div\", { className: cm(CLASSES.FLEXLAYOUT__TAB_BUTTON_OVERFLOW_COUNT), children: hiddenTabs.length > 0 ? hiddenTabs.length : \"\" })\n        ] });\n      }\n      buttons.splice(\n        Math.min(renderState.overflowPosition, buttons.length),\n        0,\n        /* @__PURE__ */ jsx(\n          \"button\",\n          {\n            \"data-layout-path\": path + \"/button/overflow\",\n            ref: overflowbuttonRef,\n            className: cm(CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON) + \" \" + cm(CLASSES.FLEXLAYOUT__TAB_BUTTON_OVERFLOW),\n            title: overflowTitle,\n            onClick: onOverflowClick,\n            onPointerDown: onInterceptPointerDown,\n            children: overflowContent\n          },\n          \"overflowbutton\"\n        )\n      );\n    }\n  }\n  if (selectedTabNode !== void 0 && layout.isSupportsPopout() && selectedTabNode.isEnablePopout() && selectedTabNode.isEnablePopoutIcon()) {\n    const popoutTitle = layout.i18nName(I18nLabel.Popout_Tab);\n    buttons.push(\n      /* @__PURE__ */ jsx(\n        \"button\",\n        {\n          \"data-layout-path\": path + \"/button/popout\",\n          title: popoutTitle,\n          className: cm(CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON) + \" \" + cm(CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_FLOAT),\n          onClick: onPopoutTab,\n          onPointerDown: onInterceptPointerDown,\n          children: typeof icons.popout === \"function\" ? icons.popout(selectedTabNode) : icons.popout\n        },\n        \"popout\"\n      )\n    );\n  }\n  if (node.canMaximize()) {\n    const minTitle = layout.i18nName(I18nLabel.Restore);\n    const maxTitle = layout.i18nName(I18nLabel.Maximize);\n    buttons.push(\n      /* @__PURE__ */ jsx(\n        \"button\",\n        {\n          \"data-layout-path\": path + \"/button/max\",\n          title: node.isMaximized() ? minTitle : maxTitle,\n          className: cm(CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON) + \" \" + cm(CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_ + (node.isMaximized() ? \"max\" : \"min\")),\n          onClick: onMaximizeToggle,\n          onPointerDown: onInterceptPointerDown,\n          children: node.isMaximized() ? typeof icons.restore === \"function\" ? icons.restore(node) : icons.restore : typeof icons.maximize === \"function\" ? icons.maximize(node) : icons.maximize\n        },\n        \"max\"\n      )\n    );\n  }\n  if (!node.isMaximized() && showClose) {\n    const title = isTabStretch ? layout.i18nName(I18nLabel.Close_Tab) : layout.i18nName(I18nLabel.Close_Tabset);\n    buttons.push(\n      /* @__PURE__ */ jsx(\n        \"button\",\n        {\n          \"data-layout-path\": path + \"/button/close\",\n          title,\n          className: cm(CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON) + \" \" + cm(CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_CLOSE),\n          onClick: isTabStretch ? onCloseTab : onClose,\n          onPointerDown: onInterceptPointerDown,\n          children: typeof icons.closeTabset === \"function\" ? icons.closeTabset(node) : icons.closeTabset\n        },\n        \"close\"\n      )\n    );\n  }\n  if (node.isActive() && node.isEnableActiveIcon()) {\n    const title = layout.i18nName(I18nLabel.Active_Tabset);\n    buttons.push(\n      /* @__PURE__ */ jsx(\n        \"div\",\n        {\n          \"data-layout-path\": path + \"/button/active\",\n          title,\n          className: cm(CLASSES.FLEXLAYOUT__TAB_TOOLBAR_ICON),\n          children: typeof icons.activeTabset === \"function\" ? icons.activeTabset(node) : icons.activeTabset\n        },\n        \"active\"\n      )\n    );\n  }\n  const buttonbar = /* @__PURE__ */ jsx(\n    \"div\",\n    {\n      ref: buttonBarRef,\n      className: cm(CLASSES.FLEXLAYOUT__TAB_TOOLBAR),\n      onPointerDown: onInterceptPointerDown,\n      onDragStart: (e) => {\n        e.preventDefault();\n      },\n      children: buttons\n    },\n    \"buttonbar\"\n  );\n  let tabStrip;\n  let tabStripClasses = cm(CLASSES.FLEXLAYOUT__TABSET_TABBAR_OUTER);\n  if (node.getClassNameTabStrip() !== void 0) {\n    tabStripClasses += \" \" + node.getClassNameTabStrip();\n  }\n  tabStripClasses += \" \" + CLASSES.FLEXLAYOUT__TABSET_TABBAR_OUTER_ + node.getTabLocation();\n  if (node.isActive()) {\n    tabStripClasses += \" \" + cm(CLASSES.FLEXLAYOUT__TABSET_SELECTED);\n  }\n  if (node.isMaximized()) {\n    tabStripClasses += \" \" + cm(CLASSES.FLEXLAYOUT__TABSET_MAXIMIZED);\n  }\n  if (isTabStretch) {\n    const tabNode = node.getChildren()[0];\n    if (tabNode.getTabSetClassName() !== void 0) {\n      tabStripClasses += \" \" + tabNode.getTabSetClassName();\n    }\n  }\n  let leadingContainer = void 0;\n  if (leading) {\n    leadingContainer = /* @__PURE__ */ jsx(\"div\", { className: cm(CLASSES.FLEXLAYOUT__TABSET_LEADING), children: leading });\n  }\n  if (node.isEnableTabWrap()) {\n    if (node.isEnableTabStrip()) {\n      tabStrip = /* @__PURE__ */ jsxs(\n        \"div\",\n        {\n          className: tabStripClasses,\n          style: { flexWrap: \"wrap\", gap: \"1px\", marginTop: \"2px\" },\n          ref: tabStripRef,\n          \"data-layout-path\": path + \"/tabstrip\",\n          onPointerDown,\n          onDoubleClick,\n          onContextMenu,\n          onClick: onAuxMouseClick,\n          onAuxClick: onAuxMouseClick,\n          draggable: true,\n          onDragStart,\n          children: [\n            leadingContainer,\n            tabs,\n            /* @__PURE__ */ jsx(\"div\", { style: { flexGrow: 1 } }),\n            buttonbar\n          ]\n        }\n      );\n    }\n  } else {\n    if (node.isEnableTabStrip()) {\n      let miniScrollbar = void 0;\n      if (node.isEnableTabScrollbar()) {\n        miniScrollbar = /* @__PURE__ */ jsx(\n          \"div\",\n          {\n            ref: miniScrollRef,\n            className: cm(CLASSES.FLEXLAYOUT__MINI_SCROLLBAR),\n            onPointerDown: onScrollPointerDown\n          }\n        );\n      }\n      tabStrip = /* @__PURE__ */ jsxs(\n        \"div\",\n        {\n          className: tabStripClasses,\n          ref: tabStripRef,\n          \"data-layout-path\": path + \"/tabstrip\",\n          onPointerDown,\n          onDoubleClick,\n          onContextMenu,\n          onClick: onAuxMouseClick,\n          onAuxClick: onAuxMouseClick,\n          draggable: true,\n          onWheel: onMouseWheel,\n          onDragStart,\n          children: [\n            leadingContainer,\n            /* @__PURE__ */ jsxs(\"div\", { className: cm(CLASSES.FLEXLAYOUT__MINI_SCROLLBAR_CONTAINER), children: [\n              /* @__PURE__ */ jsx(\n                \"div\",\n                {\n                  ref: tabStripInnerRef,\n                  className: cm(CLASSES.FLEXLAYOUT__TABSET_TABBAR_INNER) + \" \" + cm(CLASSES.FLEXLAYOUT__TABSET_TABBAR_INNER_ + node.getTabLocation()),\n                  style: { overflowX: \"auto\", overflowY: \"hidden\" },\n                  onScroll,\n                  children: /* @__PURE__ */ jsx(\n                    \"div\",\n                    {\n                      style: { width: isTabStretch ? \"100%\" : \"none\" },\n                      className: cm(CLASSES.FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER) + \" \" + cm(CLASSES.FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER_ + node.getTabLocation()),\n                      children: tabs\n                    }\n                  )\n                }\n              ),\n              miniScrollbar\n            ] }),\n            buttonbar\n          ]\n        }\n      );\n    }\n  }\n  let emptyTabset;\n  if (node.getChildren().length === 0) {\n    const placeHolderCallback = layout.getTabSetPlaceHolderCallback();\n    if (placeHolderCallback) {\n      emptyTabset = placeHolderCallback(node);\n    }\n  }\n  let content = /* @__PURE__ */ jsx(\"div\", { ref: contentRef, className: cm(CLASSES.FLEXLAYOUT__TABSET_CONTENT), children: emptyTabset });\n  if (node.getTabLocation() === \"top\") {\n    content = /* @__PURE__ */ jsxs(Fragment, { children: [\n      tabStrip,\n      content\n    ] });\n  } else {\n    content = /* @__PURE__ */ jsxs(Fragment, { children: [\n      content,\n      tabStrip\n    ] });\n  }\n  const style2 = {\n    flexGrow: Math.max(1, node.getWeight() * 1e3),\n    minWidth: node.getMinWidth(),\n    minHeight: node.getMinHeight(),\n    maxWidth: node.getMaxWidth(),\n    maxHeight: node.getMaxHeight()\n  };\n  if (node.getModel().getMaximizedTabset(layout.getWindowId()) !== void 0 && !node.isMaximized()) {\n    style2.display = \"none\";\n  }\n  const tabset = /* @__PURE__ */ jsx(\n    \"div\",\n    {\n      ref: selfRef,\n      className: cm(CLASSES.FLEXLAYOUT__TABSET_CONTAINER),\n      style: style2,\n      children: /* @__PURE__ */ jsx(\n        \"div\",\n        {\n          className: cm(CLASSES.FLEXLAYOUT__TABSET),\n          \"data-layout-path\": path,\n          children: content\n        }\n      )\n    }\n  );\n  if (node.isMaximized()) {\n    if (layout.getMainElement()) {\n      return createPortal(\n        /* @__PURE__ */ jsx(\"div\", { style: {\n          position: \"absolute\",\n          display: \"flex\",\n          top: 0,\n          left: 0,\n          bottom: 0,\n          right: 0\n        }, children: tabset }),\n        layout.getMainElement()\n      );\n    } else {\n      return tabset;\n    }\n  } else {\n    return tabset;\n  }\n};\nconst Row = (props) => {\n  const { layout, node } = props;\n  const selfRef = React.useRef(null);\n  const horizontal = node.getOrientation() === Orientation.HORZ;\n  React.useLayoutEffect(() => {\n    node.setRect(layout.getBoundingClientRect(selfRef.current));\n  });\n  const items = [];\n  let i = 0;\n  for (const child of node.getChildren()) {\n    if (i > 0) {\n      items.push(/* @__PURE__ */ jsx(Splitter, { layout, node, index: i, horizontal }, \"splitter\" + i));\n    }\n    if (child instanceof RowNode) {\n      items.push(/* @__PURE__ */ jsx(Row, { layout, node: child }, child.getId()));\n    } else if (child instanceof TabSetNode) {\n      items.push(/* @__PURE__ */ jsx(TabSet, { layout, node: child }, child.getId()));\n    }\n    i++;\n  }\n  const style2 = {\n    flexGrow: Math.max(1, node.getWeight() * 1e3),\n    // NOTE:  flex-grow cannot have values < 1 otherwise will not fill parent, need to normalize \n    minWidth: node.getMinWidth(),\n    minHeight: node.getMinHeight(),\n    maxWidth: node.getMaxWidth(),\n    maxHeight: node.getMaxHeight()\n  };\n  if (horizontal) {\n    style2.flexDirection = \"row\";\n  } else {\n    style2.flexDirection = \"column\";\n  }\n  return /* @__PURE__ */ jsx(\n    \"div\",\n    {\n      ref: selfRef,\n      className: layout.getClassName(CLASSES.FLEXLAYOUT__ROW),\n      style: style2,\n      children: items\n    }\n  );\n};\nconst Tab = (props) => {\n  const { layout, selected, node, path } = props;\n  const selfRef = React.useRef(null);\n  const firstSelect = React.useRef(true);\n  const parentNode = node.getParent();\n  const rect = parentNode.getContentRect();\n  React.useLayoutEffect(() => {\n    const element = node.getMoveableElement();\n    selfRef.current.appendChild(element);\n    node.setMoveableElement(element);\n    const handleScroll = () => {\n      node.saveScrollPosition();\n    };\n    element.addEventListener(\"scroll\", handleScroll);\n    selfRef.current.addEventListener(\"pointerdown\", onPointerDown);\n    return () => {\n      element.removeEventListener(\"scroll\", handleScroll);\n      if (selfRef.current) {\n        selfRef.current.removeEventListener(\"pointerdown\", onPointerDown);\n      }\n      node.setVisible(false);\n    };\n  }, []);\n  React.useEffect(() => {\n    if (node.isSelected()) {\n      if (firstSelect.current) {\n        node.restoreScrollPosition();\n        firstSelect.current = false;\n      }\n    }\n  });\n  const onPointerDown = () => {\n    const parent = node.getParent();\n    if (parent instanceof TabSetNode) {\n      if (!parent.isActive()) {\n        layout.doAction(Actions.setActiveTabset(parent.getId(), layout.getWindowId()));\n      }\n    }\n  };\n  node.setRect(rect);\n  const cm = layout.getClassName;\n  const style2 = {};\n  rect.styleWithPosition(style2);\n  let overlay = null;\n  if (selected) {\n    node.setVisible(true);\n    if (document.hidden && node.isEnablePopoutOverlay()) {\n      const overlayStyle = {};\n      rect.styleWithPosition(overlayStyle);\n      overlay = /* @__PURE__ */ jsx(\"div\", { style: overlayStyle, className: cm(CLASSES.FLEXLAYOUT__TAB_OVERLAY) });\n    }\n  } else {\n    style2.display = \"none\";\n    node.setVisible(false);\n  }\n  if (parentNode instanceof TabSetNode) {\n    if (node.getModel().getMaximizedTabset(layout.getWindowId()) !== void 0) {\n      if (parentNode.isMaximized()) {\n        style2.zIndex = 10;\n      } else {\n        style2.display = \"none\";\n      }\n    }\n  }\n  if (parentNode instanceof BorderNode) {\n    if (!parentNode.isShowing()) {\n      style2.display = \"none\";\n    }\n  }\n  let className = cm(CLASSES.FLEXLAYOUT__TAB);\n  if (parentNode instanceof BorderNode) {\n    className += \" \" + cm(CLASSES.FLEXLAYOUT__TAB_BORDER);\n    className += \" \" + cm(CLASSES.FLEXLAYOUT__TAB_BORDER_ + parentNode.getLocation().getName());\n  }\n  if (node.getContentClassName() !== void 0) {\n    className += \" \" + node.getContentClassName();\n  }\n  return /* @__PURE__ */ jsxs(Fragment, { children: [\n    overlay,\n    /* @__PURE__ */ jsx(\n      \"div\",\n      {\n        ref: selfRef,\n        style: style2,\n        className,\n        \"data-layout-path\": path\n      }\n    )\n  ] });\n};\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    __publicField(this, \"retry\", () => {\n      this.setState({ hasError: false });\n    });\n    this.state = { hasError: false };\n  }\n  static getDerivedStateFromError(error) {\n    return { hasError: true };\n  }\n  componentDidCatch(error, errorInfo) {\n    console.debug(error);\n    console.debug(errorInfo);\n  }\n  render() {\n    if (this.state.hasError) {\n      return /* @__PURE__ */ jsx(\"div\", { className: CLASSES.FLEXLAYOUT__ERROR_BOUNDARY_CONTAINER, children: /* @__PURE__ */ jsx(\"div\", { className: CLASSES.FLEXLAYOUT__ERROR_BOUNDARY_CONTENT, children: /* @__PURE__ */ jsxs(\"div\", { style: { display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }, children: [\n        this.props.message,\n        /* @__PURE__ */ jsx(\"p\", { children: /* @__PURE__ */ jsx(\"button\", { onClick: this.retry, children: this.props.retryText }) })\n      ] }) }) });\n    }\n    return this.props.children;\n  }\n}\nconst SizeTracker = React.memo(({ layout, node }) => {\n  return /* @__PURE__ */ jsx(\n    ErrorBoundary,\n    {\n      message: layout.i18nName(I18nLabel.Error_rendering_component),\n      retryText: layout.i18nName(I18nLabel.Error_rendering_component_retry),\n      children: layout.props.factory(node)\n    }\n  );\n}, arePropsEqual);\nfunction arePropsEqual(prevProps, nextProps) {\n  const reRender = nextProps.visible && (!prevProps.rect.equalSize(nextProps.rect) || prevProps.forceRevision !== nextProps.forceRevision || prevProps.tabsRevision !== nextProps.tabsRevision);\n  return !reRender;\n}\nclass Layout extends React.Component {\n  // so LayoutInternal knows this is a parent render (used for optimization)\n  /** @internal */\n  constructor(props) {\n    super(props);\n    /** @internal */\n    __publicField(this, \"selfRef\");\n    /** @internal */\n    __publicField(this, \"revision\");\n    this.selfRef = React.createRef();\n    this.revision = 0;\n  }\n  /** re-render the layout */\n  redraw() {\n    this.selfRef.current.redraw(\"parent \" + this.revision);\n  }\n  /**\n   * Adds a new tab to the given tabset\n   * @param tabsetId the id of the tabset where the new tab will be added\n   * @param json the json for the new tab node\n   * @returns the added tab node or undefined\n   */\n  addTabToTabSet(tabsetId, json) {\n    return this.selfRef.current.addTabToTabSet(tabsetId, json);\n  }\n  /**\n   * Adds a new tab by dragging an item to the drop location, must be called from within an HTML\n   * drag start handler. You can use the setDragComponent() method to set the drag image before calling this \n   * method.\n   * @param event the drag start event\n   * @param json the json for the new tab node\n   * @param onDrop a callback to call when the drag is complete\n   */\n  addTabWithDragAndDrop(event, json, onDrop) {\n    this.selfRef.current.addTabWithDragAndDrop(event, json, onDrop);\n  }\n  /**\n   * Move a tab/tabset using drag and drop, must be called from within an HTML\n   * drag start handler\n   * @param event the drag start event\n   * @param node the tab or tabset to drag\n   */\n  moveTabWithDragAndDrop(event, node) {\n    this.selfRef.current.moveTabWithDragAndDrop(event, node);\n  }\n  /**\n   * Adds a new tab to the active tabset (if there is one)\n   * @param json the json for the new tab node\n   * @returns the added tab node or undefined\n   */\n  addTabToActiveTabSet(json) {\n    return this.selfRef.current.addTabToActiveTabSet(json);\n  }\n  /**\n   * Sets the drag image from a react component for a drag event\n   * @param event the drag event\n   * @param component the react component to be used for the drag image\n   * @param x the x position of the drag cursor on the image\n   * @param y the x position of the drag cursor on the image\n   */\n  setDragComponent(event, component, x, y) {\n    this.selfRef.current.setDragComponent(event, component, x, y);\n  }\n  /** Get the root div element of the layout */\n  getRootDiv() {\n    return this.selfRef.current.getRootDiv();\n  }\n  /** @internal */\n  render() {\n    return /* @__PURE__ */ jsx(LayoutInternal, { ref: this.selfRef, ...this.props, renderRevision: this.revision++ });\n  }\n}\nconst _LayoutInternal = class _LayoutInternal extends React.Component {\n  // private renderCount: any;\n  constructor(props) {\n    super(props);\n    __publicField(this, \"selfRef\");\n    __publicField(this, \"moveablesRef\");\n    __publicField(this, \"findBorderBarSizeRef\");\n    __publicField(this, \"mainRef\");\n    __publicField(this, \"previousModel\");\n    __publicField(this, \"orderedTabIds\");\n    __publicField(this, \"orderedTabMoveableIds\");\n    __publicField(this, \"moveableElementMap\", /* @__PURE__ */ new Map());\n    __publicField(this, \"dropInfo\");\n    __publicField(this, \"outlineDiv\");\n    __publicField(this, \"currentDocument\");\n    __publicField(this, \"currentWindow\");\n    __publicField(this, \"supportsPopout\");\n    __publicField(this, \"popoutURL\");\n    __publicField(this, \"icons\");\n    __publicField(this, \"resizeObserver\");\n    __publicField(this, \"dragEnterCount\", 0);\n    __publicField(this, \"dragging\", false);\n    __publicField(this, \"windowId\");\n    __publicField(this, \"layoutWindow\");\n    __publicField(this, \"mainLayout\");\n    __publicField(this, \"isMainWindow\");\n    __publicField(this, \"isDraggingOverWindow\");\n    __publicField(this, \"styleObserver\");\n    __publicField(this, \"popoutWindowName\");\n    __publicField(this, \"updateLayoutMetrics\", () => {\n      if (this.findBorderBarSizeRef.current) {\n        const borderBarSize = this.findBorderBarSizeRef.current.getBoundingClientRect().height;\n        if (borderBarSize !== this.state.calculatedBorderBarSize) {\n          this.setState({ calculatedBorderBarSize: borderBarSize });\n        }\n      }\n    });\n    __publicField(this, \"onModelChange\", (action) => {\n      this.redrawInternal(\"model change\");\n      if (this.props.onModelChange) {\n        this.props.onModelChange(this.props.model, action);\n      }\n    });\n    __publicField(this, \"updateRect\", () => {\n      if (this.selfRef.current) {\n        const rect = Rect.fromDomRect(this.selfRef.current.getBoundingClientRect());\n        if (!rect.equals(this.state.rect) && rect.width !== 0 && rect.height !== 0) {\n          this.setState({ rect });\n          if (this.windowId !== Model.MAIN_WINDOW_ID) {\n            this.redrawInternal(\"rect updated\");\n          }\n        }\n      }\n    });\n    __publicField(this, \"getClassName\", (defaultClassName) => {\n      if (this.props.classNameMapper === void 0) {\n        return defaultClassName;\n      } else {\n        return this.props.classNameMapper(defaultClassName);\n      }\n    });\n    __publicField(this, \"onCloseWindow\", (windowLayout) => {\n      this.doAction(Actions.closeWindow(windowLayout.windowId));\n    });\n    __publicField(this, \"onSetWindow\", (windowLayout, window2) => {\n    });\n    __publicField(this, \"showControlInPortal\", (control, element) => {\n      const portal = createPortal(control, element);\n      this.setState({ portal });\n    });\n    __publicField(this, \"hideControlInPortal\", () => {\n      this.setState({ portal: void 0 });\n    });\n    __publicField(this, \"getIcons\", () => {\n      return this.icons;\n    });\n    __publicField(this, \"setDragNode\", (event, node) => {\n      _LayoutInternal.dragState = new DragState(this.mainLayout, \"internal\", node, void 0, void 0);\n      event.dataTransfer.setData(\"text/plain\", \"--flexlayout--\");\n      event.dataTransfer.effectAllowed = \"copyMove\";\n      event.dataTransfer.dropEffect = \"move\";\n      this.dragEnterCount = 0;\n      if (node instanceof TabSetNode) {\n        let rendered = false;\n        let content = this.i18nName(I18nLabel.Move_Tabset);\n        if (node.getChildren().length > 0) {\n          content = this.i18nName(I18nLabel.Move_Tabs).replace(\"?\", String(node.getChildren().length));\n        }\n        if (this.props.onRenderDragRect) {\n          const dragComponent = this.props.onRenderDragRect(content, node, void 0);\n          if (dragComponent) {\n            this.setDragComponent(event, dragComponent, 10, 10);\n            rendered = true;\n          }\n        }\n        if (!rendered) {\n          this.setDragComponent(event, content, 10, 10);\n        }\n      } else {\n        const element = event.target;\n        const rect = element.getBoundingClientRect();\n        const offsetX = event.clientX - rect.left;\n        const offsetY = event.clientY - rect.top;\n        const parentNode = node == null ? void 0 : node.getParent();\n        const isInVerticalBorder = parentNode instanceof BorderNode && parentNode.getOrientation() === Orientation.HORZ;\n        const x = isInVerticalBorder ? 10 : offsetX;\n        const y = isInVerticalBorder ? 10 : offsetY;\n        let rendered = false;\n        if (this.props.onRenderDragRect) {\n          const content = /* @__PURE__ */ jsx(TabButtonStamp, { layout: this, node }, node.getId());\n          const dragComponent = this.props.onRenderDragRect(content, node, void 0);\n          if (dragComponent) {\n            this.setDragComponent(event, dragComponent, x, y);\n            rendered = true;\n          }\n        }\n        if (!rendered) {\n          if (isSafari()) {\n            this.setDragComponent(event, /* @__PURE__ */ jsx(TabButtonStamp, { node, layout: this }), x, y);\n          } else {\n            event.dataTransfer.setDragImage(node.getTabStamp(), x, y);\n          }\n        }\n      }\n    });\n    __publicField(this, \"onDragEnterRaw\", (event) => {\n      this.dragEnterCount++;\n      if (this.dragEnterCount === 1) {\n        this.onDragEnter(event);\n      }\n    });\n    __publicField(this, \"onDragLeaveRaw\", (event) => {\n      this.dragEnterCount--;\n      if (this.dragEnterCount === 0) {\n        this.onDragLeave(event);\n      }\n    });\n    __publicField(this, \"onDragEnter\", (event) => {\n      if (!_LayoutInternal.dragState && this.props.onExternalDrag) {\n        const externalDrag = this.props.onExternalDrag(event);\n        if (externalDrag) {\n          const tempNode = TabNode.fromJson(externalDrag.json, this.props.model, false);\n          _LayoutInternal.dragState = new DragState(this.mainLayout, \"external\", tempNode, externalDrag.json, externalDrag.onDrop);\n        }\n      }\n      if (_LayoutInternal.dragState) {\n        if (this.windowId !== Model.MAIN_WINDOW_ID && _LayoutInternal.dragState.mainLayout === this.mainLayout) {\n          _LayoutInternal.dragState.mainLayout.setDraggingOverWindow(true);\n        }\n        if (_LayoutInternal.dragState.mainLayout !== this.mainLayout) {\n          return;\n        }\n        event.preventDefault();\n        this.dropInfo = void 0;\n        const rootdiv = this.selfRef.current;\n        this.outlineDiv = this.currentDocument.createElement(\"div\");\n        this.outlineDiv.className = this.getClassName(CLASSES.FLEXLAYOUT__OUTLINE_RECT);\n        this.outlineDiv.style.visibility = \"hidden\";\n        const speed = this.props.model.getAttribute(\"tabDragSpeed\");\n        this.outlineDiv.style.transition = `top ${speed}s, left ${speed}s, width ${speed}s, height ${speed}s`;\n        rootdiv.appendChild(this.outlineDiv);\n        this.dragging = true;\n        this.showOverlay(true);\n        if (!this.isDraggingOverWindow && this.props.model.getMaximizedTabset(this.windowId) === void 0) {\n          this.setState({ showEdges: this.props.model.isEnableEdgeDock() });\n        }\n        const clientRect = this.selfRef.current.getBoundingClientRect();\n        const r = new Rect(\n          event.clientX - clientRect.left,\n          event.clientY - clientRect.top,\n          1,\n          1\n        );\n        r.positionElement(this.outlineDiv);\n      }\n    });\n    __publicField(this, \"onDragOver\", (event) => {\n      var _a;\n      if (this.dragging && !this.isDraggingOverWindow) {\n        event.preventDefault();\n        const clientRect = (_a = this.selfRef.current) == null ? void 0 : _a.getBoundingClientRect();\n        const pos = {\n          x: event.clientX - ((clientRect == null ? void 0 : clientRect.left) ?? 0),\n          y: event.clientY - ((clientRect == null ? void 0 : clientRect.top) ?? 0)\n        };\n        this.checkForBorderToShow(pos.x, pos.y);\n        const dropInfo = this.props.model.findDropTargetNode(this.windowId, _LayoutInternal.dragState.dragNode, pos.x, pos.y);\n        if (dropInfo) {\n          this.dropInfo = dropInfo;\n          if (this.outlineDiv) {\n            this.outlineDiv.className = this.getClassName(dropInfo.className);\n            dropInfo.rect.positionElement(this.outlineDiv);\n            this.outlineDiv.style.visibility = \"visible\";\n          }\n        }\n      }\n    });\n    __publicField(this, \"onDragLeave\", (event) => {\n      if (this.dragging) {\n        if (this.windowId !== Model.MAIN_WINDOW_ID) {\n          _LayoutInternal.dragState.mainLayout.setDraggingOverWindow(false);\n        }\n        this.clearDragLocal();\n      }\n    });\n    __publicField(this, \"onDrop\", (event) => {\n      if (this.dragging) {\n        event.preventDefault();\n        const dragState = _LayoutInternal.dragState;\n        if (this.dropInfo) {\n          if (dragState.dragJson !== void 0) {\n            const newNode = this.doAction(Actions.addNode(dragState.dragJson, this.dropInfo.node.getId(), this.dropInfo.location, this.dropInfo.index));\n            if (dragState.fnNewNodeDropped !== void 0) {\n              dragState.fnNewNodeDropped(newNode, event);\n            }\n          } else if (dragState.dragNode !== void 0) {\n            this.doAction(Actions.moveNode(dragState.dragNode.getId(), this.dropInfo.node.getId(), this.dropInfo.location, this.dropInfo.index));\n          }\n        }\n        this.mainLayout.clearDragMain();\n      }\n      this.dragEnterCount = 0;\n    });\n    this.orderedTabIds = [];\n    this.orderedTabMoveableIds = [];\n    this.selfRef = React.createRef();\n    this.moveablesRef = React.createRef();\n    this.mainRef = React.createRef();\n    this.findBorderBarSizeRef = React.createRef();\n    this.supportsPopout = props.supportsPopout !== void 0 ? props.supportsPopout : defaultSupportsPopout;\n    this.popoutURL = props.popoutURL ? props.popoutURL : \"popout.html\";\n    this.icons = { ...defaultIcons, ...props.icons };\n    this.windowId = props.windowId ? props.windowId : Model.MAIN_WINDOW_ID;\n    this.mainLayout = this.props.mainLayout ? this.props.mainLayout : this;\n    this.isDraggingOverWindow = false;\n    this.layoutWindow = this.props.model.getwindowsMap().get(this.windowId);\n    this.layoutWindow.layout = this;\n    this.popoutWindowName = this.props.popoutWindowName || \"Popout Window\";\n    this.state = {\n      rect: Rect.empty(),\n      editingTab: void 0,\n      showEdges: false,\n      showOverlay: false,\n      calculatedBorderBarSize: 29,\n      layoutRevision: 0,\n      forceRevision: 0,\n      showHiddenBorder: DockLocation.CENTER\n    };\n    this.isMainWindow = this.windowId === Model.MAIN_WINDOW_ID;\n  }\n  componentDidMount() {\n    this.updateRect();\n    this.currentDocument = this.selfRef.current.ownerDocument;\n    this.currentWindow = this.currentDocument.defaultView;\n    this.layoutWindow.window = this.currentWindow;\n    this.layoutWindow.toScreenRectFunction = (r) => this.getScreenRect(r);\n    this.resizeObserver = new ResizeObserver((entries) => {\n      requestAnimationFrame(() => {\n        this.updateRect();\n      });\n    });\n    if (this.selfRef.current) {\n      this.resizeObserver.observe(this.selfRef.current);\n    }\n    if (this.isMainWindow) {\n      this.props.model.addChangeListener(this.onModelChange);\n      this.updateLayoutMetrics();\n    } else {\n      this.currentWindow.addEventListener(\"resize\", () => {\n        this.updateRect();\n      });\n      const sourceElement = this.props.mainLayout.getRootDiv();\n      const targetElement = this.selfRef.current;\n      copyInlineStyles(sourceElement, targetElement);\n      this.styleObserver = new MutationObserver(() => {\n        const changed = copyInlineStyles(sourceElement, targetElement);\n        if (changed) {\n          this.redraw(\"mutation observer\");\n        }\n      });\n      this.styleObserver.observe(sourceElement, { attributeFilter: [\"style\"] });\n    }\n    document.addEventListener(\"visibilitychange\", () => {\n      for (const [_, layoutWindow] of this.props.model.getwindowsMap()) {\n        const layout = layoutWindow.layout;\n        if (layout) {\n          this.redraw(\"visibility change\");\n        }\n      }\n    });\n  }\n  componentDidUpdate() {\n    this.currentDocument = this.selfRef.current.ownerDocument;\n    this.currentWindow = this.currentDocument.defaultView;\n    if (this.isMainWindow) {\n      if (this.props.model !== this.previousModel) {\n        if (this.previousModel !== void 0) {\n          this.previousModel.removeChangeListener(this.onModelChange);\n        }\n        this.props.model.getwindowsMap().get(this.windowId).layout = this;\n        this.props.model.addChangeListener(this.onModelChange);\n        this.layoutWindow = this.props.model.getwindowsMap().get(this.windowId);\n        this.layoutWindow.layout = this;\n        this.layoutWindow.toScreenRectFunction = (r) => this.getScreenRect(r);\n        this.previousModel = this.props.model;\n        this.tidyMoveablesMap();\n      }\n      this.updateLayoutMetrics();\n    }\n  }\n  componentWillUnmount() {\n    var _a, _b;\n    if (this.selfRef.current) {\n      (_a = this.resizeObserver) == null ? void 0 : _a.unobserve(this.selfRef.current);\n    }\n    if (this.isMainWindow) {\n      this.props.model.removeChangeListener(this.onModelChange);\n    }\n    (_b = this.styleObserver) == null ? void 0 : _b.disconnect();\n  }\n  render() {\n    if (!this.selfRef.current) {\n      return /* @__PURE__ */ jsxs(\"div\", { ref: this.selfRef, className: this.getClassName(CLASSES.FLEXLAYOUT__LAYOUT), children: [\n        /* @__PURE__ */ jsx(\"div\", { ref: this.moveablesRef, className: this.getClassName(CLASSES.FLEXLAYOUT__LAYOUT_MOVEABLES) }, \"__moveables__\"),\n        this.renderMetricsElements()\n      ] });\n    }\n    const model = this.props.model;\n    model.getRoot(this.windowId).calcMinMaxSize();\n    model.getRoot(this.windowId).setPaths(\"\");\n    model.getBorderSet().setPaths();\n    const inner = this.renderLayout();\n    const outer = this.renderBorders(inner);\n    const tabs = this.renderTabs();\n    const reorderedTabs = this.reorderComponents(tabs, this.orderedTabIds);\n    let floatingWindows = null;\n    let reorderedTabMoveables = null;\n    let tabStamps = null;\n    let metricElements = null;\n    if (this.isMainWindow) {\n      floatingWindows = this.renderWindows();\n      metricElements = this.renderMetricsElements();\n      const tabMoveables = this.renderTabMoveables();\n      reorderedTabMoveables = this.reorderComponents(tabMoveables, this.orderedTabMoveableIds);\n      tabStamps = /* @__PURE__ */ jsx(\"div\", { className: this.getClassName(CLASSES.FLEXLAYOUT__LAYOUT_TAB_STAMPS), children: this.renderTabStamps() }, \"__tabStamps__\");\n    }\n    return /* @__PURE__ */ jsxs(\n      \"div\",\n      {\n        ref: this.selfRef,\n        className: this.getClassName(CLASSES.FLEXLAYOUT__LAYOUT),\n        onDragEnter: this.onDragEnterRaw,\n        onDragLeave: this.onDragLeaveRaw,\n        onDragOver: this.onDragOver,\n        onDrop: this.onDrop,\n        children: [\n          /* @__PURE__ */ jsx(\"div\", { ref: this.moveablesRef, className: this.getClassName(CLASSES.FLEXLAYOUT__LAYOUT_MOVEABLES) }, \"__moveables__\"),\n          metricElements,\n          /* @__PURE__ */ jsx(Overlay, { layout: this, show: this.state.showOverlay }, \"__overlay__\"),\n          outer,\n          reorderedTabs,\n          reorderedTabMoveables,\n          tabStamps,\n          this.state.portal,\n          floatingWindows\n        ]\n      }\n    );\n  }\n  renderBorders(inner) {\n    const classMain = this.getClassName(CLASSES.FLEXLAYOUT__LAYOUT_MAIN);\n    const borders = this.props.model.getBorderSet().getBorderMap();\n    if (this.isMainWindow && borders.size > 0) {\n      inner = /* @__PURE__ */ jsx(\"div\", { className: classMain, ref: this.mainRef, children: inner });\n      const borderSetComponents = /* @__PURE__ */ new Map();\n      const borderSetContentComponents = /* @__PURE__ */ new Map();\n      for (const [_, location] of DockLocation.values) {\n        const border = borders.get(location);\n        const showBorder = border && border.isShowing() && (!border.isAutoHide() || border.isAutoHide() && (border.getChildren().length > 0 || this.state.showHiddenBorder === location));\n        if (showBorder) {\n          borderSetComponents.set(location, /* @__PURE__ */ jsx(BorderTabSet, { layout: this, border, size: this.state.calculatedBorderBarSize }));\n          borderSetContentComponents.set(location, /* @__PURE__ */ jsx(BorderTab, { layout: this, border, show: border.getSelected() !== -1 }));\n        }\n      }\n      const classBorderOuter = this.getClassName(CLASSES.FLEXLAYOUT__LAYOUT_BORDER_CONTAINER);\n      const classBorderInner = this.getClassName(CLASSES.FLEXLAYOUT__LAYOUT_BORDER_CONTAINER_INNER);\n      if (this.props.model.getBorderSet().getLayoutHorizontal()) {\n        const innerWithBorderTabs = /* @__PURE__ */ jsxs(\"div\", { className: classBorderInner, style: { flexDirection: \"column\" }, children: [\n          borderSetContentComponents.get(DockLocation.TOP),\n          /* @__PURE__ */ jsxs(\"div\", { className: classBorderInner, style: { flexDirection: \"row\" }, children: [\n            borderSetContentComponents.get(DockLocation.LEFT),\n            inner,\n            borderSetContentComponents.get(DockLocation.RIGHT)\n          ] }),\n          borderSetContentComponents.get(DockLocation.BOTTOM)\n        ] });\n        return /* @__PURE__ */ jsxs(\"div\", { className: classBorderOuter, style: { flexDirection: \"column\" }, children: [\n          borderSetComponents.get(DockLocation.TOP),\n          /* @__PURE__ */ jsxs(\"div\", { className: classBorderInner, style: { flexDirection: \"row\" }, children: [\n            borderSetComponents.get(DockLocation.LEFT),\n            innerWithBorderTabs,\n            borderSetComponents.get(DockLocation.RIGHT)\n          ] }),\n          borderSetComponents.get(DockLocation.BOTTOM)\n        ] });\n      } else {\n        const innerWithBorderTabs = /* @__PURE__ */ jsxs(\"div\", { className: classBorderInner, style: { flexDirection: \"row\" }, children: [\n          borderSetContentComponents.get(DockLocation.LEFT),\n          /* @__PURE__ */ jsxs(\"div\", { className: classBorderInner, style: { flexDirection: \"column\" }, children: [\n            borderSetContentComponents.get(DockLocation.TOP),\n            inner,\n            borderSetContentComponents.get(DockLocation.BOTTOM)\n          ] }),\n          borderSetContentComponents.get(DockLocation.RIGHT)\n        ] });\n        return /* @__PURE__ */ jsxs(\"div\", { className: classBorderOuter, style: { flexDirection: \"row\" }, children: [\n          borderSetComponents.get(DockLocation.LEFT),\n          /* @__PURE__ */ jsxs(\"div\", { className: classBorderInner, style: { flexDirection: \"column\" }, children: [\n            borderSetComponents.get(DockLocation.TOP),\n            innerWithBorderTabs,\n            borderSetComponents.get(DockLocation.BOTTOM)\n          ] }),\n          borderSetComponents.get(DockLocation.RIGHT)\n        ] });\n      }\n    } else {\n      return /* @__PURE__ */ jsx(\"div\", { className: classMain, ref: this.mainRef, style: { position: \"absolute\", top: 0, left: 0, bottom: 0, right: 0, display: \"flex\" }, children: inner });\n    }\n  }\n  renderLayout() {\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(Row, { layout: this, node: this.props.model.getRoot(this.windowId) }, \"__row__\"),\n      this.renderEdgeIndicators()\n    ] });\n  }\n  renderEdgeIndicators() {\n    const edges = [];\n    const arrowIcon = this.icons.edgeArrow;\n    if (this.state.showEdges) {\n      const r = this.props.model.getRoot(this.windowId).getRect();\n      const length = edgeRectLength;\n      const width = edgeRectWidth;\n      const offset = edgeRectLength / 2;\n      const className = this.getClassName(CLASSES.FLEXLAYOUT__EDGE_RECT);\n      const radius = 50;\n      edges.push(/* @__PURE__ */ jsx(\"div\", { style: { top: 0, left: r.width / 2 - offset, width: length, height: width, borderBottomLeftRadius: radius, borderBottomRightRadius: radius }, className: className + \" \" + this.getClassName(CLASSES.FLEXLAYOUT__EDGE_RECT_TOP), children: /* @__PURE__ */ jsx(\"div\", { style: { transform: \"rotate(180deg)\" }, children: arrowIcon }) }, \"North\"));\n      edges.push(/* @__PURE__ */ jsx(\"div\", { style: { top: r.height / 2 - offset, left: 0, width, height: length, borderTopRightRadius: radius, borderBottomRightRadius: radius }, className: className + \" \" + this.getClassName(CLASSES.FLEXLAYOUT__EDGE_RECT_LEFT), children: /* @__PURE__ */ jsx(\"div\", { style: { transform: \"rotate(90deg)\" }, children: arrowIcon }) }, \"West\"));\n      edges.push(/* @__PURE__ */ jsx(\"div\", { style: { top: r.height - width, left: r.width / 2 - offset, width: length, height: width, borderTopLeftRadius: radius, borderTopRightRadius: radius }, className: className + \" \" + this.getClassName(CLASSES.FLEXLAYOUT__EDGE_RECT_BOTTOM), children: /* @__PURE__ */ jsx(\"div\", { children: arrowIcon }) }, \"South\"));\n      edges.push(/* @__PURE__ */ jsx(\"div\", { style: { top: r.height / 2 - offset, left: r.width - width, width, height: length, borderTopLeftRadius: radius, borderBottomLeftRadius: radius }, className: className + \" \" + this.getClassName(CLASSES.FLEXLAYOUT__EDGE_RECT_RIGHT), children: /* @__PURE__ */ jsx(\"div\", { style: { transform: \"rotate(-90deg)\" }, children: arrowIcon }) }, \"East\"));\n    }\n    return edges;\n  }\n  renderWindows() {\n    const floatingWindows = [];\n    if (this.supportsPopout) {\n      const windows = this.props.model.getwindowsMap();\n      let i = 1;\n      for (const [windowId, layoutWindow] of windows) {\n        if (windowId !== Model.MAIN_WINDOW_ID) {\n          floatingWindows.push(\n            /* @__PURE__ */ jsx(\n              PopoutWindow,\n              {\n                layout: this,\n                title: this.popoutWindowName + \" \" + i,\n                layoutWindow,\n                url: this.popoutURL + \"?id=\" + windowId,\n                onSetWindow: this.onSetWindow,\n                onCloseWindow: this.onCloseWindow,\n                children: /* @__PURE__ */ jsx(\"div\", { className: this.props.popoutClassName, children: /* @__PURE__ */ jsx(_LayoutInternal, { ...this.props, windowId, mainLayout: this }) })\n              },\n              windowId\n            )\n          );\n          i++;\n        }\n      }\n    }\n    return floatingWindows;\n  }\n  renderTabMoveables() {\n    const tabMoveables = /* @__PURE__ */ new Map();\n    this.props.model.visitNodes((node) => {\n      if (node instanceof TabNode) {\n        const child = node;\n        const element = this.getMoveableElement(child.getId());\n        child.setMoveableElement(element);\n        const selected = child.isSelected();\n        const rect = child.getParent().getContentRect();\n        const visible = selected || !child.isEnableRenderOnDemand();\n        const renderTab = child.isRendered() || visible && (rect.width > 0 && rect.height > 0);\n        if (renderTab) {\n          const key = child.getId() + (child.isEnableWindowReMount() ? child.getWindowId() : \"\");\n          tabMoveables.set(node.getId(), createPortal(\n            /* @__PURE__ */ jsx(\n              SizeTracker,\n              {\n                layout: this,\n                node: child,\n                rect,\n                visible,\n                forceRevision: this.state.forceRevision,\n                tabsRevision: this.props.renderRevision\n              },\n              key\n            ),\n            element,\n            key\n          ));\n          child.setRendered(renderTab);\n        }\n      }\n    });\n    return tabMoveables;\n  }\n  renderTabStamps() {\n    const tabStamps = [];\n    this.props.model.visitNodes((node) => {\n      if (node instanceof TabNode) {\n        const child = node;\n        tabStamps.push(/* @__PURE__ */ jsx(DragContainer, { layout: this, node: child }, child.getId()));\n      }\n    });\n    return tabStamps;\n  }\n  renderTabs() {\n    const tabs = /* @__PURE__ */ new Map();\n    this.props.model.visitWindowNodes(this.windowId, (node) => {\n      if (node instanceof TabNode) {\n        const child = node;\n        const selected = child.isSelected();\n        const path = child.getPath();\n        const renderTab = child.isRendered() || selected || !child.isEnableRenderOnDemand();\n        if (renderTab) {\n          tabs.set(child.getId(), /* @__PURE__ */ jsx(\n            Tab,\n            {\n              layout: this,\n              path,\n              node: child,\n              selected\n            },\n            child.getId()\n          ));\n        }\n      }\n    });\n    return tabs;\n  }\n  renderMetricsElements() {\n    return /* @__PURE__ */ jsx(\"div\", { ref: this.findBorderBarSizeRef, className: this.getClassName(CLASSES.FLEXLAYOUT__BORDER_SIZER), children: \"FindBorderBarSize\" }, \"findBorderBarSize\");\n  }\n  checkForBorderToShow(x, y) {\n    const r = this.getBoundingClientRect(this.mainRef.current);\n    const c = r.getCenter();\n    const margin = edgeRectWidth;\n    const offset = edgeRectLength / 2;\n    let overEdge = false;\n    if (this.props.model.isEnableEdgeDock() && this.state.showHiddenBorder === DockLocation.CENTER) {\n      if (y > c.y - offset && y < c.y + offset || x > c.x - offset && x < c.x + offset) {\n        overEdge = true;\n      }\n    }\n    let location = DockLocation.CENTER;\n    if (!overEdge) {\n      if (x <= r.x + margin) {\n        location = DockLocation.LEFT;\n      } else if (x >= r.getRight() - margin) {\n        location = DockLocation.RIGHT;\n      } else if (y <= r.y + margin) {\n        location = DockLocation.TOP;\n      } else if (y >= r.getBottom() - margin) {\n        location = DockLocation.BOTTOM;\n      }\n    }\n    if (location !== this.state.showHiddenBorder) {\n      this.setState({ showHiddenBorder: location });\n    }\n  }\n  tidyMoveablesMap() {\n    const tabs = /* @__PURE__ */ new Map();\n    this.props.model.visitNodes((node, _) => {\n      if (node instanceof TabNode) {\n        tabs.set(node.getId(), node);\n      }\n    });\n    for (const [nodeId, element] of this.moveableElementMap) {\n      if (!tabs.has(nodeId)) {\n        element.remove();\n        this.moveableElementMap.delete(nodeId);\n      }\n    }\n  }\n  reorderComponents(components, ids) {\n    const nextIds = [];\n    const nextIdsSet = /* @__PURE__ */ new Set();\n    let reordered = [];\n    for (const id of ids) {\n      if (components.get(id)) {\n        nextIds.push(id);\n        nextIdsSet.add(id);\n      }\n    }\n    ids.splice(0, ids.length, ...nextIds);\n    for (const [id, _] of components) {\n      if (!nextIdsSet.has(id)) {\n        ids.push(id);\n      }\n    }\n    reordered = ids.map((id) => {\n      return components.get(id);\n    });\n    return reordered;\n  }\n  redraw(type) {\n    this.mainLayout.setState((state, props) => {\n      return { forceRevision: state.forceRevision + 1 };\n    });\n  }\n  redrawInternal(type) {\n    this.mainLayout.setState((state, props) => {\n      return { layoutRevision: state.layoutRevision + 1 };\n    });\n  }\n  doAction(action) {\n    if (this.props.onAction !== void 0) {\n      const outcome = this.props.onAction(action);\n      if (outcome !== void 0) {\n        return this.props.model.doAction(outcome);\n      }\n      return void 0;\n    } else {\n      return this.props.model.doAction(action);\n    }\n  }\n  getBoundingClientRect(div) {\n    const layoutRect = this.getDomRect();\n    if (layoutRect) {\n      return Rect.getBoundingClientRect(div).relativeTo(layoutRect);\n    }\n    return Rect.empty();\n  }\n  getMoveableContainer() {\n    return this.moveablesRef.current;\n  }\n  getMoveableElement(id) {\n    let moveableElement = this.moveableElementMap.get(id);\n    if (moveableElement === void 0) {\n      moveableElement = document.createElement(\"div\");\n      this.moveablesRef.current.appendChild(moveableElement);\n      moveableElement.className = CLASSES.FLEXLAYOUT__TAB_MOVEABLE;\n      this.moveableElementMap.set(id, moveableElement);\n    }\n    return moveableElement;\n  }\n  getMainLayout() {\n    return this.mainLayout;\n  }\n  getCurrentDocument() {\n    return this.currentDocument;\n  }\n  getDomRect() {\n    if (this.selfRef.current) {\n      return Rect.fromDomRect(this.selfRef.current.getBoundingClientRect());\n    } else {\n      return Rect.empty();\n    }\n  }\n  getWindowId() {\n    return this.windowId;\n  }\n  getRootDiv() {\n    return this.selfRef.current;\n  }\n  getMainElement() {\n    return this.mainRef.current;\n  }\n  getFactory() {\n    return this.props.factory;\n  }\n  isSupportsPopout() {\n    return this.supportsPopout;\n  }\n  isRealtimeResize() {\n    return this.props.realtimeResize ?? false;\n  }\n  getPopoutURL() {\n    return this.popoutURL;\n  }\n  setEditingTab(tabNode) {\n    this.setState({ editingTab: tabNode });\n  }\n  getEditingTab() {\n    return this.state.editingTab;\n  }\n  getModel() {\n    return this.props.model;\n  }\n  getScreenRect(inRect) {\n    const rect = inRect.clone();\n    const layoutRect = this.getDomRect();\n    const navHeight = 60;\n    const navWidth = 2;\n    rect.x = this.currentWindow.screenX + this.currentWindow.scrollX + navWidth / 2 + layoutRect.x + rect.x;\n    rect.y = this.currentWindow.screenY + this.currentWindow.scrollY + (navHeight - navWidth / 2) + layoutRect.y + rect.y;\n    rect.height += navHeight;\n    rect.width += navWidth;\n    return rect;\n  }\n  addTabToTabSet(tabsetId, json) {\n    const tabsetNode = this.props.model.getNodeById(tabsetId);\n    if (tabsetNode !== void 0) {\n      const node = this.doAction(Actions.addNode(json, tabsetId, DockLocation.CENTER, -1));\n      return node;\n    }\n    return void 0;\n  }\n  addTabToActiveTabSet(json) {\n    const tabsetNode = this.props.model.getActiveTabset(this.windowId);\n    if (tabsetNode !== void 0) {\n      const node = this.doAction(Actions.addNode(json, tabsetNode.getId(), DockLocation.CENTER, -1));\n      return node;\n    }\n    return void 0;\n  }\n  maximize(tabsetNode) {\n    this.doAction(Actions.maximizeToggle(tabsetNode.getId(), this.getWindowId()));\n  }\n  customizeTab(tabNode, renderValues) {\n    if (this.props.onRenderTab) {\n      this.props.onRenderTab(tabNode, renderValues);\n    }\n  }\n  customizeTabSet(tabSetNode, renderValues) {\n    if (this.props.onRenderTabSet) {\n      this.props.onRenderTabSet(tabSetNode, renderValues);\n    }\n  }\n  i18nName(id, param) {\n    let message;\n    if (this.props.i18nMapper) {\n      message = this.props.i18nMapper(id, param);\n    }\n    if (message === void 0) {\n      message = id + (param === void 0 ? \"\" : param);\n    }\n    return message;\n  }\n  getShowOverflowMenu() {\n    return this.props.onShowOverflowMenu;\n  }\n  getTabSetPlaceHolderCallback() {\n    return this.props.onTabSetPlaceHolder;\n  }\n  showContextMenu(node, event) {\n    if (this.props.onContextMenu) {\n      this.props.onContextMenu(node, event);\n    }\n  }\n  auxMouseClick(node, event) {\n    if (this.props.onAuxMouseClick) {\n      this.props.onAuxMouseClick(node, event);\n    }\n  }\n  showOverlay(show) {\n    this.setState({ showOverlay: show });\n    enablePointerOnIFrames(!show, this.currentDocument);\n  }\n  // *************************** Start Drag Drop *************************************\n  addTabWithDragAndDrop(event, json, onDrop) {\n    const tempNode = TabNode.fromJson(json, this.props.model, false);\n    _LayoutInternal.dragState = new DragState(this.mainLayout, \"add\", tempNode, json, onDrop);\n  }\n  moveTabWithDragAndDrop(event, node) {\n    this.setDragNode(event, node);\n  }\n  setDragComponent(event, component, x, y) {\n    const dragElement = /* @__PURE__ */ jsx(\n      \"div\",\n      {\n        style: { position: \"unset\" },\n        className: this.getClassName(CLASSES.FLEXLAYOUT__LAYOUT) + \" \" + this.getClassName(CLASSES.FLEXLAYOUT__DRAG_RECT),\n        children: component\n      }\n    );\n    const tempDiv = this.currentDocument.createElement(\"div\");\n    tempDiv.setAttribute(\"data-layout-path\", \"/drag-rectangle\");\n    tempDiv.style.position = \"absolute\";\n    tempDiv.style.left = \"-10000px\";\n    tempDiv.style.top = \"-10000px\";\n    this.currentDocument.body.appendChild(tempDiv);\n    createRoot(tempDiv).render(dragElement);\n    event.dataTransfer.setDragImage(tempDiv, x, y);\n    setTimeout(() => {\n      this.currentDocument.body.removeChild(tempDiv);\n    }, 0);\n  }\n  setDraggingOverWindow(overWindow) {\n    if (this.isDraggingOverWindow !== overWindow) {\n      if (this.outlineDiv) {\n        this.outlineDiv.style.visibility = overWindow ? \"hidden\" : \"visible\";\n      }\n      if (overWindow) {\n        this.setState({ showEdges: false });\n      } else {\n        if (this.props.model.getMaximizedTabset(this.windowId) === void 0) {\n          this.setState({ showEdges: this.props.model.isEnableEdgeDock() });\n        }\n      }\n      this.isDraggingOverWindow = overWindow;\n    }\n  }\n  clearDragMain() {\n    _LayoutInternal.dragState = void 0;\n    if (this.windowId === Model.MAIN_WINDOW_ID) {\n      this.isDraggingOverWindow = false;\n    }\n    for (const [, layoutWindow] of this.props.model.getwindowsMap()) {\n      layoutWindow.layout.clearDragLocal();\n    }\n  }\n  clearDragLocal() {\n    this.setState({ showEdges: false });\n    this.showOverlay(false);\n    this.dragEnterCount = 0;\n    this.dragging = false;\n    if (this.outlineDiv) {\n      this.selfRef.current.removeChild(this.outlineDiv);\n      this.outlineDiv = void 0;\n    }\n  }\n  // *************************** End Drag Drop *************************************\n};\n__publicField(_LayoutInternal, \"dragState\");\nlet LayoutInternal = _LayoutInternal;\nconst FlexLayoutVersion = \"0.8.17\";\nconst defaultIcons = {\n  close: /* @__PURE__ */ jsx(CloseIcon, {}),\n  closeTabset: /* @__PURE__ */ jsx(CloseIcon, {}),\n  popout: /* @__PURE__ */ jsx(PopoutIcon, {}),\n  maximize: /* @__PURE__ */ jsx(MaximizeIcon, {}),\n  restore: /* @__PURE__ */ jsx(RestoreIcon, {}),\n  more: /* @__PURE__ */ jsx(OverflowIcon, {}),\n  edgeArrow: /* @__PURE__ */ jsx(EdgeIcon, {}),\n  activeTabset: /* @__PURE__ */ jsx(AsterickIcon, {})\n};\nconst defaultSupportsPopout = isDesktop();\nconst edgeRectLength = 100;\nconst edgeRectWidth = 10;\nclass DragState {\n  constructor(mainLayout, dragSource, dragNode, dragJson, fnNewNodeDropped) {\n    __publicField(this, \"mainLayout\");\n    __publicField(this, \"dragSource\");\n    __publicField(this, \"dragNode\");\n    __publicField(this, \"dragJson\");\n    __publicField(this, \"fnNewNodeDropped\");\n    this.mainLayout = mainLayout;\n    this.dragSource = dragSource;\n    this.dragNode = dragNode;\n    this.dragJson = dragJson;\n    this.fnNewNodeDropped = fnNewNodeDropped;\n  }\n}\nexport {\n  Action,\n  Actions,\n  AddIcon,\n  AsterickIcon,\n  BorderNode,\n  BorderSet,\n  CLASSES,\n  CloseIcon,\n  DefaultMax,\n  DefaultMin,\n  DockLocation,\n  DropInfo,\n  EdgeIcon,\n  FlexLayoutVersion,\n  I18nLabel,\n  ICloseType,\n  Layout,\n  LayoutInternal,\n  LayoutWindow,\n  MaximizeIcon,\n  MenuIcon,\n  Model,\n  Node,\n  Orientation,\n  OverflowIcon,\n  PopoutIcon,\n  Rect,\n  RestoreIcon,\n  RowNode,\n  SettingsIcon,\n  TabNode,\n  TabSetNode\n};\n"],"names":["__defProp","Object","defineProperty","__publicField","obj","key","value","enumerable","configurable","writable","__defNormalProp","_Orientation","constructor","name","this","_name","static","from","HORZ","VERT","getName","toString","Orientation","Rect","x","y","width","height","json","toJson","snap","round","Math","element","getBoundingClientRect","rect","style2","window","getComputedStyle","paddingLeft","parseFloat","paddingRight","paddingTop","paddingBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","contentWidth","contentHeight","left","top","domRect","relativeTo","r","clone","equals","equalSize","getBottom","getRight","bottom","right","getCenter","positionElement","position","styleWithPosition","style","max","contains","removeInsets","insets","centerInRect","outerRect","_getSize","orientation","prefSize","_DockLocation","_orientation","_indexPlus","indexPlus","values","set","get","CENTER","br","BOTTOM","LEFT","RIGHT","TOP","getOrientation","getDockRect","split","size","start","end","reflect","Map","DockLocation","I18nLabel","I18nLabel2","CLASSES","CLASSES2","Action","type","data","_Actions","toNodeId","location","index","select","ADD_NODE","toNode","fromNodeId","MOVE_NODE","fromNode","tabNodeId","DELETE_TAB","node","tabsetNodeId","DELETE_TABSET","text","RENAME_TAB","SELECT_TAB","tabNode","windowId","SET_ACTIVE_TABSET","tabsetNode","nodeId","weights","ADJUST_WEIGHTS","pos","ADJUST_BORDER_SPLIT","MAXIMIZE_TOGGLE","attributes","UPDATE_MODEL_ATTRIBUTES","UPDATE_NODE_ATTRIBUTES","POPOUT_TAB","POPOUT_TABSET","CLOSE_WINDOW","layout","CREATE_WINDOW","Actions","Attribute","modelName","defaultValue","alwaysWriteJson","alias","required","fixed","setType","setAlias","setDescription","description","setRequired","setFixed","setpairedAttr","pairedAttr","setPairedType","pairedType","AttributeDefinitions","nameToAttribute","addWithAll","attr","push","addInherited","add","getAttributes","getModelName","conversion","jsonObj","fromValue","fromJson","update","prototype","hasOwnProperty","call","setDefaults","pairAttributes","childAttributes","has","toTypescriptInterface","parentAttributes","_a","_b","lines","sorted","sort","a","b","localeCompare","i","length","c","inherited","defValue","JSON","stringify","sb","join","DropInfo","className","BorderSet","_model","borders","borderMap","layoutHorizontal","model","borderSet","map","borderJson","BorderNode","border","getLocation","borderNode","getLayoutHorizontal","getBorders","getBorderMap","forEachNode","fn","getChildren","setPaths","path","setPath","findDropTargetNode","dragNode","isShowing","dropInfo","canDrop","Node","children","empty","listeners","getId","id","nextUniqueId","setId","getModel","getType","getParent","parent","getRect","getPath","isRootOrientationVertical","flip","setEventListener","event","callback","removeEventListener","delete","fireEvent","params","getAttr","val","getAttributeDefinitions","getAttribute","level","newPath","setParent","setRect","setWeight","weight","setSelected","selected","rtn","getMaximizedTabset","child","canDockInto","isEnableDrop","isEnableDivide","getOnAllowDrop","removeChild","childNode","indexOf","splice","addChild","removeAll","toAttributeString","_TabNode","addToModel","super","extra","moveableElement","tabStamp","rendered","visible","attributeDefinitions","addNode","getHelpText","getComponent","getWindowId","TabSetNode","Model","MAIN_WINDOW_ID","getWindow","layoutWindow","getwindowsMap","getConfig","config","getExtraData","isPoppedOut","isSelected","getSelectedNode","getIcon","isEnableClose","getCloseType","isEnablePopout","isEnablePopoutIcon","isEnablePopoutOverlay","isEnableDrag","isEnableRename","isEnableWindowReMount","getClassName","getContentClassName","getTabSetClassName","isEnableRenderOnDemand","getMinWidth","getMinHeight","getMaxWidth","getMaxHeight","isVisible","saveScrollPosition","scrollLeft","scrollTop","restoreScrollPosition","requestAnimationFrame","setVisible","getScrollTop","setScrollTop","getScrollLeft","setScrollLeft","isRendered","setRendered","getTabRect","tabRect","setTabRect","getTabStamp","setTabStamp","stamp","getMoveableElement","setMoveableElement","setRenderedName","renderedName","getNameForOverflowMenu","altName","setName","remove","updateAttrs","setBorderWidth","borderWidth","setBorderHeight","borderHeight","TYPE","STRING","BOOLEAN","NUMBER","createAttributeDefinitions","TabNode","isDesktop","matchMedia","matches","getRenderStateEx","iconAngle","leadingContent","titleContent","jsx","transform","src","alt","renderState","leading","content","buttons","customizeTab","isAuxMouseEvent","auxEvent","nativeEvent","MouseEvent","button","ctrlKey","altKey","metaKey","shiftKey","enablePointerOnIFrames","enable","currentDocument","iframes","getElementsByTagName","iframe","pointerEvents","tag","startDrag","doc","drag","dragEnd","dragCancel","preventDefault","pointerMove","ev","clientX","clientY","pointerCancel","pointerUp","addEventListener","canDockToWindow","copyInlineStyles","source","target","sourceStyle","setAttribute","removeAttribute","adjustSelectedIndex","removedIndex","selectedIndex","getSelected","randomUUID","replace","crypto","getRandomValues","Uint8Array","_TabSetNode","calculatedMinHeight","calculatedMinWidth","calculatedMaxHeight","calculatedMaxWidth","newLayoutNode","jsonChild","maximized","maximizedTabSet","active","activeTabSet","isEnableActiveIcon","getWeight","getAttrMinWidth","getAttrMinHeight","getMinSize","getAttrMaxWidth","getAttrMaxHeight","getMaxSize","isMaximized","isActive","getActiveTabset","isEnableDeleteWhenEmpty","isEnableTabWrap","isEnableMaximize","isEnableSingleTabStretch","isEnableTabStrip","isAutoSelectTab","isEnableTabScrollbar","getClassNameTabStrip","getTabLocation","calcMinMaxSize","min","tabStripRect","canMaximize","getRoot","setContentRect","contentRect","getContentRect","setTabStripRect","dockLocation","outlineRect","FLEXLAYOUT__OUTLINE_RECT","yy","h","p","childCenter","tidy","drop","dragParent","fromIndex","insertPos","RowNode","setActiveTabset","moveNode","getOnCreateTabSet","parentRow","newRow","_RowNode","minHeight","DefaultMin","minWidth","maxHeight","DefaultMax","maxWidth","normalizeWeights","setWindowId","getSplitterBounds","ss","getSplitterSize","fr","lr","q","n","getSplitterInitials","initialSizes","sum","s","startRect","startPosition","calculateSplit","splitterPos","sn","smax","sizes","shift","altShift","m","first","childChildren","subchild","subChildrenTotal","subChildChildren","ssc","j","subsubChild","setMaximizedTabset","attrs","xx","w","half","isEnableEdgeDock","FLEXLAYOUT__OUTLINE_RECT_EDGE","reduce","horz","vrow","hrow","LayoutWindow","_windowId","_rect","_toScreenRectFunction","visitNodes","root","_layout","_window","_root","_maximizedTabSet","_activeTabSet","toScreenRectFunction","screenTop","screenLeft","outerWidth","outerHeight","windowJson","count","_Model","idMap","windows","rootWindow","changeListeners","doAction","action","returnVal","newNode","getByName","removeEmptyWindows","oldLayoutWindow","row","tabsetId","window2","setSize","updateIdMap","listener","getNodeById","rootOrientationVertical","isEnableRotateBorderIcons","enableRotateBorderIcons","getBorderSet","_","visitWindowNodes","getFirstTabSet","global","popouts","splitterSize","getSplitterExtra","splitterExtra","enableEdgeDock","isSplitterEnableHandle","splitterEnableHandle","setOnAllowDrop","onAllowDrop","setOnCreateTabSet","onCreateTabSet","addChangeListener","removeChangeListener","findIndex","l","emptyWindows","Set","clear","Error","console","log","_BorderNode","isHorizontal","getSize","defaultSize","tabBorderSize","selectedNode","nodeMin","nodeMax","isAutoHide","show","whenOpen","getTabHeaderRect","tabHeaderRect","setTabHeaderRect","childRect","childY","childHeight","childX","childWidth","useMinSize","pBounds","minSize","maxSize","rootRow","innerRect","maxPos","splitter","splitterDragging","Splitter","props","horizontal","dragging","setDragging","selfRef","extendedRef","outlineDiv","handleDiv","dragStartX","dragStartY","initalSizes","current","onTouchStart","passive","_a2","_b2","stopImmediatePropagation","onPointerDown","stopPropagation","getCurrentDocument","currentTarget","ownerDocument","onDragMove","onDragEnd","onDragCancel","rootdiv","getRootDiv","createElement","flexDirection","FLEXLAYOUT__SPLITTER_DRAG","cursor","cm","FLEXLAYOUT__SPLITTER_HANDLE","FLEXLAYOUT__SPLITTER_HANDLE_HORZ","FLEXLAYOUT__SPLITTER_HANDLE_VERT","appendChild","getDomRect","clientRect","getBoundPosition","isRealtimeResize","updateLayout","realtime","offsetTop","offsetLeft","adjustBorderSplit","init","adjustWeights","redraw","bounds","handle","FLEXLAYOUT__SPLITTER","FLEXLAYOUT__SPLITTER_","FLEXLAYOUT__SPLITTER_BORDER","display","ref","style22","className2","FLEXLAYOUT__SPLITTER_EXTRA","BorderTab","timer","isNaN","clearTimeout","setTimeout","redrawInternal","FLEXLAYOUT__BORDER_TAB_CONTENTS","jsxs","Fragment","ICloseType","ICloseType2","BorderButton","icons","contentRef","onClose","closeType","Always","Visible","isClosable","deleteTab","onClosePointerDown","getEditingTab","onTextBoxPointerDown","onTextBoxKeyPress","code","setEditingTab","renameTab","classNames","FLEXLAYOUT__BORDER_BUTTON","FLEXLAYOUT__BORDER_BUTTON_","FLEXLAYOUT__BORDER_BUTTON__SELECTED","FLEXLAYOUT__BORDER_BUTTON__UNSELECTED","FLEXLAYOUT__BORDER_BUTTON_CONTENT","FLEXLAYOUT__BORDER_BUTTON_LEADING","FLEXLAYOUT__TAB_BUTTON_TEXTBOX","autoFocus","onKeyDown","closeTitle","i18nName","Close_Tab","title","FLEXLAYOUT__BORDER_BUTTON_TRAILING","onClick","close","selectTab","onAuxClick","auxMouseClick","onContextMenu","showContextMenu","draggable","onDragStart","setDragNode","clearDragMain","TabButtonStamp","FLEXLAYOUT__TAB_BUTTON_STAMP","FLEXLAYOUT__TAB_BUTTON_CONTENT","FLEXLAYOUT__TAB_BUTTON_LEADING","showPopup","triggerElement","parentNode","items","onSelect","layoutDiv","classNameMapper","triggerRect","layoutRect","DOMRect","elm","FLEXLAYOUT__POPUP_MENU_CONTAINER","showOverlay","onHide","hideControlInPortal","onElementPointerDown","onDocPointerDown","_event","showControlInPortal","PopupMenu","divRef","useRef","useEffect","focus","itemElements","item","classes","FLEXLAYOUT__POPUP_MENU_ITEM","FLEXLAYOUT__POPUP_MENU_ITEM__SELECTED","onItemClick","e","FLEXLAYOUT__POPUP_MENU","tabIndex","useTabOverflow","tabStripRef","miniScrollRef","tabClassName","hiddenTabs","setHiddenTabs","isShowHiddenTabs","setShowHiddenTabs","isDockStickyButtons","setDockStickyButtons","userControlledPositionRef","updateHiddenTabsTimerRef","hiddenTabsRef","thumbInternalPos","repositioningRef","setScrollPosition","checkForOverflow","selectedTabNode","stripRect","selectedRect","getNear","getScrollPosition","getFar","scrollIntoView","updateScrollMetrics","updateHiddenTabs","onWheel","t","getElementSize","scrollSize","getScrollSize","thumbSize","adjust","thumbPos","showHidden","findHiddenTabs","newHiddenTabs2","arr1","arr2","every","thumb","tabContainer","firstElementChild","offset","dock","hidden","strip","visibleNear","visibleFar","Array","forEach","classList","clientWidth","clientHeight","scrollWidth","scrollHeight","onScroll","onScrollPointerDown","setPointerCapture","pointerId","onMouseWheel","delta","abs","deltaY","deltaMode","newPos","maxScroll","BorderTabSet","toolbarRef","overflowbuttonRef","stickyButtonsRef","tabStripInnerRef","getIcons","onAuxMouseClick","onInterceptPointerDown","onOverflowClick","getShowOverflowMenu","onOverflowItemSelect","onPopoutTab","popoutTab","tabButtons","layoutTab","FLEXLAYOUT__BORDER_TAB_DIVIDER","borderClasses","FLEXLAYOUT__BORDER","FLEXLAYOUT__BORDER_","stickyButtons","overflowPosition","customizeTabSet","FLEXLAYOUT__TAB_TOOLBAR_STICKY_BUTTONS_CONTAINER","overflowTitle","Overflow_Menu_Tooltip","overflowContent","more","FLEXLAYOUT__TAB_BUTTON_OVERFLOW_COUNT","FLEXLAYOUT__BORDER_TOOLBAR_BUTTON","FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW","FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW_","isSupportsPopout","popoutTitle","Popout_Tab","FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_FLOAT","popout","toolbar","FLEXLAYOUT__BORDER_TOOLBAR","FLEXLAYOUT__BORDER_TOOLBAR_","innerStyle","outerStyle","miniScrollbar","leadingContainer","overflowY","overflowX","FLEXLAYOUT__MINI_SCROLLBAR","FLEXLAYOUT__BORDER_LEADING","FLEXLAYOUT__MINI_SCROLLBAR_CONTAINER","FLEXLAYOUT__BORDER_INNER","FLEXLAYOUT__BORDER_INNER_","FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER","FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER_","DragContainer","FLEXLAYOUT__DRAG_RECT","PopoutWindow","url","onCloseWindow","onSetWindow","popoutWindow","setContent","styleMap","open","closedWindow","resizeTo","moveTo","popoutDocument","document","popoutContent","FLEXLAYOUT__FLOATING_WINDOW_CONTENT","body","popoutDoc","promises","styleElements","querySelectorAll","copyStyle","Promise","all","copyStyles","then","observer","MutationObserver","mutationsList","mutation","addition","addedNodes","HTMLLinkElement","HTMLStyleElement","removal","removedNodes","popoutStyle","head","handleStyleMutations","observe","childList","disconnect","warn","createPortal","linkElement","cloneNode","resolve","onload","styleElement","alignItems","CloseIcon","xmlns","viewBox","fill","d","stroke","MaximizeIcon","OverflowIcon","EdgeIcon","preserveAspectRatio","PopoutIcon","RestoreIcon","AsterickIcon","Overlay","FLEXLAYOUT__LAYOUT_OVERLAY","TabButton","onRename","onEndEdit","isStretch","baseClassName","FLEXLAYOUT__TAB_BUTTON_STRETCH","FLEXLAYOUT__TAB_BUTTON","FLEXLAYOUT__TAB_BUTTON_TRAILING","onDoubleClick","TabSet","buttonBarRef","newContentRect","onMaximizeToggle","maximize","deleteTabset","onCloseTab","tabs","FLEXLAYOUT__TABSET_TAB_DIVIDER","isTabStretch","showClose","FLEXLAYOUT__TAB_TOOLBAR_BUTTON","FLEXLAYOUT__TAB_BUTTON_OVERFLOW","FLEXLAYOUT__TAB_TOOLBAR_BUTTON_FLOAT","minTitle","Restore","maxTitle","Maximize","FLEXLAYOUT__TAB_TOOLBAR_BUTTON_","restore","Close_Tabset","FLEXLAYOUT__TAB_TOOLBAR_BUTTON_CLOSE","closeTabset","Active_Tabset","FLEXLAYOUT__TAB_TOOLBAR_ICON","activeTabset","buttonbar","FLEXLAYOUT__TAB_TOOLBAR","tabStrip","emptyTabset","tabStripClasses","FLEXLAYOUT__TABSET_TABBAR_OUTER","FLEXLAYOUT__TABSET_TABBAR_OUTER_","FLEXLAYOUT__TABSET_SELECTED","FLEXLAYOUT__TABSET_MAXIMIZED","FLEXLAYOUT__TABSET_LEADING","flexWrap","gap","marginTop","flexGrow","FLEXLAYOUT__TABSET_TABBAR_INNER","FLEXLAYOUT__TABSET_TABBAR_INNER_","FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER","FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER_","placeHolderCallback","getTabSetPlaceHolderCallback","FLEXLAYOUT__TABSET_CONTENT","tabset","FLEXLAYOUT__TABSET_CONTAINER","FLEXLAYOUT__TABSET","getMainElement","Row","FLEXLAYOUT__ROW","Tab","firstSelect","handleScroll","overlay","overlayStyle","FLEXLAYOUT__TAB_OVERLAY","zIndex","FLEXLAYOUT__TAB","FLEXLAYOUT__TAB_BORDER","FLEXLAYOUT__TAB_BORDER_","ErrorBoundary","setState","hasError","state","error","componentDidCatch","errorInfo","debug","render","FLEXLAYOUT__ERROR_BOUNDARY_CONTAINER","FLEXLAYOUT__ERROR_BOUNDARY_CONTENT","message","retry","retryText","SizeTracker","Error_rendering_component","Error_rendering_component_retry","factory","prevProps","nextProps","forceRevision","tabsRevision","Layout","revision","addTabToTabSet","addTabWithDragAndDrop","onDrop","moveTabWithDragAndDrop","addTabToActiveTabSet","setDragComponent","component","LayoutInternal","renderRevision","_LayoutInternal","findBorderBarSizeRef","borderBarSize","calculatedBorderBarSize","onModelChange","fromDomRect","defaultClassName","windowLayout","closeWindow","control","portal","dragState","DragState","mainLayout","dataTransfer","setData","effectAllowed","dropEffect","dragEnterCount","Move_Tabset","Move_Tabs","String","onRenderDragRect","dragComponent","offsetX","offsetY","isInVerticalBorder","userAgent","navigator","includes","isSafari","setDragImage","onDragEnter","onDragLeave","onExternalDrag","externalDrag","tempNode","setDraggingOverWindow","visibility","speed","transition","isDraggingOverWindow","showEdges","checkForBorderToShow","clearDragLocal","dragJson","fnNewNodeDropped","orderedTabIds","orderedTabMoveableIds","moveablesRef","mainRef","supportsPopout","defaultSupportsPopout","popoutURL","defaultIcons","popoutWindowName","editingTab","layoutRevision","showHiddenBorder","isMainWindow","componentDidMount","updateRect","currentWindow","defaultView","getScreenRect","resizeObserver","ResizeObserver","entries","updateLayoutMetrics","sourceElement","targetElement","styleObserver","attributeFilter","componentDidUpdate","previousModel","tidyMoveablesMap","componentWillUnmount","unobserve","FLEXLAYOUT__LAYOUT","FLEXLAYOUT__LAYOUT_MOVEABLES","renderMetricsElements","inner","renderLayout","outer","renderBorders","renderTabs","reorderedTabs","reorderComponents","floatingWindows","reorderedTabMoveables","tabStamps","metricElements","renderWindows","tabMoveables","renderTabMoveables","FLEXLAYOUT__LAYOUT_TAB_STAMPS","renderTabStamps","onDragEnterRaw","onDragLeaveRaw","onDragOver","classMain","FLEXLAYOUT__LAYOUT_MAIN","borderSetComponents","borderSetContentComponents","classBorderOuter","FLEXLAYOUT__LAYOUT_BORDER_CONTAINER","classBorderInner","FLEXLAYOUT__LAYOUT_BORDER_CONTAINER_INNER","innerWithBorderTabs","renderEdgeIndicators","edges","arrowIcon","edgeArrow","edgeRectLength","edgeRectWidth","FLEXLAYOUT__EDGE_RECT","radius","borderBottomLeftRadius","borderBottomRightRadius","FLEXLAYOUT__EDGE_RECT_TOP","borderTopRightRadius","FLEXLAYOUT__EDGE_RECT_LEFT","borderTopLeftRadius","FLEXLAYOUT__EDGE_RECT_BOTTOM","FLEXLAYOUT__EDGE_RECT_RIGHT","popoutClassName","renderTab","FLEXLAYOUT__BORDER_SIZER","margin","overEdge","moveableElementMap","components","ids","nextIds","nextIdsSet","reordered","onAction","outcome","div","getMoveableContainer","FLEXLAYOUT__TAB_MOVEABLE","getMainLayout","getFactory","realtimeResize","getPopoutURL","inRect","screenX","scrollX","navWidth","screenY","scrollY","maximizeToggle","renderValues","onRenderTab","tabSetNode","onRenderTabSet","param","i18nMapper","onShowOverflowMenu","onTabSetPlaceHolder","dragElement","tempDiv","createRoot","overWindow","dragSource"],"sourceRoot":""}