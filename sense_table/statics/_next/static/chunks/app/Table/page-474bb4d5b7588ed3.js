(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[511],{49103:function(e,t,n){Promise.resolve().then(n.bind(n,88895)),Promise.resolve().then(n.bind(n,19371)),Promise.resolve().then(n.bind(n,75936))},75936:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return J}});var r=n(39290),i=n(78068),o=n(56801),a=n(25182),l=n(98672),s=n(99563),c=n(34513),u=n(85923),d=n(34604),f=n(31595),m=n(71921),x=n(24894),p=n(45855),h=n(31032),g=n.n(h),v=n(63401);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(t){(0,m.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var b=function(){var e=(0,x.YJ)().data,t=(0,l.v9)(function(e){return e.cardinality}),n=((0,l.v9)(function(e){return e.columnPreference})||{}).data,r=(0,o.useMemo)(function(){var r;return null==e?void 0:null===(r=e.initialOrder)||void 0===r?void 0:r.map(function(r){var i,o=e.meta[r];return{name:r,duckdbType:o.duckdbType,agType:o.agType,meta:y(y({},g().omit(o,["name","duckdbType","agType"])),{},{min:String(o.min),max:String(o.max)}),cardinality:null===(i=t[r])||void 0===i?void 0:i.data,preference:n[r]}})},[e,t,n]),i=(0,o.useCallback)(function(e){return g()(r).map(function(t){return g().keys(t[e])}).flatten().uniq().value()},[r]),a=(0,o.useMemo)(function(){return{name:{pinned:"left"},meta:{children:i("meta").map(function(e){return{field:"meta.".concat(e),headerName:e,columnGroupShow:"isPrimitive"===e?"close":"open"}})},cardinality:{children:i("cardinality").map(function(e){return{field:"cardinality.".concat(e),headerName:e,columnGroupShow:"cardinality"===e?"close":"open"}})},preference:{children:i("preference").map(function(e){return{field:"preference.".concat(e),headerName:e}})}}},[i]);return e?(0,v.jsx)(p.M,{initRowData:r,overridingColDefs:a}):null},w=n(67370),O=n(57080),Z=o.memo(function(){return(0,v.jsx)(i.Z,{sx:{flex:0},children:(0,v.jsxs)(s.Q,{title:"Analytics settings",icon:(0,v.jsx)(w.Z,{}),width:400,height:600,children:[(0,v.jsx)(O.Z,{settingKey:"heightOfColumnDistribution"}),(0,v.jsx)(O.Z,{settingKey:"histogramNumberOfBins"}),(0,v.jsx)(O.Z,{settingKey:"thresholdCategorical"})]})})}),S=n(67856),P=n(3058),C=n(32699);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var k=o.memo(function(){var e=(0,l.v9)(function(e){return e.sql}),t=(0,C.Z)(),n=(0,o.useMemo)(function(){return Object.entries(e).map(function(e){var t=(0,S.Z)(e,2),n=t[0],r=t[1];return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach(function(t){(0,m.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({key:n,details:n},g().pick(r,["lastupdated","status","runtime","error"]))})},[e]),r=(0,o.useMemo)(function(){return{key:{pinned:"left"},status:{cellStyle:function(e){switch(e.value){case"success":return{color:t.palette.success.main};case"error":return{color:t.palette.error.main};case"running":return{color:t.palette.warning.main};default:return{}}}},runtime:{cellStyle:function(e){return{color:e.value<1?t.palette.text.secondary:t.palette.warning.main}}},details:{cellRenderer:function(e){return(0,v.jsx)(P.Z,{sqlKey:e.data.key})}}}},[t]);return e?(0,v.jsx)(p.M,{initRowData:n,overridingColDefs:r}):null});k.displayName="InspectSql";var I=n(55219),R=n(4605),E=n(53858),M=n(50790),T=n(8483),F=n(52728),N=n(7418),G=n(58243);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var H=o.memo(function(e){var t=e.icon,n=e.presetName,r=(0,l.I0)(),i=(0,l.v9)(function(e){return e.layout.presets});return(0,v.jsx)(M.KM,{title:n,children:(0,v.jsx)(R.Z,{size:"small",onClick:function(){r((0,T.wV)(i[n]))},sx:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach(function(t){(0,m.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},F.j),children:t})})}),B=o.memo(function(e){(0,I.Z)(e);var t=(0,l.v9)(function(e){return e.layout.current});return(0,v.jsxs)(a.$B,{title:"Layout",children:[(0,v.jsx)(H,{icon:(0,v.jsx)(c.Pg,{}),presetName:G.fF}),(0,v.jsx)(H,{icon:(0,v.jsx)(c.EA,{}),presetName:G.HK}),(0,v.jsx)(H,{icon:(0,v.jsx)(c.Bt,{}),presetName:G.vb}),(0,v.jsxs)(s.Q,{title:"More",icon:(0,v.jsx)(N.Z,{}),children:[(0,v.jsx)(M.M$,{title:"Current layout"}),(0,v.jsx)(E.M,{obj:t})]})]})}),z=n(52150),K=function(){return(0,l.v9)(function(e){return e.settings.enableDebugging})?(0,v.jsxs)(a.$B,{title:"Debug",children:[(0,v.jsx)(s.Q,{title:"Inspect State",icon:(0,v.jsx)(d.Z,{}),children:(0,v.jsx)(u.Z,{})}),(0,v.jsx)(s.Q,{title:"Inspect column metadata",icon:(0,v.jsx)(f.Z,{}),initMaximized:!0,children:(0,v.jsx)(b,{})})]}):null},V=function(e){var t=e.count,n=e.color,i=e.meaning;return(0,v.jsx)(M.KM,{title:"".concat(t," ").concat(i),children:(0,v.jsx)(r.Z,{sx:{color:n},id:"sql-status-count-".concat(i),children:t})})},X=function(){var e=(0,l.v9)((0,z.P1)(function(e){return e.sql},function(e){return g().countBy(e,"status")})),t=e.success,n=e.error,r=e.running;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(a.pT,{}),(0,v.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:1},children:[(0,v.jsx)(s.Q,{title:"Inspect SQL",icon:(0,v.jsx)(c.jc,{}),initMaximized:!0,children:(0,v.jsx)(k,{})}),(0,v.jsx)(V,{count:void 0===t?0:t,color:"success.main",meaning:"success"}),(0,v.jsx)(V,{count:void 0===n?0:n,color:"error.main",meaning:"error"}),(0,v.jsx)(V,{count:void 0===r?0:r,color:"warning.main",meaning:"running"})]})]})},J=o.memo(function(){var e=(0,l.v9)(function(e){return e.dataFile.filePath}),t=(0,l.v9)(function(e){return e.viewing.pagination.countFiltered}),n=(0,l.v9)(function(e){return e.agColDefs.sorting}),r=(0,l.v9)((0,z.P1)(function(e){return e.columnMeta.data},function(e){var t;return null==e?void 0:null===(t=e.initialOrder)||void 0===t?void 0:t.length}));return(0,v.jsxs)(a.ZP,{settings:(0,v.jsx)(Z,{}),children:[(0,v.jsx)(a.R4,{k:"File",v:e}),(0,v.jsx)(a.R4,{k:"Rows",v:t?t.toLocaleString():"N/A"}),(0,v.jsx)(a.R4,{k:"Columns",v:r?r.toLocaleString():"N/A"}),(0,v.jsx)(a.R4,{k:"Sorting",v:n.length?n.map(function(e){return"".concat(e.field," ").concat(e.order.toUpperCase())}).join(", "):"N/A"}),(0,v.jsx)(X,{}),(0,v.jsx)(i.Z,{sx:{flex:1}}),(0,v.jsx)(B,{}),(0,v.jsx)(K,{})]})})},88895:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return na}});var r=n(71921),i=n(55219);n(36881);var o=n(41532),a=n(98672),l=n(56801),s=n(78068),c=n(39290),u=n(44832),d=n(54972),f=n(63401),m=l.memo(function(e){var t=e.children;return(0,f.jsx)(s.Z,{sx:{backgroundColor:"background.paper",width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:t})}),x=l.memo(function(e){var t=e.text;return(0,f.jsx)(m,{children:(0,f.jsx)(c.Z,{variant:"h6",color:"text.secondary",children:t})})}),p=l.memo(function(){return(0,f.jsx)(m,{children:(0,f.jsx)(d.Z,{})})}),h=n(8483);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var j=function(e){var t=e.modelJson,n=e.tabComponents,i=(0,a.v9)(function(e){return e.settings.mode}),d=(0,a.I0)(),m=v(v({},t),{},{global:u.Yr}),p=(0,l.useState)(o.Hn.fromJson(m)),g=p[0],j=p[1],y=(0,a.v9)(function(e){return e.layout.target});(0,l.useEffect)(function(){y&&(j(o.Hn.fromJson(v(v({},y),{},{global:u.Yr}))),d((0,h.wV)(null))),d((0,h.p8)(g.toJson()))},[g,d,y]);var b=(0,l.useCallback)(function(e,t){d((0,h.p8)(e.toJson()))},[d]);return(0,f.jsx)(s.Z,{className:"flexlayout__theme_".concat(i),sx:{height:"100%",width:"100%",position:"relative"},children:(0,f.jsx)(o.Ar,{className:"flexlayout",model:g,factory:function(e){var t=e.getComponent(),r=n[t];return r?(0,f.jsx)(s.Z,{id:"flexlayout-tabbody-".concat(t),sx:{padding:0,height:"100%",width:"100%"},children:r}):(0,f.jsx)(x,{text:t})},useVisibility:!0,onRenderTab:function(e,t){var n,i=e.isSelected(),o=e.getName(),a=i?"text.primary":"text.secondary";t.content=(0,f.jsx)(s.Z,{id:"flexlayout-tabheader-".concat(o),sx:(n={color:a,pl:1,pr:1,margin:0,gap:1,height:30},(0,r.Z)(n,"color",i?"text.primary":"text.secondary"),(0,r.Z)(n,"borderRadius",1),(0,r.Z)(n,"display","flex"),(0,r.Z)(n,"flexDirection","row"),(0,r.Z)(n,"alignItems","center"),n),children:(0,f.jsx)(c.Z,{variant:"body1",sx:{},children:o})})},onModelChange:b})})},y=n(42001),b=n(63661),w=n(31032),O=n.n(w),Z=n(16620),S=n(96975),P=n(58055),C=n(37736),D=n(11553),k=n(90091),I=n(3058),R=n(75926),E=n(36444),M=l.memo(function(){var e=(0,a.I0)(),t=(0,a.v9)(function(e){return e.viewing.pagination.pageSize}),n=(0,a.v9)(function(e){return e.viewing.sampleCondition});return(0,S.XE)(n)?null:(0,f.jsx)(s.Z,{sx:{flex:0},children:(0,f.jsx)(k.OO,{onClick:function(){e((0,E.h)({source:"".concat(t," rows from random sampling")}))},variant:"outlined",children:"Random"})})});M.displayName="RandomSampling";var T=n(57080),F=l.memo(function(){var e=(0,a.I0)(),t=(0,a.v9)(function(e){return e.viewing.pagination},a.wU),n=t.pageSize,r=t.pageNumber,i=(0,a.v9)(function(e){return e.viewing.pagination.countBaseline}),o=(0,a.v9)(function(e){return e.viewing.pagination.countFiltered}),l=(0,a.v9)(function(e){return e.viewing.rowDataSource},a.wU);if((0,S.XE)(o)||(0,S.XE)(i))return"";var u=(0,f.jsxs)(R.we,{title:"Table settings",children:[(0,f.jsx)(T.Z,{settingKey:"heightOfColumnDistribution"}),(0,f.jsx)(T.Z,{settingKey:"tableMaxRowHeight"}),(0,f.jsx)(T.Z,{settingKey:"tableDefaultColumnWidth"})]}),d=(0,f.jsx)(Z.t,{countBaseline:i,countFiltered:o,label:"Total"});return(0,f.jsx)(s.Z,{sx:{gap:1,backgroundColor:"background.card",px:1,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:(0,S.XE)(l)||"Table"===l?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(M,{}),(0,f.jsx)(D.Z,{component:"div",size:"small",count:o,labelDisplayedRows:function(e){var t=e.from,n=e.to;return"Showing ".concat(t.toLocaleString()," to ").concat(n.toLocaleString())},page:r,onPageChange:function(t,n){e((0,P.Ik)({pageNumber:n})),e(C.It.actions.setShouldRefresh())},labelRowsPerPage:"Page size",rowsPerPage:n,onRowsPerPageChange:function(t){var n=parseInt(t.target.value,10);e((0,P.Ik)({pageSize:n})),e(C.It.actions.setShouldRefresh())},showFirstButton:!0,showLastButton:!0,sx:{minHeight:36,".MuiTablePagination-toolbar":{minHeight:"36px",my:0,py:0},".MuiTablePagination-selectLabel, .MuiTablePagination-displayedRows":{fontSize:"0.75rem",my:0,py:0},".MuiTablePagination-select":{my:0,py:0}}}),(0,f.jsx)(s.Z,{sx:{flex:1}}),d,(0,f.jsx)(I.Z,{sqlKey:"rowData"}),u]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(M,{}),(0,f.jsxs)(c.Z,{variant:"body2",sx:{margin:1,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"auto"},children:["Showing ",l]}),(0,f.jsx)(s.Z,{sx:{flex:1}}),(0,f.jsx)(k.OO,{onClick:function(){e(C.It.actions.setShouldRefresh()),e((0,P.O1)("Table")),e((0,P.dZ)("True"))},children:"Back to Table"}),(0,f.jsx)(I.Z,{sqlKey:"samples"}),u]})})});F.displayName="PaginationBar";var N=n(24894),G=n(20619),L=[{isTopRow:!0}],H={domLayout:"normal",animateRows:!1,pagination:!1,headerHeight:45,suppressColumnVirtualisation:!0,suppressRowVirtualisation:!0},B=n(74434),z=n(61906),K=n(33);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}b.O3h.registerModules([b.ea9]);var J=l.memo(function(){var e=(0,l.useRef)(),t=(0,a.I0)();(0,N.YJ)();var n=(0,N.nF)(),r=n.data,i=(n.loading,n.error),o=(0,B.Z)({noCellPadding:!0}),u=(0,K.Qy)(),d=(0,K.qS)();(0,l.useEffect)(function(){return z.h.subscribe(function(){var e=z.h.getState().viewing.justClickedColumn;(0,S.XE)(e)||m(function(t){return t.ensureColumnVisible(e,"start")})})},[]);var m=function(t){var n,r=null===(n=e.current)||void 0===n?void 0:n.api;(0,S.XE)(r)||t(r)},x=function(e){var n=(0,G.qv)(e.api);t((0,G.oW)(n)),p(e)},p=O().debounce(function(e){var n=e.api.getHorizontalPixelRange(),r=n.left,i=n.right,o=O()(e.api.getAllDisplayedColumns()).filter(function(e){return e.getLeft()>=r-10&&e.getLeft()+e.getActualWidth()<=i+10}).map(function(e){return e.colDef.field}).value();t((0,P.gU)(o))},100),h=(0,f.jsx)(y.s,X(X({ref:e,theme:o,pinnedTopRowData:L,onSortChanged:function(e){var n=O()(e.api.getColumns()).filter(function(e){return null!==e.sortIndex}).map(function(e){return{field:e.colDef.field,order:e.sort,sortIndex:e.sortIndex}}).sortBy("sortIndex").value();return t((0,G.OS)(n)),t(C.It.actions.setShouldRefresh()),!1},rowData:r,columnDefs:d,defaultColDef:u},H),{},{onColumnMoved:x,onColumnVisible:x,onRowClicked:function(e){e.data.isTopRow||t((0,P.jY)(e.data.rowIndex))},onBodyScroll:function(e){p(e)}}));return i?(0,f.jsx)(s.Z,{sx:{padding:2},children:(0,f.jsx)(c.Z,{variant:"body1",color:"error",children:i})}):(0,f.jsxs)(s.Z,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},id:"main-table-container",children:[(0,f.jsx)(s.Z,{sx:{flex:1,width:"100%",flexGrow:1,overflow:"auto"},children:h}),(0,f.jsx)(s.Z,{sx:{width:"100%",flex:0},children:(0,f.jsx)(F,{})})]})});J.displayName="Table";var q=n(91946),_=n(10642),U=n.n(_),W=n(8294),Y=n(74859),A=n(44485),Q=n(67856),$=n(91010),ee=n(44652),et=n(10016),en=n(63054),er=n(55109),ei=n(30913),eo=n(93885),ea=n(19235),el=n(6203),es=n(72907),ec=n(58306),eu=n(77498),ed=l.memo(function(e){var t=e.colDef,n=e.searchText,r=t.field,i=(0,a.I0)(),o=(null==t?void 0:t.hide)===!0,s=(0,ec.QJ)(r),c=(null==t?void 0:t.pinned)==="left"||(null==t?void 0:t.pinned)==="right",u=(0,l.useState)(!1),d=u[0],m=u[1],x=(0,a.v9)(function(e){return e.viewing.visibleColumns.includes(r)});if(!s)return(0,f.jsx)(en.ZP,{children:r});var p=(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(eo.S,{columnName:r,renderType:null==s?void 0:s.renderType,cellDataType:null==t?void 0:t.cellDataType}),(0,f.jsx)(er.Z,{sx:{padding:0,margin:0,flex:1},onClick:function(){(0,P.nn)({dispatch:i,columnName:r})},children:(0,f.jsx)(ei.Z,{className:"select-none",sx:{overflow:"hidden",flex:1,paddingLeft:.5,textDecoration:o?"line-through":"none",color:x?"primary.light":"text.secondary"},children:(0,ea.k6)(r,n)})}),(0,f.jsxs)(eu.$,{children:[d&&(0,f.jsx)(es.Z,{columnName:r,hide:null==t?void 0:t.hide}),(d||c)&&(0,f.jsx)(el.O,{columnName:r,pinned:null==t?void 0:t.pinned,hide:null==t?void 0:t.hide})]})]});return(0,f.jsx)(en.ZP,{sx:{padding:0,width:"100%",display:"flex",flexDirection:"row"},onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)},children:p})}),ef="item",em=function(e){var t=e.id,n=e.item,r=e.index,i=e.moveItem,o=e.onDrop,a=(0,l.useRef)(null),s=(0,$.L)({accept:ef,collect:function(e){return{handlerId:e.getHandlerId()}},hover:function(e,t){if(a.current){var n,o=e.index;if(o!==r){var l=null===(n=a.current)||void 0===n?void 0:n.getBoundingClientRect(),s=(l.bottom-l.top)/2,c=t.getClientOffset().y-l.top;o<r&&c<s||o>r&&c>s||(i(o,r),e.index=r)}}},drop:function(e,t){o(e.id)}}),c=(0,Q.Z)(s,2),u=c[0].handlerId,d=c[1],m=(0,ee.c)({type:ef,item:function(){return{id:t,index:r}},collect:function(e){return{isDragging:e.isDragging()}}}),x=(0,Q.Z)(m,3),p=x[0].isDragging,h=x[1],g=x[2];return(0,l.useEffect)(function(){g((0,et.r)(),{captureDraggingState:!0})},[g]),h(d(a)),(0,f.jsx)("div",{ref:a,style:{opacity:p?.3:1},"data-handler-id":u,children:(0,f.jsx)(ed,{colDef:n.colDef,searchText:n.searchText})})},ex=n(78323),ep=n(34228),eh={position:"fixed",pointerEvents:"none",zIndex:1300,left:0,top:0},eg=function(){var e=(0,ex.f)(function(e){return{item:e.getItem(),itemType:e.getItemType(),isDragging:e.isDragging(),initialOffset:e.getInitialSourceClientOffset(),currentOffset:e.getSourceClientOffset()}}),t=e.item,n=(e.itemType,e.isDragging),r=e.initialOffset,i=e.currentOffset;return n?(0,f.jsx)("div",{style:eh,children:(0,f.jsx)("div",{style:function(e,t){if(!e||!t)return{display:"none"};var n=t.x,r=t.y;return{transform:"translate(".concat(n,"px, ").concat(r,"px)"),WebkitTransform:"translate(".concat(n,"px, ").concat(r,"px)")}}(r,i),children:(0,f.jsxs)(s.Z,{sx:{padding:.5,display:"flex",flexDirection:"row",alignItems:"center",gap:1,backgroundColor:"background.paper",borderRadius:1,boxShadow:3},children:[(0,f.jsx)(ep.Z,{}),(0,f.jsx)(c.Z,{children:t.id})]})})}):null},ev=function(e){var t=e.initialItems,n=e.onDropComplete,r=(0,l.useState)(t),i=r[0],o=r[1],a=(0,l.useRef)(i);(0,l.useEffect)(function(){o(t)},[t]),(0,l.useEffect)(function(){a.current=i},[i]);var s=(0,l.useCallback)(function(e,t){o(function(n){return U()(n,{$splice:[[e,1],[t,0,n[e]]]})})},[]),c=(0,l.useCallback)(function(e){n(e,a.current)},[n]),u=(0,l.useCallback)(function(e,t){return(0,f.jsx)(em,{index:t,id:e.id,item:e,moveItem:s,onDrop:c},e.id)},[c,s]);return(0,f.jsxs)(W.W,{backend:Y.PD,children:[(0,f.jsx)(eg,{}),(0,f.jsx)(A.Z,{sx:{minHeight:100,border:"1px solid",borderColor:"borderColor",borderRadius:1,padding:1,overflow:"auto"},children:i.map(function(e,t){return u(e,t)})})]})},ej=n(52728),ey=n(18469),eb=n(9807),ew=n(58243),eO=n(69380),eZ=n(40679),eS=n.n(eZ),eP=n(83611),eC=n(22982),eD=n.n(eC);function ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var eI=function(e){var t=e.color,n=e.children,i=e.sx,o=void 0===i?{}:i;return(0,f.jsx)(c.Z,{variant:"body2",sx:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ek(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({color:t,flex:0,fontFamily:"monospace"},o),children:n})},eR=function(e){var t=e.children;return(0,f.jsx)(eI,{color:"warning.light",sx:{fontWeight:"bold"},children:t})},eE=function(e){var t=e.children;return(0,f.jsx)(eI,{color:"success.main",children:t})},eM=function(e){var t=e.children;return(0,f.jsx)(eI,{color:"primary.light",sx:{maxWidth:"200px",minWidth:"10px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1},children:t})},eT=l.memo(function(e){var t=e.baseUrl,n=e.params,r=(0,eP.Lv)({baseUrl:t,params:n});return(0,f.jsx)(eD(),{href:r,target:"_blank",children:(0,f.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"row",gap:0,alignItems:"flex-start",width:"100%",flexWrap:"wrap"},children:[(0,f.jsx)(eI,{color:"text.primary",children:t}),(0,f.jsx)(eR,{children:"?"}),Object.keys(n).map(function(e,t){return(0,f.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"row",gap:0,alignItems:"center"},children:[t>0&&(0,f.jsx)(eR,{children:"&"}),(0,f.jsx)(eE,{children:e}),(0,f.jsx)(eR,{children:"="}),(0,f.jsx)(eM,{children:n[e]})]},t)})]})})});n(33418);var eF=n(69663),eN=l.memo(function(e){var t=e.baseUrl,n=e.params,r=e.singleRowData,i=(0,eF.Z)("tableMaxRowHeight").value,o=(0,l.useState)({}),a=o[0],c=o[1],u=(0,l.useState)(""),m=(u[0],u[1]);return((0,l.useEffect)(function(){var e;(e=(0,eO.Z)(eS().mark(function e(){var i;return eS().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,eP.LJ)({params:n,singleRowData:r});case 2:c(i=e.sent),m((0,eP.Lv)({baseUrl:t,params:i}));case 5:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()},[n,r,t]),O().isEmpty(a))?(0,f.jsx)(d.Z,{size:20}):(0,f.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"row",gap:1,width:"100%",height:i,alignItems:"center"},children:[(0,f.jsx)(s.Z,{sx:{flex:0,width:i,height:i},children:!1}),(0,f.jsx)(s.Z,{sx:{maxHeight:i,flex:1,height:"100%"},children:(0,f.jsx)(eT,{baseUrl:t,params:a})})]})}),eG=n(50790),eL=n(58048),eH=n(52625),eB=n(88399),ez=n(84531),eK=n(92153),eV=n(10251),eX=l.memo(function(e){var t=e.column,n=(0,N.nF)().data;return(0,S.XE)(n)?(0,f.jsx)(d.Z,{}):(0,f.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"column",gap:3},children:[(0,f.jsx)(eG.M$,{title:"Preview"}),n.slice(0,3).map(function(e,n){return(0,f.jsx)(eN,{baseUrl:t.baseUrl,params:t.params,singleRowData:e},n)})]})}),eJ=l.memo(function(e){var t=e.column,n=(0,a.I0)(),r=(0,l.useState)(t.renderType),i=r[0],o=r[1],c=(0,l.useState)(t),u=c[0],d=c[1],m=(0,l.useState)(t.name),x=m[0],p=m[1],h=(0,l.useState)(t.baseUrl),g=h[0],v=h[1],j=(0,l.useState)(O().toPairs(t.params).map(function(e){var t=(0,Q.Z)(e,2);return{key:t[0],value:t[1]}})),y=j[0],b=j[1],w=function(e,t){var n=(0,eb.Z)(y);n[e].key=t,b(n)},Z=function(e,t){var n=(0,eb.Z)(y);n[e].value=t,b(n)},S=function(e){var t=(0,eb.Z)(y);t.splice(e,1),b(t)},P=function(){return{name:x,baseUrl:g,renderType:i,params:O().fromPairs(y.map(function(e){return[e.key,e.value]}))}},C=[ew.Je.IFRAME,ew.Je.LINK];return(0,f.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"column",gap:2,my:1,p:1},children:[(0,f.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"row",gap:1,alignItems:"center"},children:[(0,f.jsx)(k.Wr,{label:"Render Type",value:i,options:C,onValueChange:o,width:"200px"}),(0,f.jsx)(k.dw,{label:"Base URL",value:g,monospace:!0,onValueChange:v,color:"text.primary"})]}),(0,f.jsx)(eG.M$,{title:"URL Parameters"}),y.map(function(e,t){var n=e.key,r=e.value;return(0,f.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"row",gap:1,alignItems:"center"},children:[(0,f.jsx)(k.dw,{label:"key",value:n,monospace:!0,sx:{maxWidth:"150px"},onValueChange:function(e){return w(t,e)},color:"success.main"}),(0,f.jsx)(k.dw,{label:(0,f.jsx)(eG.oy,{addon:(0,f.jsx)(eD(),{href:"https://docs.jsonata.org/overview.html",target:"_blank",children:(0,f.jsx)(eV.Z,{})}),text:"Value using JSONATA expression"}),value:r,monospace:!0,sx:{flex:1},onValueChange:function(e){return Z(t,e)},color:"primary.light"}),(0,f.jsx)(k.Pi,{icon:(0,f.jsx)(eH.Z,{}),onClick:function(){return S(t)}})]},t)}),(0,f.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"row",gap:1,alignItems:"center"},children:[(0,f.jsx)(k.OO,{onClick:function(){b([].concat((0,eb.Z)(y),[{key:"key",value:'"value"'}]))},variant:"outlined",startIcon:(0,f.jsx)(eL.Z,{}),children:"Add"}),(0,f.jsx)(k.OO,{onClick:function(){d(t),p(t.name),v(t.baseUrl),o(t.renderType),b(O().toPairs(t.params).map(function(e){var t=(0,Q.Z)(e,2);return{key:t[0],value:t[1]}}))},variant:"outlined",color:"warning",startIcon:(0,f.jsx)(eB.Z,{}),children:"Undo"}),(0,f.jsx)(s.Z,{sx:{flex:1}}),(0,f.jsx)(k.OO,{onClick:function(){d(P())},variant:"outlined",startIcon:(0,f.jsx)(ez.Z,{}),children:"Preview"}),(0,f.jsx)(k.OO,{onClick:function(){var e=P();n(updateDerivedColumn(e))},startIcon:(0,f.jsx)(eK.Z,{}),children:"Save"})]}),(0,f.jsx)(eX,{column:u})]})});function eq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var e_=l.memo(function(e){var t=e.column,n=(0,f.jsxs)(s.Z,{sx:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eq(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({display:"flex",flexDirection:"row",gap:1},ej.j),children:[ey.E[t.renderType],(0,f.jsx)(c.Z,{variant:"body1",children:t.name})]});return(0,f.jsx)(R.ZP,{trigger:n,title:t.name,anchorHorizontal:"right",anchorVertical:"top",transformOriginHorizontal:"left",transformOriginVertical:"top",width:500,height:400,children:(0,f.jsx)(eJ,{column:t})})});function eU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var eW=l.memo(function(){var e=(0,a.v9)(function(e){return e.derivedColumns});return 0===e.length?null:(0,f.jsxs)(s.Z,{sx:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eU(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({display:"flex",flexDirection:"column",gap:1,p:1},ej.PD),children:[(0,f.jsx)(c.Z,{variant:"h6",children:"Derived Columns"}),e.map(function(e){return(0,f.jsx)(e_,{column:e},e.name)})]})});eW.displayName="DerivedColumns";var eY=l.memo(function(e){(0,i.Z)(e);var t=(0,a.I0)(),n=(0,l.useState)(""),r=n[0],o=n[1],c=(0,K.yU)(),u=c.columnDefs,d=c.loading;c.error;var m=(0,l.useState)([]),x=m[0],h=m[1];return((0,l.useEffect)(function(){h(u.map(function(e){return{id:e.field,colDef:e,searchText:r}}))},[u,r]),d)?(0,f.jsx)(p,{}):0===x.length?null:(0,f.jsxs)(q.Z,{sx:{height:"100%",flex:1,display:"flex",flexDirection:"column",gap:1,padding:1},children:[(0,f.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"row",gap:1,alignItems:"center"},children:[(0,f.jsx)(s.Z,{sx:{flex:1},children:(0,f.jsx)(k.dw,{label:"Search column name",value:r,onValueChange:o})}),(0,f.jsx)(s.Z,{sx:{flex:0},children:(0,f.jsx)(I.Z,{sqlKey:"columnMeta"})})]}),(0,f.jsx)(ev,{initialItems:x,onDropComplete:function(e,n){var r=n.map(function(e){return e.colDef});t((0,G.oW)(r))}}),(0,f.jsx)(eW,{})]})}),eA=n(32699),eQ=n(53858),e$=n(5158);function e0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e0(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e0(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var e5=l.memo(function(e){var t=e.value,n=(0,eF.Z)("galleryItemSize").value;return t?(0,f.jsx)(s.Z,{sx:e1(e1({},ej.PD),{},{width:n+2,height:n+2}),children:(0,f.jsx)("iframe",{style:{width:n,height:n},src:t+"&size=".concat(n)})}):String(t)}),e9=l.memo(function(e){var t=e.row,n=e.index,r=(0,a.I0)(),i=(0,a.v9)(function(e){return e.settings.galleryItemSize})||128,o=(0,a.v9)(function(e){return e.settings.galleryVisualColumn}),l=(0,a.v9)(function(e){return e.settings.galleryCaptionColumn}),u=(0,a.v9)(function(e){return e.viewing.justClickedRow}),d=(0,eA.Z)(),m=(0,ec.QJ)(o),x=t[l],p=t[o];return(0,f.jsxs)(s.Z,{sx:{width:i+2,padding:0,float:"left",margin:.5,border:"1px solid",borderColor:d.palette.divider,bgcolor:u===n?"highlight.light":"background.card",color:u===n?"highlight.contrastText":"text.primary",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"left",justifyContent:"center",gap:1},onClick:function(){r((0,P.jY)(n))},children:[function(){if((0,S.XE)(o))return null;switch(m.renderType){case ew.Je.IFRAME:return(0,f.jsx)(e5,{value:p});case ew.Je.IMAGE_URL:return(0,f.jsx)(e$.F,{url:p,size:i,cropSquare:!0});case ew.Je.JSON:return(0,f.jsx)(s.Z,{sx:{width:i,height:i,overflow:"auto"},children:(0,f.jsx)(eQ.M,{obj:p})});case ew.Je.TEXT:return(0,f.jsx)(s.Z,{sx:{width:i,height:i,overflow:"auto",padding:.5},children:(0,f.jsx)(c.Z,{variant:"body2",children:(0,S.XE)(p)?"-":String(p)})});default:return null}}(),(0,f.jsx)(c.Z,{variant:"body2",className:"truncate",sx:{padding:.5},children:(0,S.XE)(x)?"-":String(x)})]})}),e2=n(92633),e8=n(68181),e3=l.memo(function(e){var t=e.settingKey,n=e.content;return(0,f.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"row",gap:1,alignItems:"center",border:"1px solid",borderColor:"borderColor",padding:1,borderRadius:1},children:[(0,f.jsx)(s.Z,{children:(0,f.jsx)(R.SV,{title:"".concat(t," missing"),children:n})}),(0,f.jsx)(c.Z,{variant:"body2",children:t})]})}),e6=function(e){var t=e.meta,n=e.renderType;return t.isNumeric&&!t.allNull&&!t.singleValue&&n===ew.Je.NUMBER},e7=function(e){return e.meta,e.renderType===ew.Je.CATEGORY},e4=l.memo(function(e){var t=e.settingKey,n=e.label,i=e.onValueChange,o=void 0===i?null:i,s=e.promptIfNoCandidates,c=e.showStats,u=void 0===c?"none":c,d=e.multiple,m=void 0!==d&&d,x=e.columnSelector,p=e.allowEmpty,h=void 0!==p&&p,g=e.extraCandidates,v=(0,a.I0)(),j=(0,a.v9)(function(e){return e.settings[t]})||(m?[]:""),y=((0,N.YJ)()||{}).data,b=(0,ec.oN)(),w=y||{},O=w.initialOrder,Z=w.meta,S=(O||[]).filter(function(e){return x({meta:Z[e]||{},renderType:b[e]||""})}).concat(void 0===g?[]:g),P=m?0===j.length:""===j,C=(0,l.useCallback)(function(e){v((0,e2.V)((0,r.Z)({},t,e))),o&&o(e)},[v,o,t]);if((0,l.useEffect)(function(){m&&!h?P&&S.length>0&&C([S[0]]):P&&S.length>0&&!h&&C(S[0])},[S,C,m,P,h]),0===S.length&&!h){var D=(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(eG.w0,{text:"There is no column candidate"}),(void 0===s?[]:s).map(function(e,t){return(0,f.jsx)(eG.w0,{text:e},t)})]});return(0,f.jsx)(e3,{settingKey:t,content:D})}var I=(0,f.jsx)(k.aO,{options:h?[""].concat((0,eb.Z)(S)):S,value:j,onChange:C,label:n,multiple:m}),R=j&&(0,f.jsx)(e8.Z,{name:j});return"left"===u?(0,f.jsxs)(eu.X,{children:[R,I]}):"right"===u?(0,f.jsxs)(eu.X,{children:[I," ",R]}):I});e4.displayName="SelectColumnInSettings";var te=function(){var e=(0,a.v9)(function(e){return e.derivedColumns}),t=O().map(e,function(e){return e.name});return(0,f.jsx)(e4,{settingKey:"galleryVisualColumn",label:"Which column to display as the main visual in gallery?",columnSelector:function(e){var t=e.meta,n=e.renderType;return!t.allNull&&!t.singleValue&&[ew.Je.IMAGE_URL,ew.Je.VIDEO_URL,ew.Je.JSON,ew.Je.TEXT].includes(n)},extraCandidates:t})},tt=function(){return(0,f.jsx)(e4,{settingKey:"galleryCaptionColumn",label:"Which column to show as item caption in gallery?",columnSelector:function(e){var t=e.meta,n=e.renderType;return!t.allNull&&!t.singleValue&&[ew.Je.CATEGORY,ew.Je.TEXT,ew.Je.NUMBER].includes(n)}})},tn=n(42070),tr=l.memo(function(){return(0,f.jsxs)(tn.Z,{children:[(0,f.jsx)(M,{}),(0,f.jsx)(s.Z,{sx:{flex:1},children:(0,f.jsx)(te,{})}),(0,f.jsx)(s.Z,{sx:{flex:1},children:(0,f.jsx)(tt,{})}),(0,f.jsx)(s.Z,{sx:{flex:1},children:(0,f.jsx)(T.Z,{settingKey:"galleryItemSize"})})]})});tr.displayName="GalleryControls";var ti=l.memo(function(){var e=(0,a.v9)(function(e){return e.rowData.data})||[];return(0,f.jsxs)(q.Z,{sx:{display:"flex",flexDirection:"column",backgroundColor:"background.paper",height:"100%",width:"100%"},children:[(0,f.jsx)(s.Z,{sx:{flex:0},children:(0,f.jsx)(tr,{})}),(0,f.jsx)(s.Z,{sx:{display:"block",flex:1,overflow:"auto",padding:1},children:e.map(function(e,t){return(0,f.jsx)(e9,{row:e,index:t},"".concat(t))})})]})}),to=n(52150),ta=function(){var e=(0,a.v9)(function(e){return e.agColDefs.columnDefs}),t=(0,a.v9)(function(e){return e.columnPreference.data}),n=(0,a.v9)((0,to.P1)([function(e){return e.viewing},function(e){return e.rowData.data}],function(e,t){return(0,S.XE)(e.justClickedRow)||(0,S.XE)(t)?null:t[e.justClickedRow]}));if(!n)return(0,f.jsx)(s.Z,{sx:{p:2,backgroundColor:"background.paper"},className:"full-size",children:(0,f.jsx)(c.Z,{variant:"h6",children:"Click on a row in table to view details."})});var r=function(e){var r,i=O().get(n,e);if((0,S.XE)(i))return String(i);switch(null===(r=t[e])||void 0===r?void 0:r.renderType){case"ImageUrl":return(0,f.jsx)(e$.F,{url:i,showUrl:!0});case"JSON":return(0,f.jsx)(s.Z,{sx:{width:"100%",maxHeight:"500px",overflow:"auto"},children:(0,f.jsx)(eQ.M,{obj:i})});case"IFrameVisualization":return(0,f.jsx)(e5,{value:i});default:return(0,f.jsx)(c.Z,{component:"div",children:String(i)})}};return(0,f.jsx)(s.Z,{sx:{backgroundColor:"background.paper"},children:(0,f.jsx)(A.Z,{children:e.map(function(e){var t=e.field,n=r(t);return(0,f.jsx)(en.ZP,{children:(0,f.jsx)(ei.Z,{primary:(0,f.jsx)(c.Z,{component:"div",variant:"h6",children:t}),secondary:(0,f.jsx)(c.Z,{component:"div",variant:"body2",sx:{color:"text.secondary"},children:n})})},t)})})})},tl=n(15055),ts=n(60685),tc=n(69371),tu=n.n(tc),td=function(){var e=(0,a.I0)(),t=(0,a.v9)(function(e){return e.dataFile}),n=t.filePath,r=t.fileFormat,i=(0,ts.useSearchParams)(),o=i.get("filePath"),s=i.get("fileFormat"),c=(0,a.v9)(function(e){return e.settings.folderBrowserRootFolder});return(0,l.useEffect)(function(){if(o){var t=s||tu().extname(o).slice(1);e((0,tl.n)({filePath:o,fileFormat:t})),c||e((0,e2.V)({folderBrowserRootFolder:tu().dirname(o)}))}else if(!n)throw Error("No file path provided")},[e,n,c,r,o,s]),{filePath:n,fileFormat:r}};function tf(e){var t=e.top,n=e.bottom,r=e.initTopHeight,i=void 0===r?"50%":r,o=(0,l.useState)(i),a=o[0],c=o[1],u=(0,l.useState)(0),d=u[0],m=u[1],x=(0,l.useRef)(null);(0,l.useEffect)(function(){var e=function(){x.current&&m(x.current.clientHeight)};e();var t=new ResizeObserver(e);return x.current&&t.observe(x.current),function(){return t.disconnect()}},[]);var p=function(e){return"string"==typeof e&&e.includes("%")?d*(parseFloat(e)/100):parseFloat(e)},h=function(e){"string"==typeof i&&i.includes("%")?c("".concat(Math.max(10,Math.min(90,e/d*100)),"%")):c(Math.max(100,e))},g=p(a);return(0,f.jsxs)(s.Z,{ref:x,sx:{height:"100%",width:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,f.jsx)(s.Z,{sx:{height:"".concat(g,"px"),overflow:"auto"},children:t}),(0,f.jsx)(s.Z,{onMouseDown:function(e){var t=e.clientY,n=p(a),r=function(e){h(n+(e.clientY-t))};document.addEventListener("mousemove",r),document.addEventListener("mouseup",function e(){document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",e)})},sx:{height:"2px",bgcolor:"divider",cursor:"row-resize","&:hover":{bgcolor:"primary.main"}}}),(0,f.jsx)(s.Z,{sx:{flex:1,overflow:"auto"},children:n})]})}var tm=l.memo(function(e){var t=e.columnNames,n=e.messageIfEmpty;return 0===t.length?(0,f.jsx)(x,{text:n}):(0,f.jsx)(s.Z,{sx:{display:"flex",flexDirection:"column",gap:1,p:1,overflow:"auto",backgroundColor:"background.paper"},children:t.map(function(e){return(0,f.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:1},children:[(0,f.jsx)(s.Z,{sx:{flex:1},children:(0,f.jsx)(c.Z,{variant:"body1",className:"one-line-text",children:e})}),(0,f.jsx)(s.Z,{sx:{flex:1},children:(0,f.jsx)(e8.Z,{name:e})})]},e)})})}),tx=l.memo(function(){var e=(0,a.v9)((0,to.P1)([function(e){return e.agColDefs.filters},function(e){var t,n;return null===(t=e.columnMeta)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.primitiveColumns}],function(e,t){return{havingFilter:O().keys(e||{}),withoutFilter:O().difference(t,O().keys(e||{}))}})),t=e.havingFilter,n=e.withoutFilter;return(0,f.jsx)(tf,{top:(0,f.jsx)(tm,{columnNames:t,messageIfEmpty:"No active column filters"}),bottom:(0,f.jsx)(tm,{columnNames:n,messageIfEmpty:"No columns without filters"})})}),tp=n(4456),th=n(5665),tg=function(){var e=(0,N.k2)().data,t=(0,a.I0)();if((0,S.XE)(e))return(0,f.jsx)(d.Z,{});var n=function(){t(tp.Z.actions.setShouldRefresh())};return(0,f.jsxs)(tn.Z,{children:[(0,f.jsx)(s.Z,{sx:{flex:1},children:(0,f.jsx)(e4,{settingKey:"boxPlotBreakdownColumn",label:"Breakdown column",onValueChange:n,showStats:"left",allowEmpty:!0,columnSelector:e7})}),(0,f.jsx)(s.Z,{sx:{flex:1},children:(0,f.jsx)(e4,{settingKey:"boxPlotColumns",label:"What columns to plot?",onValueChange:n,multiple:!0,showStats:"none",columnSelector:e6})}),(0,f.jsx)(s.Z,{sx:{flex:0,minWidth:100},children:(0,f.jsx)(th.Z,{settingKey:"boxPlotSortBy",shortLabel:"Sort by?"})}),(0,f.jsx)(I.Z,{sqlKey:"boxPlot"})]})},tv=n(45855),tj=l.memo(function(e){var t=e.data,n=e.width,r=void 0===n?200:n,i=e.strokeWidth,o=void 0===i?2:i,l=(0,eA.Z)(),s=(0,a.v9)(function(e){return e.settings.heightOfColumnDistribution});if(!t||(0,S.XE)(t.avg))return null;var u=s/2,d=u-8,m=u+8,x=t.min,p=t.q25,h=t.q50,g=t.q75,v=t.max,j=t.avg,y=(0,S.kX)(t.globalMin,x),b=(0,S.kX)(t.globalMax,v),w=function(e){return 4+(e-y)*(r-8)/(b-y)},O=function(e){var t=e.x;return(0,f.jsx)("line",{x1:t,x2:t,y1:d,y2:m,stroke:l.palette.text.primary,strokeWidth:o})};if(y===b)return(0,f.jsxs)(c.Z,{variant:"body2",children:["Single value: ",y]});var Z=(0,f.jsxs)("svg",{width:r,height:s,style:{backgroundColor:l.palette.background.card},children:[(0,f.jsx)("line",{x1:w(x),x2:w(v),y1:u,y2:u,stroke:l.palette.text.secondary,strokeWidth:o,strokeDasharray:"5,5"}),(0,f.jsx)("rect",{x:w(p),y:d,width:w(g)-w(p),height:16,stroke:l.palette.text.primary,strokeWidth:o,fill:l.palette.plotFill}),(0,f.jsx)(O,{x:w(x)}),(0,f.jsx)(O,{x:w(h)}),(0,f.jsx)(O,{x:w(v)}),(0,f.jsx)("circle",{cx:w(j),cy:u,r:4,fill:l.palette.warning.main})]});return(0,f.jsx)(R.ZP,{trigger:Z,tooltip:null,title:"Boxplot stats",children:(0,f.jsx)(eQ.M,{obj:t})})}),ty=n(61837);function tb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tb(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tO=l.memo(function(){var e=(0,a.I0)(),t=(0,l.useRef)(!0),n=(0,N.Y5)(),r=n.data,i=(n.loading,n.error),o=(0,a.v9)(function(e){return e.settings.boxPlotSortBy}),c=(0,a.v9)(function(e){return e.settings.boxPlotBreakdownColumn}),u=(0,eA.Z)(),d=O().sumBy(r,"count"),m=(0,ec.UJ)();(0,l.useEffect)(function(){t.current?t.current=!1:e(tp.Z.actions.setShouldRefresh())},[e]);var x=O()(m).map(function(e){return[e,{globalMin:O()(r).map(function(t){var n;return null===(n=t[e])||void 0===n?void 0:n.min}).min(),globalMax:O()(r).map(function(t){var n;return null===(n=t[e])||void 0===n?void 0:n.max}).max()}]}).fromPairs().value(),p=(0,l.useMemo)(function(){return tw({breakdown:{pinned:"left",headerName:c},count:tw(tw({},(0,ty.MO)(u)),{},{cellRenderer:(0,ty.S6)({min:0,max:d,isPercent:!1,muiTheme:u})}),rowIndex:{hide:!0}},O().mapValues(x,function(e,t){return{headerName:t,valueFormatter:function(e){return e.value},cellRenderer:function(t){return(0,f.jsx)(tj,{data:tw(tw({},t.value),e),width:150})},comparator:function(e,t){return e[o]-t[o]}}}))},[x,o,c,u,d]);return(0,f.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[(0,f.jsx)(tg,{}),i&&(0,f.jsx)(s.Z,{sx:{p:1,color:"error.main"},children:i}),(0,f.jsx)(s.Z,{sx:{flex:1,padding:1,width:"100%",height:"100%"},children:r&&(0,f.jsx)(tv.M,{initRowData:r,overridingColDefs:p})})]})}),tZ=n(86318),tS=n(72349),tP=n(31649),tC=l.memo(function(e){var t=e.value,n=(0,a.I0)(),r=(0,a.v9)((0,to.P1)(function(e){return e.viewing.heatmapColumnSort},function(e){var n=e||{},r=n.byRow,i=n.order;return r===t?i:null})),i=null!==r,o=i?"asc"===r?(0,f.jsx)(tS.Z,{fontSize:"small"}):"desc"===r?(0,f.jsx)(tP.Z,{fontSize:"small"}):null:null;return(0,f.jsxs)(tZ.Z,{variant:"text",onClick:function(){n((0,P.Rw)(t))},sx:{textTransform:"none",fontSize:"inherit",width:"100%",height:"100%",display:"flex",flexDirection:"row",alignItems:"center",gap:1,color:i?"primary.main":"text.primary"},children:[(0,f.jsx)(c.Z,{variant:"body2",sx:{textAlign:"left",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",flex:1},children:t}),o&&(0,f.jsx)(s.Z,{sx:{flex:0},children:(0,f.jsx)(eG.KM,{title:"Columns are sorted by counts in this row",children:o})})]})});tC.displayName="HeatmapRowHeader";var tD=n(41208);function tk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tk(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tR=function(e){var t=e.xLabel,n=e.xColumn,r=e.allStats,i=e.muiTheme;return{headerName:String(t),field:t,headerTooltip:"".concat(n,": ").concat(t),flex:1,valueGetter:function(e){var n;return null===(n=e.data[t])||void 0===n?void 0:n.cnt},valueFormatter:ty.Xz,cellRenderer:function(e){return e.data.isPinned?(0,ty.S6)({min:0,max:r.sum,isPercent:!1,muiTheme:i})(e):e.value}}},tE=function(e){var t=e.xLabel,n=e.xStats,r=e.yStats,i=e.normalizeColor,o=e.muiTheme,a=e.allStats;return function(e){if(e.data.isPinned)return(0,ty.MO)(o).cellStyle;var l=[a.min,a.max];if("per_row"===i){var s=e.data[tD.wH];l=[r[s].min,r[s].max]}else"per_column"===i&&(l=[n[t].min,n[t].max]);return tI(tI({},function(e){var t,n=e.min,r=e.max,i=e.value;if((0,S.XE)(i))return{};var o=Math.max(0,Math.min(1,(i-n)/(r-n))),a=[180,180,180],l=[200,30,0];if(o<.5){var s=o/.5;t=[0,90,180].map(function(e,t){return Math.round(e+(a[t]-e)*s)})}else{var c=(o-.5)/.5;t=a.map(function(e,t){return Math.round(e+(l[t]-e)*c)})}var u="rgb(".concat(t[0],", ").concat(t[1],", ").concat(t[2],")"),d=t,f=(0,Q.Z)(d,3);return{backgroundColor:u,color:(.299*f[0]+.587*f[1]+.114*f[2])/255>.5?"#000000":"#ffffff"}}({min:l[0],max:l[1],value:e.value})),{},{textAlign:"right",paddingRight:"8px",fontFamily:"monospace",cursor:"pointer",fontSize:o.typography.fontSize})}},tM=function(e){var t=e.data,n=e.normalizeColor,r=e.xColumn,i=e.yColumn,o=e.muiTheme;if(!t)return[];var a=t||{},l=a.xLabels,s=a.xStats,c=a.yStats,u=a.allStats,d=null==l?void 0:l.map(function(e){return tI(tI({},tR({xLabel:e,xColumn:r,allStats:u,muiTheme:o})),{},{headerStyle:{paddingLeft:"8px"},cellStyle:tE({xLabel:e,xStats:s,yStats:c,normalizeColor:n,muiTheme:o,allStats:u})})});return[{headerName:i,headerStyle:{paddingLeft:"8px"},pinned:"left",field:tD.wH,colId:tD.wH,lockPosition:!0,flex:1,cellRenderer:tC},tI(tI({headerName:"rowTotal",headerStyle:{paddingLeft:"8px"},maxWidth:200,field:"rowTotal",pinned:"right",flex:1,lockPosition:!0,colId:"rowTotal"},(0,ty.MO)(o)),{},{cellRenderer:(0,ty.S6)({min:0,max:u.sum,isPercent:!1,muiTheme:o})})].concat((0,eb.Z)(d))},tT=n(81476),tF=function(){return(0,f.jsx)(R.we,{title:"Heatmap Settings",children:(0,f.jsx)(th.Z,{settingKey:"heatmapNormalizeColor"})})},tN=n(5395),tG=l.memo(function(e){(0,i.Z)(e);var t=(0,a.I0)(),n=(0,a.v9)(function(e){return e.settings.heatmapXColumn}),r=(0,a.v9)(function(e){return e.settings.heatmapYColumn}),o=function(){t(tD.Mx.actions.setShouldRefresh())};return(0,f.jsxs)(tn.Z,{children:[(0,f.jsx)(e4,{settingKey:"heatmapXColumn",label:"X column",onValueChange:o,showStats:"left",columnSelector:e7}),(0,f.jsx)(k.Pi,{icon:(0,f.jsx)(tN.Z,{}),onClick:function(){t((0,e2.V)({heatmapXColumn:r,heatmapYColumn:n})),o()},iconSize:"large"}),(0,f.jsx)(e4,{settingKey:"heatmapYColumn",label:"Y column",onValueChange:o,showStats:"right",columnSelector:e7}),(0,f.jsx)(I.Z,{sqlKey:"heatMap"}),(0,f.jsx)(tF,{})]})});function tL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tL(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}b.O3h.registerModules([b.ea9]);var tB=l.memo(function(){var e=(0,a.I0)(),t=(0,N.q4)(),n=t.data;t.loading,t.error;var i=(0,l.useMemo)(function(){return(null==n?void 0:n.rowData)||[]},[n]),o=(0,l.useMemo)(function(){var e,t;return[tH(tH({},O().mapValues((null==n?void 0:n.xStats)||{},function(e){return{cnt:e.sum}})),{},(t={isPinned:!0},(0,r.Z)(t,tD.wH,"columnTotal"),(0,r.Z)(t,"rowTotal",null==n?void 0:null===(e=n.allStats)||void 0===e?void 0:e.sum),t))]},[n]),c=(0,l.useRef)(),u=(0,B.Z)({noCellPadding:!0}),d=(0,eA.Z)(),m=(0,a.v9)(function(e){return e.settings.heatmapXColumn}),x=(0,a.v9)(function(e){return e.settings.heatmapYColumn}),p=(0,a.v9)(function(e){return e.settings.heatmapNormalizeColor}),h=(0,a.v9)(function(e){return e.viewing.heatmapColumnSort});(0,l.useEffect)(function(){e(tD.Mx.actions.setShouldRefresh())},[m,x,e]);var g=(0,l.useMemo)(function(){return tM({data:n,muiTheme:d,xColumn:m,yColumn:x,normalizeColor:p})},[n,d,m,x,p]),v=(0,l.useMemo)(function(){return{sortable:!0,filter:!1,resizable:!0,flex:1,minWidth:80,wrapHeaderText:!0,autoHeaderHeight:!0}},[]);(0,l.useEffect)(function(){if(n&&n.xLabels.length>0&&c.current&&c.current.api&&h){var e=h.byRow,t=h.order,r=function(){if("none"===t)return O().sortBy(n.xLabels);var r=[].concat((0,eb.Z)(i),(0,eb.Z)(o)).find(function(t){return t[tD.wH]===e}),a=O().map(n.xLabels,function(e){var t;return[(null==r?void 0:null===(t=r[e])||void 0===t?void 0:t.cnt)||0,e]}),l=O()(a).sortBy(function(e){return e[0]}).map(function(e){return e[1]}).value();return"desc"===t?O().reverse(l):"asc"===t?l:O().sortBy(n.xLabels)}();c.current.api.moveColumns(r,2)}},[h,n,i,o]);var j=(0,l.useCallback)(function(t){switch(t.column.colId){case tD.wH:case"rowTotal":return;default:var n=t.column.colId,r=t.data[tD.wH],i="".concat((0,tT.q)(m)," = ").concat((0,tT.M)(n)," AND ").concat((0,tT.q)(x)," = ").concat((0,tT.M)(r));e((0,P.dZ)(i)),e((0,E.h)({source:"Samples from heatmap"}));return}},[e,m,x]),b=(0,l.useCallback)(function(e){e.api.sizeColumnsToFit()},[]),w=(0,l.useCallback)(function(e){e.api.sizeColumnsToFit()},[]),Z=(0,l.useCallback)(function(e){e.api.sizeColumnsToFit()},[]);return n?(0,f.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[(0,f.jsx)(tG,{}),(0,f.jsx)(eG.hx,{children:(0,f.jsx)(y.s,{domLayout:"normal",ref:c,theme:u,onCellClicked:j,pinnedTopRowData:o,rowData:i,columnDefs:g,groupHeaderHeight:60,onRowDataUpdated:Z,defaultColDef:v,onGridReady:b,onGridSizeChanged:w})})]}):(0,f.jsx)(tG,{})});tB.displayName="HeatmapTable";var tz=n(45325),tK=function(){return(0,f.jsx)(R.we,{title:"Histogram Settings",children:(0,f.jsx)(T.Z,{settingKey:"histogramNumberOfBins"})})},tV=n(78454),tX=l.memo(function(e){var t=e.haveLasso;return(0,f.jsxs)(R.gm,{title:"Plotly Help",children:[(0,f.jsx)(eG.M$,{title:"Navigation in the figure"}),(0,f.jsxs)(tV.g,{children:[(0,f.jsx)(tV.I,{keys:["Scroll"],descriptions:["Zoom in and out of the histogram."]}),(0,f.jsx)(tV.I,{keys:["Drag"],descriptions:["Move the histogram along the draging direction."]}),(0,f.jsx)(tV.I,{keys:["Double Click"],descriptions:["Reset zoom to auto-fit."]})]}),(0,f.jsx)(eG.M$,{title:"Operations on data points"}),(0,f.jsxs)(tV.g,{children:[(0,f.jsx)(tV.I,{keys:["Hover"],descriptions:["See detailed information about the data point under the mouse cursor."]}),(0,f.jsx)(tV.I,{keys:["Click"],descriptions:["See samples of the clicked data point in Gallery."]}),void 0!==t&&t&&(0,f.jsx)(tV.I,{keys:["Drag circle"],descriptions:["If in lasso mode, select multiple data points by drawing a circle around them."]})]}),(0,f.jsx)(eG.M$,{title:"Operations on legend"}),(0,f.jsxs)(tV.g,{children:[(0,f.jsx)(tV.I,{keys:["Click"],descriptions:["Toggle on/off the associated data series."]}),(0,f.jsx)(tV.I,{keys:["Double Click"],descriptions:["Only show the associated data series, and turn off others."]})]})]})}),tJ=l.memo(function(){var e=(0,a.I0)(),t=function(){e(tz.S.actions.setShouldRefresh())};return(0,f.jsxs)(tn.Z,{children:[(0,f.jsx)(tX,{}),(0,f.jsx)(e4,{settingKey:"histogramBreakdownColumn",label:"Breakdown column",onValueChange:t,showStats:"left",allowEmpty:!0,columnSelector:e7}),(0,f.jsx)(e4,{settingKey:"histogramColumn",label:"HistogramColumn",onValueChange:t,showStats:"right",columnSelector:e6}),(0,f.jsx)(I.Z,{sqlKey:"histogram"}),(0,f.jsx)(tK,{})]})}),tq=n(2617),t_=n.n(tq),tU=t_()(function(){return n.e(476).then(n.bind(n,26476))},{loadableGenerated:{webpack:()=>[26476]},ssr:!1,loadableGenerated:{webpack:function(){return[26476]}}}),tW=l.memo(function(){var e=(0,a.I0)(),t=(0,l.useRef)(!0),n=(0,N.Oq)(),r=n.data,i=(n.loading,n.error);return(0,l.useEffect)(function(){t.current?t.current=!1:e(tz.S.actions.setShouldRefresh())},[e]),(0,f.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[(0,f.jsx)(tJ,{}),(0,f.jsxs)(s.Z,{sx:{flex:1,padding:2,width:"100%",height:"100%"},children:[r&&(0,f.jsx)(tU,{data:r}),i&&(0,f.jsx)(c.Z,{variant:"body2",color:"error",children:i})]})]})}),tY=n(94582),tA=n(91408),tQ=function(){var e=(0,a.I0)();return(0,f.jsxs)(R.we,{title:"Bubble Plot Settings",children:[(0,f.jsx)(T.Z,{settingKey:"bubblePlotMaxMarkerSize"}),(0,f.jsx)(T.Z,{settingKey:"bubblePlotOpacity"}),(0,f.jsx)(tA.Z,{sx:{my:1}}),(0,f.jsx)(e4,{settingKey:"bubblePlotBreakdownColumn",label:"Breakdown",onValueChange:function(){e(tY.X.actions.setShouldRefresh())},showStats:"none",allowEmpty:!0,columnSelector:e7})]})},t$=function(){var e=(0,a.I0)(),t=(0,a.v9)(function(e){return e.settings.bubblePlotXColumn}),n=(0,a.v9)(function(e){return e.settings.bubblePlotYColumn}),r=function(){e(tY.X.actions.setShouldRefresh())};return(0,f.jsxs)(tn.Z,{children:[(0,f.jsx)(tX,{haveLasso:!0}),(0,f.jsx)(e4,{settingKey:"bubblePlotXColumn",label:"X column",onValueChange:r,showStats:"left",columnSelector:e6}),(0,f.jsx)(k.Pi,{icon:(0,f.jsx)(tN.Z,{}),iconSize:"large",onClick:function(){e((0,e2.V)({bubblePlotXColumn:n,bubblePlotYColumn:t})),r()}}),(0,f.jsx)(e4,{settingKey:"bubblePlotYColumn",label:"Y column",onValueChange:r,showStats:"right",columnSelector:e6}),(0,f.jsx)(I.Z,{sqlKey:"bubblePlot"}),(0,f.jsx)(tQ,{})]})},t0=t_()(function(){return n.e(813).then(n.bind(n,43813))},{loadableGenerated:{webpack:()=>[43813]},ssr:!1,loadableGenerated:{webpack:function(){return[43813]}}}),t1=l.memo(function(){var e=(0,a.I0)(),t=(0,l.useRef)(!0),n=(0,N.fL)(),r=n.data;return n.loading,n.error,(0,l.useEffect)(function(){t.current?t.current=!1:e(tY.X.actions.setShouldRefresh())},[e]),(0,f.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[(0,f.jsx)(t$,{}),(0,f.jsx)(s.Z,{sx:{flex:1,padding:1,width:"100%",height:"100%"},children:r&&(0,f.jsx)(t0,{data:r})})]})}),t5=l.memo(function(e){var t=e.overridingColDefs,n=void 0===t?{}:t,r=(0,a.v9)(function(e){return e.filteredColumnStats}),i=(0,eA.Z)(),o=((0,N.YJ)()||{}).data,c=(0,a.v9)(function(e){return e.cardinality}),u=(0,l.useMemo)(function(){var e=(0,ea.E8)(o.initialOrder),t=O().map(o.initialOrder,function(t){var n,i,a=(null===(n=r[t])||void 0===n?void 0:n.data)||{},l=a.cnt_all,s=a.cnt_null,u=(null===(i=c[t])||void 0===i?void 0:i.data)||{},d=u.approxCntD,f=u.cntD;return{prefix_group:e[t],column_type:o.meta[t].duckdbType,column_name:t,distribution:null,null_percentage:s/l,approx_unique:(0,S.kX)(f,d)}});return O().sortBy(t,"prefix_group")},[r,o,c]),d=(0,l.useMemo)(function(){var e={prefix_group:{spanRows:!0},column_name:{rowDrag:!0,pinned:"left",cellStyle:{color:i.palette.text.primary}},distribution:{minWidth:200,sortable:!1,cellRenderer:function(e){return(0,f.jsx)(e8.Z,{name:e.data.column_name})}},null_percentage:{cellRenderer:(0,ty.S6)({min:0,max:100,isPercent:!0,muiTheme:i,bgColor:"gray"})},boxplot:{minWidth:160,sortable:!1,valueFormatter:function(e){return e.value},cellRenderer:function(e){return(0,f.jsx)(tj,{data:e.value,width:150})}}};return O().merge(e,n)},[n,i]),m=(0,l.useMemo)(function(){return{pagination:!1,rowDragManaged:!0,animateRows:!0,enableCellSpan:!0}},[]);if(!r||!o)return null;var x=O()(o.initialOrder).filter(function(e){return!o.meta[e].isPrimitive}).map(function(e){return[{text:e,sx:{}},{text:o.meta[e].duckdbType,sx:{color:"text.secondary",fontFamily:"monospace"}}]}).value();return(0,f.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"column",padding:1,height:"100%",gap:1,backgroundColor:"background.paper"},children:[x.length>0&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(eG.M$,{title:"Columns with non-primitive data types (distribution not shown)"}),(0,f.jsx)(eG.jg,{items:x.map(function(e){return(0,f.jsx)(eG.Qn,{segments:e},e)})})]}),(0,f.jsx)(eG.M$,{title:(0,f.jsx)(eG.oy,{text:"Columns with primitive data types",addon:(0,f.jsx)(I.Z,{sqlKey:"fltSummaryStats"})})}),(0,f.jsx)(tv.M,{initRowData:u,overridingColDefs:d,overridingGridOptions:m})]})}),t9=n(94480),t2=n(77142),t8=n(72655),t3=n(82751),t6=n(32227),t7=n(65006),t4=n(5490),ne="freeFormQuery",nt=l.memo(function(){var e,t,n=(0,a.I0)(),r=(0,a.v9)(function(e){return e.settings.mode}),i=(0,a.v9)(function(e){return e.dataFile.tableExpr}),o=(0,a.v9)(function(e){return e.sql[ne]})||{},u=(0,l.useState)((0,t3.WU)("SELECT * FROM ".concat(i," LIMIT 10"))),d=u[0],m=u[1],x=(e=(0,eO.Z)(eS().mark(function e(){return eS().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n((0,P.d2)(d)),e.next=3,(0,t4.Vn)({dispatch:n,key:ne,query:d});case 3:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)});return(0,f.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"column",gap:1,height:"100%"},children:[(0,f.jsx)(s.Z,{sx:{flex:1,overflow:"auto"},children:(0,f.jsx)(t9.ZP,{height:"100%",style:{height:"100%"},value:d,extensions:[(0,t2.i6)()],onChange:function(e){return m(e)},theme:"dark"===r?t8.vk:"light"})}),(0,f.jsxs)(s.Z,{sx:{height:50,px:1,flex:0,display:"flex",justifyContent:"flex-end",alignItems:"center",gap:1},children:[(0,f.jsx)(t7.Z,{status:null==o?void 0:o.status}),(null==o?void 0:o.runtime)&&(0,f.jsxs)(c.Z,{variant:"body1",children:["Runtime: ",null==o?void 0:null===(t=o.runtime)||void 0===t?void 0:t.toFixed(5)," seconds"]}),(0,f.jsx)(s.Z,{sx:{flex:1}}),(0,f.jsxs)(k.OO,{onClick:x,children:["Run ",(0,f.jsx)(t6.Z,{})]})]})]})}),nn=l.memo(function(){var e=(0,a.v9)(function(e){return e.sql[ne]})||{},t=e.data,n=e.loading,r=e.error;return n?(0,f.jsx)(d.Z,{}):r?(0,f.jsxs)(c.Z,{color:"error",children:["Error: ",r]}):t?(0,f.jsx)(tv.M,{initRowData:t}):(0,f.jsx)(x,{text:"No data"})}),nr=l.memo(function(e){return(0,i.Z)(e),(0,f.jsx)(tf,{top:(0,f.jsx)(nt,{}),bottom:(0,f.jsx)(nn,{})})});nr.displayName=ew.Z6.FreeFormSQL;var ni=n(69015),no=l.memo(function(e){(0,i.Z)(e),td();var t,n=(0,ts.useSearchParams)().get("filePath");(0,a.I0)(),(0,l.useEffect)(function(){if(n){var e=tu().basename(n);document.title=e}else document.title="TabularSliceDice"},[n]);var o=(0,a.v9)(function(e){return e.layout.presets[ew.fF]}),s=(t={},(0,r.Z)(t,ew.G7.MainTable,(0,f.jsx)(J,{})),(0,r.Z)(t,ew.G7.ColumnNavigation,(0,f.jsx)(eY,{})),(0,r.Z)(t,ew.G7.ColumnFilters,(0,f.jsx)(tx,{})),(0,r.Z)(t,ew.G7.Gallery,(0,f.jsx)(ti,{})),(0,r.Z)(t,ew.G7.RowDetails,(0,f.jsx)(ta,{})),(0,r.Z)(t,ew.G7.HeatMap,(0,f.jsx)(tB,{})),(0,r.Z)(t,ew.G7.Histogram,(0,f.jsx)(tW,{})),(0,r.Z)(t,ew.G7.BoxPlot,(0,f.jsx)(tO,{})),(0,r.Z)(t,ew.G7.BubblePlot,(0,f.jsx)(t1,{})),(0,r.Z)(t,ew.G7.DistributionSummary,(0,f.jsx)(t5,{})),(0,r.Z)(t,ew.G7.FreeFormSQL,(0,f.jsx)(nr,{})),(0,r.Z)(t,ew.G7.BrowseFolder,(0,f.jsx)(ni.default,{})),t);return(0,f.jsx)(j,{modelJson:o,tabComponents:s})});no.displayName=ew.Z6.TabularSliceDice;var na=no},44832:function(e,t,n){"use strict";function r(e){var t=e.nameList,n=void 0===t?[]:t,r=e.component,i=void 0===r?"":r,o=e.weight,a=void 0===o?50:o;return{type:"tabset",weight:a,id:"tabset-".concat(n.join("-")),children:n.map(function(e){var t,n,r,o;return n=(t={name:e,component:i,weight:a}).name,r=t.component,{type:"tab",name:n,weight:void 0===(o=t.weight)?50:o,id:"tab-".concat(n),component:r||n}})}}n.d(t,{SP:function(){return r},Yr:function(){return i}});var i={tabEnableFloat:!1,tabEnableRename:!1,tabSetHeaderHeight:16,splitterSize:4,keepComponentState:!0,tabEnableClose:!0,enableRenderOnDemand:!1}},15055:function(e,t,n){"use strict";n.d(t,{n:function(){return i}});var r=(0,n(98656).oM)({name:"dataFile",initialState:{filePath:null,fileFormat:null,tableExpr:null},reducers:{setDataFile:function(e,t){var n=t.payload,r=n.filePath,i=n.fileFormat;e.filePath=r,e.fileFormat=i,e.tableExpr="read_".concat(i,"('").concat(r,"')")}}}),i=r.actions.setDataFile;t.Z=r.reducer},8483:function(e,t,n){"use strict";n.d(t,{p8:function(){return d},wV:function(){return f}});var r,i=n(71921),o=n(98656),a=n(44832),l=n(58243),s=(r={},(0,i.Z)(r,l.fF,{layout:{type:"row",children:[(0,a.SP)({nameList:[l.G7.ColumnNavigation],weight:15}),{type:"row",weight:60,children:[(0,a.SP)({nameList:[l.G7.MainTable,l.G7.BubblePlot,l.G7.HeatMap,l.G7.Histogram,l.G7.BoxPlot],weight:50}),(0,a.SP)({nameList:[l.G7.Gallery,l.G7.DistributionSummary,l.G7.FreeFormSQL,l.G7.BrowseFolder],weight:30})]},(0,a.SP)({nameList:[l.G7.RowDetails,l.G7.ColumnFilters],weight:25})]}}),(0,i.Z)(r,l.HK,{layout:{type:"row",children:[(0,a.SP)({nameList:[l.G7.ColumnNavigation,l.G7.RowDetails,l.G7.ColumnFilters],weight:15}),{type:"row",weight:60,children:[(0,a.SP)({nameList:[l.G7.MainTable,l.G7.Histogram,l.G7.BubblePlot,l.G7.BoxPlot,l.G7.HeatMap],weight:50}),(0,a.SP)({nameList:[l.G7.Gallery,l.G7.DistributionSummary,l.G7.FreeFormSQL,l.G7.BrowseFolder],weight:50})]}]}}),(0,i.Z)(r,l.vb,{layout:{type:"row",children:[(0,a.SP)({nameList:[l.G7.Gallery,l.G7.RowDetails,l.G7.ColumnFilters],weight:50}),(0,a.SP)({nameList:[l.G7.Histogram,l.G7.BubblePlot,l.G7.BoxPlot,l.G7.HeatMap],weight:50})]}}),r),c=(0,o.oM)({name:"layout",initialState:{current:null,presets:s,target:null},reducers:{saveCurrentLayout:function(e,t){e.current=t.payload},setTargetLayout:function(e,t){e.target=t.payload}}}),u=c.actions,d=u.saveCurrentLayout,f=u.setTargetLayout;t.ZP=c.reducer},61906:function(e,t,n){"use strict";n.d(t,{h:function(){return j}});var r=n(98656),i=n(92633),o=n(37736),a=n(20619),l=n(75492),s=n(33311),c=n(58055),u=n(15055),d=n(4456),f=n(98358),m=n(41208),x=n(45325),p=n(94582),h=n(8483),g=n(83611),v={viewing:c.ZP,settings:i.Z,folderBrowser:f.ZP,dataFile:u.Z,sql:s.Z,columnMeta:o.ae.reducer,agColDefs:a.Kb.reducer,columnPreference:l.HW.reducer,rowData:o.It.reducer,baselineColumnStats:o.wL.reducer,filteredColumnStats:o.Kf.reducer,cardinality:o.kY.reducer,boxPlot:d.Z.reducer,heatMap:m.Mx.reducer,histogram:x.S.reducer,bubblePlot:p.X.reducer,layout:h.ZP,initSettings:o.uG.reducer,derivedColumns:g.ZP},j=(0,r.xC)({reducer:v,middleware:function(e){return e({serializableCheck:!1})}})}},function(e){e.O(0,[150,70,4,855,800,190,975,117,980,115,87,600,744],function(){return e(e.s=49103)}),_N_E=e.O()}]);